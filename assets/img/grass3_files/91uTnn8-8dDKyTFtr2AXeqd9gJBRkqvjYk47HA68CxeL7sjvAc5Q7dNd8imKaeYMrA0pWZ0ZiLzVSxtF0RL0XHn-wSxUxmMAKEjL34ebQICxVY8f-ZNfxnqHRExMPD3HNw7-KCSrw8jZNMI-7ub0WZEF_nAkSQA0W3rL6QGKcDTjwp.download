;/*FB_PKG_DELIM*/

__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){function d(b){if(b.done)return b.value;return!(h||(h=c("isPromise")))(b.value)?d(a.next(b.value)):b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}g.gen=a}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="\u2757"}c=function(){function a(a){var b=this;this.isSync=!1;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();e=function(){function a(){this.isSync=!0}var b=a.prototype;b.chainPromiseOrValue=function(a){return a("\u2757")};return a}();f=function(){function a(){this.isSync=!1,this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function b(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return d("ReStoreCommonUtils").gen(a.next(b,c))})}}}g.isNoopLockProof=a;g.WaitForPromiseLock=c;g.NoopLock=e;g.ReStoreOperationLock=f;g.lockIterator=b}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=function(a,b,c,e){var f=this;a=d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a.then(function(a){return a===void 0?void 0:d("ReStoreUtils").searchKey(f.$1,a)})};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["I64","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(){function a(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return g.$5(g.$3.chainPromiseOrValue(function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(d("ReStoreCommonUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()))).then(function(a){if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)})}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f}var b=a.prototype;b.$5=function(a){return this.$3.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(n.$ReStoreTransactionTable$p_14(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_13(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){return this.$ReStoreTransactionTable$p_5.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};c.$ReStoreTransactionTable$p_13=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_14=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function l(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function m(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function n(a,b,c,e,f,g,i){function j(){var k=a.table(c.name),l=babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?k.tableEntries(b,l):k.indexEntries(b,e,l);return k={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],i==null?b:i.afterEntriesNext({tableName:c.name,value:b})]}}},k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,k}return j()}function b(a,b,c,e,f,g){function i(){var j=a.table(c.name),k=j.keys(b,e,babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return j={next:function*(a,b){return yield* k.next(b)}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function e(a,b,c,e,f,g,h){a=a.table(c);g=d("ReStoreOperationLock").isNoopLockProof(g)?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise:Promise.resolve.bind(Promise);e!=null?e=g(d("ReStoreCommonUtils").gen(a.indexGet(b,e,f))):e=g(d("ReStoreCommonUtils").gen(a.tableGet(b,f)));return e.then(function(a){return a===void 0?void 0:h.afterGet({tableName:c,value:a})})}function o(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function p(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function q(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* r(a,b,c,e,f,g,h,i,k,m){function o(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,s=j.primaryKeyIds,v=f==null?s:p[f];s={gte:g,lte:o(g,v.length)};p=n(c,e,j,f,"asc",s);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(s of j){s[0];p=s[1];f=l(a.tableNames[d],p);if(h===void 0)yield* u(a,b,c,e,d,f,k),yield* r(a,b,c,e,d,f,void 0,i,k,m);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[v[c]]=h[c];return a},babelHelpers.extends({},p));yield* t(a,b,c,e,d,f,j,i,k,m);yield* r(a,b,c,e,d,f,l(a.tableNames[d],j),i,k,m)}}};for(p of p)yield* f(p)}function* s(a,b,c,e,f,g,h,k,n){var o=c.table(f),r=a.tableNames[f];if(r.autoIncrement){var s=g[r.primaryKeyIds[0]];s=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,s===void 0?s:p(s)));g[r.primaryKeyIds[0]]=s}s=l(r,g);var t={},u=(yield* o.tableGet(e,s)),y=g;u!==void 0?t=v(r,Object.keys(r.indexes),u):y=m(g,r.name,n);g=(yield* o.tableSet(e,s,y));var z=g[0];g=g[1];r=v(r,Object.keys(r.indexes),y);var A=babelHelpers.extends({},r);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* w(a,b,c,e,f,A,h,k,n);yield* x(c,e,f,z,g?r:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);q(b,f,s,u,y);return s}function* t(a,b,c,e,f,g,h,i,j,k){var m=l(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,m)||(yield* u(a,b,c,e,f,g,j));yield* s(a,b,c,e,f,h,i,j,k)}function* u(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=l(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);q(b,e,f,a,void 0)}}function v(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=l(a,c,d);b[d]=e;return b},{})}function* w(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var m=f[k];m=(yield* j.indexGet(d,k,m));if(m!=null){m=l(a.tableNames[e],m);yield* u(a,b,c,d,e,m,h);yield* r(a,b,c,d,e,m,void 0,g,h,i)}}}function* x(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,l){var m=d.table(i),o=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(o==null?void 0:o.indexes[a])!=null});if(p.length===0)return;j=n(d,e,o,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(l));while(!r.done){while(!r.done&&q.length<=k)q.push(r.value),r=(yield* j.next(l));for(var s of q){var t=s[0],u=s[1];u=v(g.tableNames[i],p,u);yield* w(g,a,d,e,i,u,f,l,h);t=c("nullthrows")(yield* m.getId(e,t));yield* x(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}var y="__internal__transaction_id";function z(a,b,e,f,g,h,i){var j=null,k=new(d("ReStoreOperationLock").NoopLock)(),l=new(d("ReStoreOperationLock").ReStoreOperationLock)(),m=i==null?void 0:i.qplFlow,n=new Map(),p=new Proxy((i={},i[y]=c("Random").uint32(),i.reportUsedTablesForSyncAccess=function(a){j=a&&a.every(function(a){return g.tablePermitsSynchronousIO(a)})&&j!==!1},i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,l,g,f,p,m,h,b)},i),{get:function(i,q){var r=q.split("::"),s=r[0],t=r[1];return!Object.prototype.hasOwnProperty.call(a.tableNames,s)?Reflect.get.apply(Reflect,arguments):o(n,q,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(s,a,e,j===!0&&t&&c("gkx")("2839")?k:l,g,f,p,m,h,b)})}});return p}function A(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=l;g.appendDefaultValues=m;g.entries=n;g.keys=b;g.getLocked=e;g.getOrCreate=o;g.cascadeKeyUpdatesLocked=r;g.putLocked=s;g.upsertLocked=t;g.deleteItemLocked=u;g.indicesWithKeyForValue=v;g.deconflictIndicesLocked=w;g.addIdToIndices=x;g.rebuildIndicesLocked=f;g.createReStoreTransaction=z;g.isPDB=A}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function p(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreCommonUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a.transaction,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(f===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield p(a,h,c,e,i)}yield l(a.transaction,b);yield n(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!0,g=!1,j;try{for(var k=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),l,l;l=(yield k.next()),f=l.done,l=(yield l.value),!f;f=!0){l=l;yield (h||(h=b("Promise"))).all(l.map(function(b){return c(b).then(a.put)}));e==null?void 0:e()}}catch(a){g=!0,j=a}finally{try{!f&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw j}}});return k.apply(this,arguments)}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),"int":c(b["int"]),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function c(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=(yield o.read(k)))==null?void 0:f.schemaVersion;g=(g=(yield p.read(k)))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.serializeTableData=a;g.runHashMigration=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("ReStorePersistedMetadata",["ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreCommonUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(JSON.stringify(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={},f=Object.keys(a);for(var g=0;g<f.length;g++){var h=f[g],i=a[h],j={},k={};for(var l in i.indexes)j[l]=i.indexes[l].fields,i.indexes[l].ignoreNulls.length>0&&(k[l]=d("ReStoreMetadata").createPredicate(i.indexes[l].ignoreNulls));c.tableNames[h]={autoIncrement:i.autoIncrement,cascadeUpdates:(l=b==null?void 0:b[h])!=null?l:[],indexes:j,indexPredicates:k,name:h,primaryKeyIds:i.primaryKey.fields};i.id!=null&&(c.tableIds[i.id]=h);Object.keys(i.defaults).length>0&&(e[h]=i.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var h=Object.freeze(babelHelpers["extends"]({},c,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers["extends"]({},h,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers["extends"]({},i,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers["extends"]({},j,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers["extends"]({},k,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers["extends"]({},l,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers["extends"]({},m,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers["extends"]({},n,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers["extends"]({},o,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers["extends"]({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers["extends"]({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers["extends"]({},r,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers["extends"]({},s,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers["extends"]({},t,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers["extends"]({},u,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers["extends"]({},v,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers["extends"]({},w,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers["extends"]({},x,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers["extends"]({},y,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers["extends"]({},z,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers["extends"]({},A,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers["extends"]({},B,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers["extends"]({},C,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers["extends"]({},D,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers["extends"]({},E,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers["extends"]({},F,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers["extends"]({},G,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers["extends"]({},H,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers["extends"]({},I,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers["extends"]({},J,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers["extends"]({},K,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers["extends"]({},L,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers["extends"]({},M,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:a.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers["extends"]({},N,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers["extends"]({},O,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers["extends"]({},P,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),R=Object.freeze(babelHelpers["extends"]({},Q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),S=Object.freeze(babelHelpers["extends"]({},R,{messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeHdMediaEnabled:!1,e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}}})),T=Object.freeze(babelHelpers["extends"]({},S,{media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}}})),U=Object.freeze(babelHelpers["extends"]({},T,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),V=Object.freeze(babelHelpers["extends"]({},U,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),W=Object.freeze(babelHelpers["extends"]({},V,{community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}}})),X=Object.freeze(babelHelpers["extends"]({},W,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Y=Object.freeze(babelHelpers["extends"]({},X,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),Z=Object.freeze(babelHelpers["extends"]({},Y,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),$=Object.freeze(babelHelpers["extends"]({},Z,{horizon_groups_key_mapping:{autoIncrement:!1,defaults:{},id:338,indexes:{},primaryKey:{fields:["threadKey","groupKey"],ignoreNulls:[]}}}));e=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:46,tables:$,upgrade:{1:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),2:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),3:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),4:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),5:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),6:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),7:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),8:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),9:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),10:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),11:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),12:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),13:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),14:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),15:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),16:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),17:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(x),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),18:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(y),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),19:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(z),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),20:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(A),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),21:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(B),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),22:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(C),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),23:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(D),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),24:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(E),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),25:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(F),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),26:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(G),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),27:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(H),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),28:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(I),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),29:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(J),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),30:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(K),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),31:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(L),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),32:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(M),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),33:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(N),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),34:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(O),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),35:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(P),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),36:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),37:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(R),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),38:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(S),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),39:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(T),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),40:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(U),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),41:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(V),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),42:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(W),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),43:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(X),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),44:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Y),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),45:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Z),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),46:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData($),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}()}});g.LSDbV1=e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:d("LSDbV1").LSDbV1},legacyVersions:{},versionOrder:["V1"]};g.LSDbVersion=a;g.Versions=e}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_messages_deduped:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_poll:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("LSDynamicDependencies",["Bootloader","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:1183","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=babelHelpers["extends"]({},b("cr:1183")),k={_tombstone:!0};function a(a){var e=new Map();for(a of a){var f=a.name;f!=null&&!n(f)&&e.set(f,c("nullthrows")(a.value))}if(e.size===0)return(i||(i=b("Promise"))).resolve();var g=new(i||(i=b("Promise")))(function(a){var f={},i=[],k=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;f[c]={be:1,r:[]};i.push(c);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",c);j[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return j[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var m of e)k(m);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),i,function(b){Array.from(e.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()})});return g}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function e(a,e,f){var g=new Map();for(a of(a=a)!=null?a:[]){n(a)||g.set(a,"LS"+m(a))}for(e of(a=e)!=null?a:[]){!n(e+".bs")?g.set(e+".bs","LS"+m(e)+".nop"):e+".nop"in j||g.set(e+".nop","LS"+m(e)+".nop")}for(e of(a=f)!=null?a:[]){e in j||g.set(e,"LS"+m(e))}if(g.size===0)return(i||(i=b("Promise"))).resolve();var p=new(i||(i=b("Promise")))(function(a,e){var f={},i=[],m=function(a){var c=a[0];a=a[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);f[a]={be:1,r:[]};i.push(a);j[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield p}catch(a){j[c]=k;throw a}return j[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var n of g)m(n);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});var q=l(c("Bootloader"),i,function(b){c("clearTimeout")(r),Array.from(g.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),r=c("setTimeout")(function(){q.remove(),e(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(g.keys())))},o)});return p}g.cachedModules=j;g.TOMBSTONE=k;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var e=a.prototype;e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e;(c=b.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null?void 0:e.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null?void 0:e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function c(b,c){return a.apply(this,arguments)}return c}();e.$4=function(a){var d=this,e=this.$2.versionOrder.indexOf(a);if(e===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return(h||(h=b("Promise"))).all(this.$2.versionOrder.slice(e,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a in d.$2.versions)return{meta:d.$2.versions[a],version:a};else if(a in d.$2.legacyVersions)return{meta:yield d.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",d.$1,a)});return function(b){return a.apply(this,arguments)}}()))};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null?void 0:f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null?void 0:f.addPoint(this.$1+"_migration_versioned_incremental");f=(yield this.$4(a));if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j;(j=e.loggers)==null?void 0:(j=j.logHistory)==null?void 0:j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");yield h.upgrade[i]==null?void 0:h.upgrade[i](e);yield h.afterUpgrade[i]==null?void 0:h.afterUpgrade[i](e.transaction);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function e(b,c,d){return a.apply(this,arguments)}return e}();e.$6=function(a,c,e,f,g){var i;(i=g.loggers.userFlow)==null?void 0:i.addPoint(this.$1+"_migration_versioned_hash_start");if(c===e&&a===f){(i=g.loggers.userFlow)==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(c=g.loggers)==null?void 0:(e=c.logHistory)==null?void 0:e.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return(h||(h=b("Promise"))).resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(a=g.loggers.userFlow)==null?void 0:a.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(f=g.loggers)==null?void 0:(i=f.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,g)}};e.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c,e;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=(yield g.read(a.storeTx));c=(c=(yield h.read(a.storeTx)))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null?void 0:e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{"int":{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null?void 0:e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null?void 0:e.debug("storeDefaultValuesVersion: "+((e=c)!=null?e:"null"));e=(yield i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null?void 0:c.debug("version is written")}(i=a.loggers.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_end");return e});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,d("LSDb").Versions,c("LSDbForeignKeys"));g.schemaProvider=a}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var c=a.prototype;c.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=(yield d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a));(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSVersionedSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(d("LSVersionedSchemaProvider").schemaProvider);g.buildSchema=a;g.schema=b}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("WAJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{clientThreadPk:a.clientThreadPk,jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",CLIENT_PARTIAL_MI_THREAD_WITH_ACT:"CLIENT_PARTIAL_MI_THREAD_WITH_ACT",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT});else return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return b!=null?babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT}):{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW};if(!d("MAWMiActPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE});else if(d("MAWMiActPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{miActThreadState:{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY},threadType:null}:{miActThreadState:k(f,a,e),threadType:(i||(i=d("LSIntEnum"))).unwrapIntEnum(f.threadType)}});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return p.apply(this,arguments)}function e(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield l(a,b,e));if(b.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW&&c!=null)return o(a,(j||(j=d("I64"))).of_string(c),"MAWBridgeOccamadilloVerifyThreadExistsHandler");else return b});return q.apply(this,arguments)}g.getThreadLifecycleStateByJid=l;g.getThreadLifecycleStateAndThreadType=a;g.getThreadLifecycleStateByThreadKey=o;g.getThreadLifecycleStateByJidOrThreadKey=e}),98);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter"});c=a;f["default"]=c}),66);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="ReStore DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","restore_db_closed");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","restore_db_closed")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&this.clearOwnKeys()}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null?void 0:a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null?void 0:a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null?void 0:a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null?void 0:a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null?void 0:a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null?void 0:a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null?void 0:b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null?void 0:b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null?void 0:b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null?void 0:b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null?void 0:a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}f.getMqttForegroundStatus=a;f.getUserAgent=b}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l,m){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),m===void 0&&(m=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l,this.$13=m}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){a.getInstance=function(b){n||(n=new a(b));return n};function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("LogJsspStatsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6181");b=d("FalcoLoggerInternal").create("log_jssp_stats",a);e=b;g["default"]=e}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){this.$1=d("MqttUtils").endpointWithSessionId(a,b),this.$3=b,this.$4=c,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.bumpCounter(k+"response_"+((h=h.topic)!=null?h:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b=0;b<a.length;b++){var c=a[b];this.$19.onPollResponse(c.topic);this.$8(c.topic,c.payload,c.qos)}};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("BaseCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BasePopoverReflowSheet.react","LayoutAnimationBoundaryContext","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(20),e=a.anchorRef,f=a.anchorRefOverride,g=a.anchorRootRefContext,h=a.animationContext,l=a.children,m=a.contextualLayerProps,n=a.imperativeRef,o=a.scrollableAreaContext;a=f===void 0?!1:f;f=c("useCometDisplayTimingTrackerForInteraction")("FDSCalloutManager");var p=c("useMatchViewport")("max","width",600)?c("BasePopoverReflowSheet.react"):i.Fragment,q;b[0]!==n.current||b[1]!==o?(q=function(){var a=o.map(k).filter(Boolean),b=function(){var a;return(a=n.current)==null?void 0:a.reposition()};if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",b,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",b,{passive:!0})})}}},b[0]=n.current,b[1]=o,b[2]=q):q=b[2];var r;b[3]!==n||b[4]!==o?(r=[n,o],b[3]=n,b[4]=o,b[5]=r):r=b[5];j(q,r);if(m==null||e==null)return null;b[6]!==p||b[7]!==e||b[8]!==a||b[9]!==l||b[10]!==m||b[11]!==n||b[12]!==f?(q=m!=null?i.jsx(p,{children:i.jsx(c("BaseContextualLayer.react"),{align:m.align,anchorRef:a?e:void 0,contextRef:e,disableAutoAlign:m.disableAutoAlign,disableAutoFlip:m.disableAutoFlip,imperativeRef:n,position:m.position,ref:f,reflowToPosition:p!==i.Fragment,children:l})}):null,b[6]=p,b[7]=e,b[8]=a,b[9]=l,b[10]=m,b[11]=n,b[12]=f,b[13]=q):q=b[13];b[14]!==g||b[15]!==q?(r=i.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:g,children:q}),b[14]=g,b[15]=q,b[16]=r):r=b[16];b[17]!==h||b[18]!==r?(p=i.jsx(c("LayoutAnimationBoundaryContext").Provider,{value:h,children:r}),b[17]=h,b[18]=r,b[19]=p):p=b[19];return p}function k(a){return a.getDOMNode()}g["default"]=a}),98);
__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"6243845039071039",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNotificationsBadgeCount.react",["fbt","CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","hero-tracing","react","react-compiler-runtime","setupNotificationsLiveQuery","unrecoverableViolation","updateWidgetServiceWorker","useMaybeZeroNotificationsBadgeCount"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var e=d("react-compiler-runtime").c(14),f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});f=f.viewer;if(f==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometNotificationsBadgeCountFragment_viewer.graphql"),f);var g=c("useMaybeZeroNotificationsBadgeCount")(f==null?void 0:f.notifications_unseen_count);f=a.isBadgeHidden;var k=a.overflow,n=a.setBadgeCount,o=d("CometRelay").useRelayEnvironment(),p;e[0]!==o?(a=function(){var a=c("setupNotificationsLiveQuery")(o);return function(){return a.dispose()}},p=[o],e[0]=o,e[1]=a,e[2]=p):(a=e[1],p=e[2]);m(a,p);e[3]!==g||e[4]!==n?(a=function(){n&&n(g),c("updateWidgetServiceWorker")()},p=[g,n],e[3]=g,e[4]=n,e[5]=a,e[6]=p):(a=e[5],p=e[6]);m(a,p);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx("span",{}),e[7]=a):a=e[7];e[8]!==g||e[9]!==f||e[10]!==k?(p=f!==!0&&g>0?l.jsx(d("hero-tracing").HeroPagelet,{name:"NotificationsBadge",children:function(a,b){return l.jsxs(l.Fragment,{children:[l.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__dtNCkhbask___JHASH__"),overflow:k,ref:a,testid:void 0,value:g}),l.jsx(b,{})]})}}):null,e[8]=g,e[9]=f,e[10]=k,e[11]=p):p=e[11];e[12]!==p?(f=l.jsx(c("CometPlaceholder.react"),{fallback:a,children:p}),e[12]=p,e[13]=f):f=e[13];return f}g["default"]=a}),226);
__d("CometRouterUIComponentsDefaultErrorRoot.react",["cr:12338","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:12338")}),98);
__d("CometTopNavTabBadge.react",["fbt","FDSNumberedBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(12),e=a.testid,f=a.value,g=a.isBadgeHidden,i=a.isTab,l=a.overflow,m=a.setBadgeCount,n;b[0]!==m||b[1]!==f?(a=function(){m==null?void 0:m(f)},n=[f,m],b[0]=m,b[1]=f,b[2]=a,b[3]=n):(a=b[2],n=b[3]);k(a,n);if(g===!0||f===0)return null;a=i===!0?"red":void 0;b[4]!==f?(n=h._(/*BTDS*/"__JHASH__5jZEFYK2eLW__JHASH__",[h._plural(f,"number")]),b[4]=f,b[5]=n):n=b[5];b[6]!==a||b[7]!==l||b[8]!==n||b[9]!==e||b[10]!==f?(g=j.jsx(c("FDSNumberedBadge.react"),{accessibilityText:n,color:a,overflow:l,testid:void 0,value:f}),b[6]=a,b[7]=l,b[8]=n,b[9]=e,b[10]=f,b[11]=g):g=b[11];return g}g["default"]=a}),226);
__d("FDSCalloutEdgeArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);return j.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(h||(h=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&j.jsx("title",{children:a.title}),b!=null&&j.jsx("defs",{children:b}),j.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutEdgeArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0}},l={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},m={end:{borderBottomEndRadius:"x5pf9jr",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderBottomStartRadius:"xo71vjh",marginBottom:"xieb3on",$$css:!0}},n={end:{borderTopEndRadius:"x13lgxp2",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderTopStartRadius:"x168nmei",marginTop:"x1sy10c2",$$css:!0}},o={end:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",left:null,right:null,$$css:!0}},p={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},q={end:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",left:null,right:null,$$css:!0}},r={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},s={end:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},t={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},u={end:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},v={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}};function w(a){if(a==="start")return"end";return a==="end"?"start":a}function a(a){var b,e=d("react-compiler-runtime").c(41),f,g,h,o,p,q,r,s;e[0]!==a?(g=a.children,q=a.disableAutoFocus,h=a.id,o=a.onClose,p=a.onOutsideClick,r=a.type,s=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=o,e[5]=p,e[6]=q,e[7]=r,e[8]=s):(f=e[1],g=e[2],h=e[3],o=e[4],p=e[5],q=e[6],r=e[7],s=e[8]);a=q===void 0?!1:q;q=r===void 0?"default":r;r=j(c("BaseContextualLayerOrientationContext"));var t=r.align;r=r.position;t=t==="stretch"?"start":t;r=r==="start"?"above":r==="end"?"below":r;var u=j(c("BaseContextualLayerContextSizeContext"));b=(b=j(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;var v;e[9]!==t||e[10]!==b?(v=b!==0?w(t):t,e[9]=t,e[10]=b,e[11]=v):v=e[11];t=v;u=(v=u==null?void 0:u.width)!=null?v:0;e[12]!==t||e[13]!==b||e[14]!==u?(v=z(t,u,b),e[12]=t,e[13]=b,e[14]=u,e[15]=v):v=e[15];b=v;u=c("useOnOutsideClick")(p);p=(v=h)!=null?v:void 0;h=a?void 0:d("focusScopeQueries").tabbableScopeQuery;v=l[q];a=r==="above"&&m[t];var x=r==="below"&&n[t],A;e[16]!==x||e[17]!==v||e[18]!==a||e[19]!==s?(A=[k.content,v,a,x,s],e[16]=x,e[17]=v,e[18]=a,e[19]=s,e[20]=A):A=e[20];e[21]!==g||e[22]!==u||e[23]!==A?(x=i.jsx(c("BaseRow.react"),{ref:u,xstyle:A,children:g}),e[21]=g,e[22]=u,e[23]=A,e[24]=x):x=e[24];e[25]!==t||e[26]!==r||e[27]!==q?(v=i.jsx(y,{align:t,position:r,type:q}),e[25]=t,e[26]=r,e[27]=q,e[28]=v):v=e[28];e[29]!==o||e[30]!==x||e[31]!==v?(a=i.jsxs(c("CometHideLayerOnEscape.react"),{onHide:o,children:[x,v]}),e[29]=o,e[30]=x,e[31]=v,e[32]=a):a=e[32];e[33]!==a||e[34]!==h?(s=i.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:h,children:a}),e[33]=a,e[34]=h,e[35]=s):s=e[35];e[36]!==f||e[37]!==b||e[38]!==s||e[39]!==p?(g=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:p,role:"dialog",style:b,xstyle:k.container,children:s})),e[36]=f,e[37]=b,e[38]=s,e[39]=p,e[40]=g):g=e[40];return g}var x=c("Locale").isRTL();function y(a){var b=d("react-compiler-runtime").c(8),e=a.align,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=f==="above"&&a==="default"&&(x?p[e]:o[e]),j=f==="above"&&a==="accent"&&(x?r[e]:q[e]),l=f==="below"&&a==="default"&&(x?t[e]:s[e]);f=f==="below"&&a==="accent"&&(x?v[e]:u[e]);b[0]!==h||b[1]!==j||b[2]!==l||b[3]!==f?(a=[k.arrow,h,j,l,f],b[0]=h,b[1]=j,b[2]=l,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx(c("FDSCalloutEdgeArrow.svg.react"),{fill:g,xstyle:a}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}function z(a,b,c){c=c===0?b/2:0;if(c===0)return void 0;if(a==="start")return{transform:"translateX("+(x?-1*c:c)+"px)"};return a==="end"?{transform:"translateX("+(x?c:-1*c)+"px)"}:void 0}g["default"]=a}),98);
__d("FDSCalloutInsetArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);return j.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(h||(h=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&j.jsx("title",{children:a.title}),b!=null&&j.jsx("defs",{children:b}),j.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutInsetArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0}},l={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},m={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginStart:"x1d52u69",$$css:!0}},n={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},o={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(38),f,g,h,n,o,q,s,t;e[0]!==a?(g=a.children,q=a.disableAutoFocus,h=a.id,n=a.onClose,o=a.onOutsideClick,s=a.type,t=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=n,e[5]=o,e[6]=q,e[7]=s,e[8]=t):(f=e[1],g=e[2],h=e[3],n=e[4],o=e[5],q=e[6],s=e[7],t=e[8]);a=q===void 0?!1:q;q=s===void 0?"default":s;s=j(c("BaseContextualLayerOrientationContext"));var u=s.align;s=s.position;u=u==="stretch"?"start":u;s=s==="start"?"above":s==="end"?"below":s;var v=j(c("BaseContextualLayerContextSizeContext"));b=(b=j(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;v=(v=v==null?void 0:v.width)!=null?v:0;var w;e[9]!==u||e[10]!==b||e[11]!==s||e[12]!==v?(w=r(u,s,v,b),e[9]=u,e[10]=b,e[11]=s,e[12]=v,e[13]=w):w=e[13];u=w;b=u[0];v=u[1];w=c("useOnOutsideClick")(o);o=(u=h)!=null?u:void 0;h=a?void 0:d("focusScopeQueries").tabbableScopeQuery;u=l[q];a=m[s];var x;e[14]!==u||e[15]!==a||e[16]!==t?(x=[k.content,u,a,t],e[14]=u,e[15]=a,e[16]=t,e[17]=x):x=e[17];e[18]!==g||e[19]!==w||e[20]!==x?(u=i.jsx(c("BaseRow.react"),{ref:w,xstyle:x,children:g}),e[18]=g,e[19]=w,e[20]=x,e[21]=u):u=e[21];e[22]!==v||e[23]!==s||e[24]!==q?(a=i.jsx(p,{arrowStyles:v,position:s,type:q}),e[22]=v,e[23]=s,e[24]=q,e[25]=a):a=e[25];e[26]!==n||e[27]!==u||e[28]!==a?(t=i.jsxs(c("CometHideLayerOnEscape.react"),{onHide:n,children:[u,a]}),e[26]=n,e[27]=u,e[28]=a,e[29]=t):t=e[29];e[30]!==t||e[31]!==h?(g=i.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:h,children:t}),e[30]=t,e[31]=h,e[32]=g):g=e[32];e[33]!==f||e[34]!==b||e[35]!==g||e[36]!==o?(w=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:o,role:"dialog",style:b,xstyle:k.container,children:g})),e[33]=f,e[34]=b,e[35]=g,e[36]=o,e[37]=w):w=e[37];return w}function p(a){var b=d("react-compiler-runtime").c(7),e=a.arrowStyles,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=n[f];a=a==="accent"&&o[f];b[0]!==h||b[1]!==a?(f=[k.arrow,h,a],b[0]=h,b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==g||b[5]!==f?(h=i.jsx(c("FDSCalloutInsetArrow.svg.react"),{fill:g,style:e,xstyle:f}),b[3]=e,b[4]=g,b[5]=f,b[6]=h):h=b[6];return h}var q=c("Locale").isRTL();function r(a,b,c,d){var e=Math.max(c/2-8,16)+Math.abs(d),f=c/2-8<16;c=24-c/2;if(b==="above")if(a==="start"){var g;b=q?"right":"left";return[f?{transform:"translateX("+(q?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){b=q?"left":"right";return[f?{transform:"translateX("+(q?-c:c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else{var h;b=q?"left":"right";g=(q?-d:d)-8;return[void 0,(h={},h[b]="calc(50% + "+g+"px)",h)]}else if(a==="start"){b=q?"right":"left";return[f?{transform:"translateX("+(q?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){h=q?"left":"right";return[f?{transform:"translateX("+(q?-c:c)+"px)"}:void 0,(b={},b[h]="min(calc(100% - 32px), "+e+"px)",b)]}else{g=q?"left":"right";a=(q?-d:d)-8;return[void 0,(f={},f[g]="calc(50% + "+a+"px)",f)]}}g["default"]=a}),98);
__d("FDSCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BasePopoverReflowSheetContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometHideLayerOnEscape.react","FDSCalloutEdge.react","FDSCalloutInset.react","FDSIcon.react","FDSTextPairing.react","FocusRegionStrictMode.react","fbicon","focusScopeQueries","react","react-compiler-runtime","unrecoverableViolation","useOnOutsideClick","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;var m={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},crossoutButton:{marginEnd:"xcud41i",marginTop:"x9otpla",$$css:!0},fitContent:{width:"xeq5yr9",$$css:!0},item:{paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}},n={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},o={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginStart:"xsgj6o6",$$css:!0},start:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(66),e=a.arrowStyle,f=a.calloutID,g=a.content,j=a.contentID,q=a.disableAutoFocus,r=a.onClose,s=a.onHide,t=a.onOutsideClick,u=a.onShow,v=a.titleID,w=a.type,x=a.xstyle,y=a.addOn,z=a["aria-label"],A=a.hasCloseButton;a=a.title;e=e===void 0?"none":e;q=q===void 0?!1:q;w=w===void 0?"default":w;A=A===void 0?!0:A;var B=l(c("BaseContextualLayerOrientationContext"));B=B.position;var C=c("useOnOutsideClick")(t),D=l(c("BasePopoverReflowSheetContext"));D=D.isReflowSheet;var E;b[0]!==s||b[1]!==u?(E={onHidden:s,onVisible:u},b[0]=s,b[1]=u,b[2]=E):E=b[2];s=c("useVisibilityObserver")(E);u=w==="default"?"primary":"white";if(B==="end"&&(e==="inset"||e==="edge"))throw c("unrecoverableViolation")('"end" position with arrow is not supported yet',"comet_ui");b[3]!==z||b[4]!==j||b[5]!==a||b[6]!==v?(E=a!=null?{"aria-describedby":j,"aria-labelledby":v}:{"aria-describedby":j,"aria-label":z},b[3]=z,b[4]=j,b[5]=a,b[6]=v,b[7]=E):E=b[7];z=E;E=z;b[8]!==u||b[9]!==g||b[10]!==j||b[11]!==a||b[12]!==v?(z=k.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:u,bodyId:j,headline:a,headlineColor:u,headlineId:v,isSemanticHeading:!0,level:3}),b[8]=u,b[9]=g,b[10]=j,b[11]=a,b[12]=v,b[13]=z):z=b[13];b[14]!==z||b[15]!==s?(u=k.jsx(c("BaseRowItem.react"),{expanding:!0,ref:s,verticalAlign:"center",xstyle:m.item,children:z}),b[14]=z,b[15]=s,b[16]=u):u=b[16];b[17]!==A||b[18]!==r||b[19]!==w?(g=A&&k.jsx(c("BaseRowItem.react"),{xstyle:[m.crossoutButton,m.item],children:k.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"__JHASH__cCrSTii9yXy__JHASH__"),color:w==="default"?"secondary":"white",focusable:!0,icon:d("fbicon")._(i("478232"),16),onPress:r,size:16})}),b[17]=A,b[18]=r,b[19]=w,b[20]=g):g=b[20];b[21]!==g||b[22]!==u?(j=k.jsx(c("CometColumnItem.react"),{children:k.jsxs(c("BaseRow.react"),{children:[u,g]})}),b[21]=g,b[22]=u,b[23]=j):j=b[23];b[24]!==y?(a=y!=null&&k.jsx(c("CometColumnItem.react"),{paddingTop:12,children:k.jsx(c("BaseRow.react"),{children:k.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:m.item,children:y})})}),b[24]=y,b[25]=a):a=b[25];b[26]!==j||b[27]!==a?(v=k.jsxs(c("CometColumn.react"),{children:[j,a]}),b[26]=j,b[27]=a,b[28]=v):v=b[28];z=v;if(!D&&e==="inset"){b[29]!==E||b[30]!==f||b[31]!==z||b[32]!==q||b[33]!==r||b[34]!==t||b[35]!==w||b[36]!==x?(s=k.jsx(c("FDSCalloutInset.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[29]=E,b[30]=f,b[31]=z,b[32]=q,b[33]=r,b[34]=t,b[35]=w,b[36]=x,b[37]=s):s=b[37];return s}if(!D&&e==="edge"){b[38]!==E||b[39]!==f||b[40]!==z||b[41]!==q||b[42]!==r||b[43]!==t||b[44]!==w||b[45]!==x?(A=k.jsx(c("FDSCalloutEdge.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[38]=E,b[39]=f,b[40]=z,b[41]=q,b[42]=r,b[43]=t,b[44]=w,b[45]=x,b[46]=A):A=b[46];return A}u=(g=f)!=null?g:void 0;y=q?void 0:d("focusScopeQueries").tabbableScopeQuery;j=n[w];a=e==="none"&&o[B];v=D&&m.fitContent;b[47]!==j||b[48]!==a||b[49]!==v||b[50]!==x?(s=[m.content,j,a,x,v],b[47]=j,b[48]=a,b[49]=v,b[50]=x,b[51]=s):s=b[51];b[52]!==z||b[53]!==C||b[54]!==s?(t=k.jsx(c("BaseRow.react"),{ref:C,xstyle:s,children:z}),b[52]=z,b[53]=C,b[54]=s,b[55]=t):t=b[55];b[56]!==r||b[57]!==t?(A=k.jsx(c("CometHideLayerOnEscape.react"),{onHide:r,children:t}),b[56]=r,b[57]=t,b[58]=A):A=b[58];b[59]!==y||b[60]!==A?(f=k.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:y,children:A}),b[59]=y,b[60]=A,b[61]=f):f=b[61];b[62]!==E||b[63]!==u||b[64]!==f?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:p,children:k.jsx(c("BaseView.react"),babelHelpers["extends"]({},E,{id:u,role:"dialog",xstyle:m.container,children:f}))}),b[62]=E,b[63]=u,b[64]=f,b[65]=g):g=b[65];return g}function p(){return k.jsx("div",{})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSCalloutImpl.react",["BaseCalloutImpl.react","FDSCallout.react","FDSCalloutContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.calloutID,f=a.calloutProps,g=a.contentID,h=a.titleID,k=j(c("FDSCalloutContext"));if(k==null||f==null)return null;var l,m,n;b[0]!==f?(m=f.disableOutsideClick,n=f.onClose,l=babelHelpers.objectWithoutPropertiesLoose(f,["disableOutsideClick","onClose"]),b[0]=f,b[1]=l,b[2]=m,b[3]=n):(l=b[1],m=b[2],n=b[3]);b[4]!==k||b[5]!==e||b[6]!==n?(f=function(){k.removeCallout(e),n==null?void 0:n()},b[4]=k,b[5]=e,b[6]=n,b[7]=f):f=b[7];var o;b[8]!==k||b[9]!==e||b[10]!==m||b[11]!==n?(o=function(){m!==!0&&(k.removeCallout(e),n==null?void 0:n())},b[8]=k,b[9]=e,b[10]=m,b[11]=n,b[12]=o):o=b[12];var p;b[13]!==e||b[14]!==l||b[15]!==g||b[16]!==f||b[17]!==o||b[18]!==h?(p=i.jsx(c("FDSCallout.react"),babelHelpers["extends"]({},l,{calloutID:e,contentID:g,onClose:f,onOutsideClick:o,titleID:h})),b[13]=e,b[14]=l,b[15]=g,b[16]=f,b[17]=o,b[18]=h,b[19]=p):p=b[19];b[20]!==a||b[21]!==p?(l=i.jsx(c("BaseCalloutImpl.react"),babelHelpers["extends"]({},a,{children:p})),b[20]=a,b[21]=p,b[22]=l):l=b[22];return l}g["default"]=a}),98);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=a.get(b);d!=null&&(d.portablePlaceContainer=null);return c("removeFromMap")(a,b)}a=c("emptyFunction");function i(a){return a.unlinkedAtTimestampMs!==null}var j=1e4;b=function(){function a(a){var b=this;this.$1=function(c){var d=function(a){return c(b.$2(a))};a(d)}}var b=a.prototype;b.addOrUpdatePlace=function(a){var b=this,d=a.coreVideoPlayerMetaData,e=a.fullscreenController,f=a.implementations,g=a.injectCoreVideoStatesRef,j=a.isFullscreen,k=a.portablePlaceContainer,l=a.portablePlaceID,m=a.portablePlaceMetaData,n=a.portableVideoID,o=a.renderComponents,p=a.renderPlaceholder,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.viewportMarginsForViewability;this.$1(function(a){var t,u=b.getPortableVideoState(a,n),v=(t=a.places.get(l))!=null?t:null;t=v!=null&&!i(v)?v.sequenceNumber:a.placesSequenceNumberNext;var w=t===a.placesSequenceNumberNext?a.placesSequenceNumberNext+1:a.placesSequenceNumberNext,x=m||{},y=a.places;if(n!=null){var z=b.getPlacesBorrowingThisVideo(y,n);z.forEach(function(a){i(a)&&a.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(y=h(y,a.portablePlaceID))})}y=c("addToMap")(y,l,babelHelpers["extends"]({},v,{coreVideoPlayerMetaData:d,currentVideoID:n,fullscreenController:e,implementations:f,injectCoreVideoStatesRef:g,isFullscreen:j,portablePlaceContainer:k,portablePlaceID:l,portablePlaceMetaData:x,renderComponents:o,renderPlaceholder:(z=p)!=null?z:null,sequenceNumber:t,trackingDataEncrypted:q,trackingNodes:r,unlinkedAtTimestampMs:null,viewportMarginsForViewability:s}));x=v!==null&&n===null?v.currentVideoID:null;z=a.videos;if(x!==null){t=b.getPlacesBorrowingThisVideo(y,x);t=0===t.length;t&&(z=c("removeFromMap")(a.videos,x))}if(n!==null){t=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:u,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:y,videoID:n});x=t.nextPreviousPlaceMetaData;z=c("addToMap")(z,n,u?babelHelpers["extends"]({},u,{portableVideoID:n,previousPlaceMetaData:x}):{portableVideoID:n,preferredPlaceID:null,previousPlaceMetaData:x})}return y===a.places&&w===a.placesSequenceNumberNext&&z===a.videos?a:babelHelpers["extends"]({},a,{places:y,placesSequenceNumberNext:w,videos:z})})};b.removePlace=function(a){var b=this,d=a.portablePlaceID,e=Date.now();this.$1(function(a){var f;f=(f=a.places.get(d))!=null?f:null;var g=f!==null?f.currentVideoID:null;if(f===null)return a;var i=a.places,j=g!==null?b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(i,g)).filter(function(a){return a.portablePlaceID!==d}):[];g!==null&&j.length===0?i=c("addToMap")(i,d,babelHelpers["extends"]({},f,{unlinkedAtTimestampMs:e})):i=h(i,d);j=a.videos;if(g!==null){f=b.getPlacesBorrowingThisVideo(i,g);f=0===f.length;if(f)j=c("removeFromMap")(j,g);else{f=b.getPortableVideoState(a,g);var k=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:f,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:i,videoID:g}),l=k.nextPreviousPlaceMetaData;k=k.shouldUpdatePreviousPlaceMetaDataForVideo;f!=null&&k&&(j=c("addToMap")(j,g,babelHelpers["extends"]({},f,{portableVideoID:g,previousPlaceMetaData:l})))}}return i===a.places&&j===a.videos?a:babelHelpers["extends"]({},a,{places:i,videos:j})})};b.setPreferredPlaceForVideo=function(a){var b=this,d=a.portablePlaceID,e=a.portableVideoID;this.$1(function(a){var f=b.getPortableVideoState(a,e),g=d!=null?a.places.get(d):null,h=b.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:g,existingVideoState:f,places:a.places,preferredPlaceID:d,setPreferredPlaceForVideo:!0,updatedPlaces:a.places,videoID:e});h=h.nextPreviousPlaceMetaData;f=f!=null?c("addToMap")(a.videos,e,babelHelpers["extends"]({},f,{preferredPlaceID:g!=null&&d!=null?d:null,previousPlaceMetaData:h})):a.videos;return f===a.videos?a:babelHelpers["extends"]({},a,{videos:f})})};b.getPlacesBorrowingThisVideo=function(a,b){var c=[];a.forEach(function(a){a.currentVideoID===b&&c.push(a)});return c};b.skipUnlinkedPlaces=function(a){return a.filter(function(a){return!i(a)})};b.selectCurrentPlaceFromThesePlaces=function(a,b){var c;a=a.slice().sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});c=(c=a.find(function(a){return a.portablePlaceID===b}))!=null?c:null;a=a.length>0?a[a.length-1]:null;return(c=(c=c)!=null?c:a)!=null?c:null};b.getCurrentPlaceStateForVideo=function(a,b){var c=this.getPortableVideoState(a,b);if(c!=null&&b!=null){a=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(a.places,b)),c.preferredPlaceID);return(b=a)!=null?b:null}else return null};b.getPortableVideoState=function(a,b){if(b!=null){a=a.videos.get(b);return(b=a)!=null?b:null}return null};b.updatePreviousPlaceMetaDataInfoForVideo=function(a){var b=this,c=a.existingPlaceStateForSetPreferredPlaceForVideo,d=a.existingVideoState,e=a.places,f=a.preferredPlaceID,g=a.setPreferredPlaceForVideo,h=a.updatedPlaces,i=a.videoID;a=function(a,c){return b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a,i)),(a=c)!=null?a:null)};var j=a(e,d==null?void 0:d.preferredPlaceID);g?g=c!=null?a(e,f):null:g=a(h,d==null?void 0:d.preferredPlaceID);e=j!=null&&(j==null?void 0:j.portablePlaceID)!==((c=g)==null?void 0:c.portablePlaceID);return{nextPreviousPlaceMetaData:e&&j!=null?j.portablePlaceMetaData:(f=d==null?void 0:d.previousPlaceMetaData)!=null?f:null,shouldUpdatePreviousPlaceMetaDataForVideo:e}};b.collectGarbage=function(){this.$1(function(a){return a})};b.$2=function(a){var b=Date.now(),d=new Set(),e=a.places;a.places.forEach(function(a){a.unlinkedAtTimestampMs!==null&&b-a.unlinkedAtTimestampMs>=j?e=h(e,a.portablePlaceID):a.currentVideoID!==null&&d.add(a.currentVideoID)});var f=a.videos;a.videos.forEach(function(a){d.has(a.portableVideoID)||(f=c("removeFromMap")(f,a.portableVideoID))});return e===a.places&&f===a.videos?a:babelHelpers["extends"]({},a,{places:e,videos:f})};return a}();g.isUnlinkedGlobalVideoPortsPlace=i;g.UNLINKED_PLACE_TIMEOUT_MS=j;g.GlobalVideoPortsManager=b}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={errorRaw:null},c.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{errorRaw:a}};var c=b.prototype;c.componentDidCatch=function(a,b){b=this.props.onError;b!=null&&b(a)};c.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.errorRaw;return c!=null?typeof a==="function"?a(b):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("everySet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(!b.call(c,f[1],f[0],a))return!1;e=d.next()}return!0}f["default"]=a}),66);
__d("equalsSet",["everySet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.size!==b.size?!1:c("everySet")(a,function(a){return b.has(a)})}g["default"]=a}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOM","equalsSet","react","react-compiler-runtime","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function n(a,b,e,f,g){var h=d("react-compiler-runtime").c(6),i=l(null),j;h[0]!==b||h[1]!==e||h[2]!==f||h[3]!==g||h[4]!==a?(j=function(){var d,h=i.current;d=new Set((d=a.map(o))!=null?d:[]);if(h==null||!c("equalsSet")(h,d)){i.current=d;h=b.current;d=e.current;h!=null&&f(h);d!=null&&g(d)}},h[0]=b,h[1]=e,h[2]=f,h[3]=g,h[4]=a,h[5]=j):j=h[5];k(j)}function o(a){return a.portablePlaceID}function a(a){var b=a.globalVideoPortsManager,e=a.globalVideoPortsState,f=a.thisVideoID;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var g=a[0],i=l(null),k=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),o=(a=e.videos.get(f))!=null?a:null,p=b.getPlacesBorrowingThisVideo(e.places,f);a=p.length<=0;e=a?null:b.selectCurrentPlaceFromThesePlaces(p,o?o.preferredPlaceID:null);var q=a?null:b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(p),o?o.preferredPlaceID:null);b=function(a){k.current=a,p.forEach(function(b){b=b.injectCoreVideoStatesRef.current;b&&b(i.current,a)})};var r=function(){return null},s=function(a){i.current=a,p.forEach(function(a){a=a.injectCoreVideoStatesRef.current;a&&a(i.current,k.current)})};n(p,k,i,b,s);return a?null:j.jsxs(j.Fragment,{children:[d("ReactDOM").createPortal(e?j.jsx(c("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:r,onError:s,children:j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:e.coreVideoPlayerMetaData,currentPlaceID:e.portablePlaceID,currentVideoID:f,fullscreenController:e.fullscreenController,implementations:e.implementations,isFullscreen:e.isFullscreen,onCoreVideoStatesChanged:b,previousPlaceMetaData:(a=o==null?void 0:o.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:e.trackingDataEncrypted,trackingNodes:e.trackingNodes,viewportMarginsForViewability:e.viewportMarginsForViewability})}):null,g),p.map(function(a){var b;return d("ReactDOM").createPortal(a.portablePlaceID===(q==null?void 0:q.portablePlaceID)?j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:g}):j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(b=q==null?void 0:q.portablePlaceID)!=null?b:null,currentVideoID:f,previousPlaceMetaData:(b=o==null?void 0:o.previousPlaceMetaData)!=null?b:null,renderPlaceholder:a.renderPlaceholder,thisPlaceID:a.portablePlaceID,videoPixelsAspectRatio:(b=a.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?b:null}),a.portablePlaceContainer)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(3),e=a.setGlobalVideoPortsManager,f;b[0]!==e?(a=function(){var a=k;e(a)},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);j(a,f);var g=[],h=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),l=d("GlobalVideoPortsContexts").useGlobalVideoPortsState();h&&l&&l.videos.forEach(function(a,b){g.push(i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:h,globalVideoPortsState:l,thisVideoID:b})},b))});return i.jsx(i.Fragment,{children:g})}function k(a){return new(d("GlobalVideoPortsManager").GlobalVideoPortsManager)(a)}g["default"]=a}),98);
__d("LSPlatformClientDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred");b=a;g["default"]=b}),98);
__d("LSPlatformClientSingleton",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("LSPlatformClientInstances",["ExecutionEnvironment","FBLogger","LSLocalize","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWMIC","MessengerLogHistory","PromiseAnnotate","asyncToGeneratorRuntime","cr:2831","getErrorSafe","maybeSetupMAWMainThreadLogger","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b("LSLocalize");var k=d("MessengerLogHistory").getInstance("client_init"),l=(j||(j=c("LSSuspense"))).makeCollection(),m=!1;function a(a,e,f){d("MAWMIC").startMAWMICFlow();m||(k.debug("[Occamadillo] Beginning hardcoded init sync"),m=!0,d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger());d("LSPlatformArmadilloUtils").reportInitStart();var g=function(a){a=c("getErrorSafe")(a);k.debug("Initializing LSPlatformClient failed");d("LSPlatformLsInitLog").fail("client_setup_failure",a);d("MAWMIC").fail("client_setup_failure",a);c("FBLogger")("ls_web_init").catching(a).warn("LSPlatformClient initialization failure");throw a};return(j||(j=c("LSSuspense"))).getFromCollection(l,a,function(){return(h||(h=d("PromiseAnnotate"))).setDisplayName(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addAnnotations({bool:{canUseDOM:(i||(i=c("ExecutionEnvironment"))).canUseDOM,fromReact:f==null?void 0:f.fromReact},string:{configAppId:a.appId,configPlatformName:a.platformName}});k.debug("Messenger loading UI suspending");try{var h=b("cr:2831")!=null?yield b("cr:2831").maybeEvaluateInitSyncEagerly(a):!1;h=e(a,{didEvaluateInitSyncEagerly:h}).then(function(a){d("LSPlatformLsInitLog").addPoint("start_client");return a.start().then(function(){k.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton").saveInstance(a);d("LSPlatformArmadilloUtils").reportInitEnd();return a})});if(c("qex")._("520"))void h["catch"](g);else return yield h}catch(a){g(a)}finally{k.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","cr:6495","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:b("cr:6495")!=null&&i.jsx(b("cr:6495"),{})}),a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");f=c("gkx")("20836")?a.Fragment:(e=b("cr:3921"))!=null?e:a.Fragment;d=f;g["default"]=d}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MAWCondSetup.react"),{}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MAWSetupWrapperOnce.react"),{setupComponent:e,children:a}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("LSPlatformClientProvider.react",["CometDOMOnlyBoundary.react","CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformErrorsCatcher.react","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a,b){var e=d("react-compiler-runtime").c(3);if(e[0]!==a||e[1]!==b){var f=(h||(h=c("LSSuspense"))).getOrSuspend(a);f=c("LSPlatformClientInstances").getOrInit(f,b,{fromReact:!0});e[0]=a;e[1]=b;e[2]=f}else f=e[2];return f}function m(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.config;a=a.loadLSPlatformClient;e=l(e,a);b[0]!==c||b[1]!==e?(a=e!=null?k.jsx((i||(i=d("ReStoreProvider.react"))).ReStoreProvider,{db:e.db,children:c}):c,b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(16),e=a.children,f=a.config,g=a.errorFallback,h=a.loadLSPlatformClient;a=a.placeholder;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("LSPlatformClientProviderAddons.react"),{}),b[0]=i):i=b[0];var j;b[1]!==e||b[2]!==a?(j=k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.UISuspense",children:e}),b[1]=e,b[2]=a,b[3]=j):j=b[3];b[4]!==f||b[5]!==h||b[6]!==j?(e=k.jsxs(m,{config:f,loadLSPlatformClient:h,children:[i,j]}),b[4]=f,b[5]=h,b[6]=j,b[7]=e):e=b[7];b[8]!==a||b[9]!==e?(i=k.jsx(c("MAWCondWrapper.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.ClientProvider",children:e})}),b[8]=a,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=k.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];h=f;b[14]!==h?(j=c("qex")._("3143")?k.jsx(c("CometDOMOnlyBoundary.react"),{children:h}):h,b[14]=h,b[15]=j):j=b[15];return j}g["default"]=a}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientDeferred","LSPlatformClientProvider.react","LSPlatformLsInitLog","asyncToGeneratorRuntime","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("LSPlatformLsInitLog").addPoint("load_ls_platform_client");d("LSPlatformLsInitLog").annotateModuleBootloaderState("lsModuleStateBefore");var e=(yield c("LSPlatformClientDeferred").load());d("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded");return e.make(a,b)});return k.apply(this,arguments)}function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.config,g=a.errorFallback;a=a.placeholder;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(c("LSPlatformClientProvider.react"),{config:f,errorFallback:g,loadLSPlatformClient:j,placeholder:a,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("LSPlatformCometTransportDeferred",["CurrentMessengerUser","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDedicatedMqttChannel").__setRef("LSPlatformCometTransportDeferred"),j=c("requireDeferred")("LSPlatformDGWTransport").__setRef("LSPlatformCometTransportDeferred"),k=c("requireDeferred")("LSPlatformMqttRealtimeTransport").__setRef("LSPlatformCometTransportDeferred");function a(){return(h||(h=b("Promise"))).all([k.load(),j.load(),i.load()]).then(function(a){var b=a[0],c=a[1].LSPlatformDGWTransport,e=a[2];return{dgw:c,mqtt:function(a,c){return b(a,c,{getInstance:e.getInstance(d("CurrentMessengerUser").isLoggedInNow),shutdownAndClear:e.shutdownAndClear})}}})}g["default"]=a}),98);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"9944623912245126",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery",["LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql");g.query=a}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","LSPlatformGraphQLLightspeedRequestQuery","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("CometRelay").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),d("LSPlatformGraphQLLightspeedRequestQuery").query,{deviceId:a,requestId:b,requestPayload:c,requestType:e}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request;if(a!=null)return babelHelpers["extends"]({dependencies:void 0},a)})}g["default"]=a}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=c("justknobx")._("1134"),m=c("justknobx")._("1135"),n=c("gkx")("24156");function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=k(null),f=k(!1),g;a[0]!==b.tables.pending_tasks?(g=function(){var a=b.tables.pending_tasks.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.pending_tasks).take(l)),function(a){var b=a.length;if(b===l){if(e.current!=null)return;e.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),f.current=!0,n&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",b,m)},m)}else c("clearTimeout")(e.current),f.current&&n&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),f.current=!1})});return function(){a()}},a[0]=b.tables.pending_tasks,a[1]=g):g=a[1];var i;a[2]!==b?(i=[b],a[2]=b,a[3]=i):i=a[3];j(g,i);return null}g["default"]=a}),98);
__d("LSPlatformMessengerConfig",["LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSSuspense","LSVersion","ServerAppID","cr:13002","cr:3234","cr:3239","getMWLSRegion","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;h=(h=b("cr:3239"))!=null?h:c("LSPlatformGraphQLLightspeedRequest");function a(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function e(){return b("cr:13002")().then(function(a){return function(b,d){return 3===b?a.dgw(c("LSVersion"),d):a.mqtt(c("LSVersion"),d)}})}function f(){return c("LSDatascriptEvaluatorMaybeDeferred")()}h={appId:c("ServerAppID").app_id,eagerEvaluatorForInitSync:b("cr:3234"),executeGraphQLLightSpeedRequest:c("gkx")("3889")?h:c("LSPlatformGraphQLLightspeedRequest"),getDb:a,getEval:f,platformName:"Messenger",realtimeUnderylingTransport:e,region:c("getMWLSRegion")(),schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};a=(i||(i=c("LSSuspense"))).makeWithValue(h);g.config=h;g.configEagerlyLoaded=a}),98);
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],kind:"ScalarField",name:"unseen_count",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBadgeCountQuery",selections:b},params:{id:"5218522061549416",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWJewelStopLoadingLogger",["QPLEvent","interaction-tracing","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect,k=c("qpl")._(30616158,"2565");function a(a,b){var e=d("react-compiler-runtime").c(4),f,g;e[0]!==a||e[1]!==b?(f=function(){b||c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(b){var c=b.getTrace();if(((c=c==null?void 0:c.completed)!=null?c:0)>0)return;b.getQPLEventMarkerId()===(i||(i=d("QPLEvent"))).getMarkerId(k)&&(b.addAnnotationInt("badgeCount",a),a===0&&b.forceCompleteTrace())})},g=[b,a],e[0]=a,e[1]=b,e[2]=f,e[3]=g):(f=e[2],g=e[3]);j(f,g)}g["default"]=a}),98);
__d("MWChatBadgeCount.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","HeroInteractionIgnoreWithDiv.react","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.react","cr:2290","hero-tracing","react","react-compiler-runtime","useMWJewelStopLoadingLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));f=j;var l=f.useEffect,m=f.useRef;function a(){return null}var n=(f=b("cr:2290"))!=null?f:a;function o(a){var e,f=d("react-compiler-runtime").c(12),g=a.overflow,j=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("MWChatBadgeCountQuery.graphql"),{suppress_xac_groups:!1},{fetchPolicy:"store-or-network"});e=((e=a.viewer)==null?void 0:(e=e.message_threads)==null?void 0:e.is_loading_client_threads)!==!1;a=(a=a.viewer)==null?void 0:a.message_threads;var n=a!=null&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.react").minSyncedThreads,a.unseen_count):0,o=m(null),p;f[0]!==n||f[1]!==j?(a=function(){j&&o.current!==n&&(o.current=n,j(n))},p=[n,j],f[0]=n,f[1]=j,f[2]=a,f[3]=p):(a=f[2],p=f[3]);l(a,p);c("useMWJewelStopLoadingLogger")(n,e);f[4]!==n||f[5]!==g?(a=n>0?k.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__XxoiYlTWwN7__JHASH__",[h._param("count",n)]),overflow:g,testid:void 0,value:n,vcIgnore:!0}):null,f[4]=n,f[5]=g,f[6]=a):a=f[6];f[7]!==e?(p=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MessengerBadgeLoadingHold",hold:e}),f[7]=e,f[8]=p):p=f[8];f[9]!==a||f[10]!==p?(g=k.jsxs(k.Fragment,{children:[a,p]}),f[9]=a,f[10]=p,f[11]=g):g=f[11];return g}function e(a){var b=d("react-compiler-runtime").c(7),e=a.overflow;a=a.setBadgeCount;var f=n(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("span",{}),b[0]=g):g=b[0];b[1]!==e||b[2]!==a?(g=k.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWChatBadgeCount",children:k.jsx(o,{overflow:e,setBadgeCount:a})}),b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==f||b[5]!==g?(e=k.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:k.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MSGR_JEWEL_BADGE",interactionUUID:f,pageletName:"MessengerJewelBadge",children:g})}),b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=e}),226);
__d("MWChatBadgeUpdaterImpl.react",["CometErrorBoundary.react","ExecutionEnvironment","FBLogger","cr:4562","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=c("FBLogger")("messenger_web_entrypoints");a!=null&&(b=b.catching(a));b.debug("Error loading MWChatBadgeCountUpdater")}function a(){var a=d("react-compiler-runtime").c(1),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=c("ExecutionEnvironment"))).canUseDOM?j.jsx(c("CometErrorBoundary.react"),{onError:k,children:b("cr:4562")&&j.jsx(b("cr:4562"),{})}):null,a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("MWChatHeadError.react",["fbt","ix","CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction","MWXIcon.react","MWXPressable.react","MWXTooltip.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={compose:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",$$css:!0},dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0}},m=h._(/*BTDS*/"__JHASH__1kKkUA_eanI__JHASH__");function a(a){var b=d("react-compiler-runtime").c(7),e=a.contextRef;a=a.onPress;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),g=k.jsx(c("CometHeroFailTrigger.react"),{description:"Error while loading chatheads",fail:!0}),b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h=a==null,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("502063"),24)}),b[2]=j):j=b[2];b[3]!==e||b[4]!==a||b[5]!==h?(f=k.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:f,children:[g,k.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:m,children:k.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:h,display:"inline",onPress:a,ref:e,xstyle:n,children:j})})]}),b[3]=e,b[4]=a,b[5]=h,b[6]=f):f=b[6];return f}function n(a){return[l.compose,l.dropShadow]}g["default"]=a}),226);
__d("MWChatDisabled.react",["MWChatHeadError.react","react","react-compiler-runtime","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.contextRef;a=a.onPress;var f=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),g;b[0]!==e||b[1]!==a||b[2]!==f?(g=f?i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c xixxii4"},{children:i.jsx("div",babelHelpers["extends"]({className:"x191j7n5 x92rtbv x10l6tqk"},{children:i.jsx(c("MWChatHeadError.react"),{contextRef:e,onPress:a})}))})):null,b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWV2Chat.react",["CometErrorBoundary.react","FBLogger","JSResourceForInteraction","LSDatabaseAfterInitSyncSingleton","LSDatabaseSingleton","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformMessengerConfig","MWChatDisabled.react","MWChatInteraction","MWXLazyPopoverTrigger.react","cr:11569","gkx","react","react-compiler-runtime","shouldHideChatOnAppsSubdomain"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useLayoutEffect;function m(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.warn("Error loading MWV2Chat")}var n=c("JSResourceForInteraction")("MWChatErrorStatePopover.react").__setRef("MWV2Chat.react"),o=function(a){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{error:a},popoverResource:n,position:"above",visibleOnLoad:!0,children:function(a,b){return j.jsx(c("MWChatDisabled.react"),{contextRef:a,onPress:b})}})},p=!c("gkx")("22788")||c("shouldHideChatOnAppsSubdomain")();function a(){var a=d("react-compiler-runtime").c(3),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[0]=e):e=a[0];l(r,e);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[1]=e):e=a[1];k(q,e);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:o,onError:m,children:p?j.jsx(c("MWChatDisabled.react"),{}):b("cr:11569")&&j.jsx(c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"),{config:d("LSPlatformMessengerConfig").configEagerlyLoaded,errorFallback:o,children:j.jsx(b("cr:11569"),{})})}),a[2]=e):e=a[2];return e}function q(){(p||b("cr:11569")==null)&&d("LSDatabaseAfterInitSyncSingleton").resolveInitSync((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton)}function r(){d("MWChatInteraction").addAutoChatTabMarkerPoint("mwv2_chat_rendered")}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","SearchCometTypeaheadEventEmitterContext","cr:2012305","react","react-compiler-runtime","useMergeRefs","useRefEffect","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef;f=i.forwardRef(a);function a(a,e){var f=d("react-compiler-runtime").c(13),g,h;f[0]!==a?(g=a.onChange,h=babelHelpers.objectWithoutPropertiesLoose(a,["onChange"]),f[0]=a,f[1]=g,f[2]=h):(g=f[1],h=f[2]);a=(a=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?a:{};var l=a.subscribeToGlobalTypeaheadFocus,m;f[3]!==g||f[4]!==l?(a=function(a){return l==null?void 0:l(function(){if(a==null)return;a.value="";a.focus();g("")})},m=[g,l],f[3]=g,f[4]=l,f[5]=a,f[6]=m):(a=f[5],m=f[6]);a=c("useRefEffect")(a,m);var n=k(null),o=k(!1),p;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(){var a=n.current;if(b("cr:2012305")!=null&&a!=null&&o.current===!1){b("cr:2012305").trackTypingPerf(a,"top_tab_serp_typeahead");o.current=!0;return function(){b("cr:2012305").unregisterTypingPerf(a),o.current=!1}}},p=[],f[7]=m,f[8]=p):(m=f[7],p=f[8]);j(m,p);m=c("useMergeRefs")(a,n);p=c("useMergeRefs")(m,e);f[9]!==p||f[10]!==g||f[11]!==h?(a=i.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},h,{onChange:g,ref:p})),f[9]=p,f[10]=g,f[11]=h,f[12]=a):a=f[12];return a}e=f;g["default"]=e}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return i(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(74),e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(y=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,u=a.onShiftTab,v=a.onTab,w=a.onUpArrow,z=a.traceProvider,q=a.onLeftArrow,t=a.onRightArrow,A=a.viewRole,e=a.inputRef,B=a.xstyles,x=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","onLeftArrow","onRightArrow","viewRole","inputRef","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q,b[13]=r,b[14]=s,b[15]=t,b[16]=u,b[17]=v,b[18]=w,b[19]=x,b[20]=y,b[21]=z,b[22]=A,b[23]=B):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12],r=b[13],s=b[14],t=b[15],u=b[16],v=b[17],w=b[18],x=b[19],y=b[20],z=b[21],A=b[22],B=b[23]);b[24]!==y?(a=y===void 0?{}:y,b[24]=y,b[25]=a):a=b[25];y=a;a=y.afterViewContent;y=y.beforeViewContent;var C=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();C=C.isOpened;var D=c("useCometInternalTypeaheadState")(),E=D.activeEntries,F=D.highlightedEntry;D=D.secondaryActionHighlighted;var G=c("useCometInternalTypeaheadFetch")();G=G.isLoading;e=c("useCometTypeaheadInputRefs")(e);var H=e.composedRef;e=e.inputRef;var I=c("useSearchCometGlobalTypeaheadStyles")();B=(B=B)!=null?B:I;I=c("useCometInternalTypeaheadHeroTracing")(z,k);z=I.interactionUUID;k=I.onTracedChange;var J=I.shouldHoldHeroTracing;I=I.vcTrackerRef;var K;b[26]!==h||b[27]!==j||b[28]!==l||b[29]!==m||b[30]!==n||b[31]!==o||b[32]!==p||b[33]!==q||b[34]!==r||b[35]!==s||b[36]!==t||b[37]!==u||b[38]!==v||b[39]!==k||b[40]!==w?(K={onAbandonTypeahead_DO_NOT_USE:h,onBlur:j,onChange:k,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onLeftArrow:q,onOutsideClick:r,onPressEntry:s,onRightArrow:t,onShiftTab:u,onTab:v,onUpArrow:w},b[26]=h,b[27]=j,b[28]=l,b[29]=m,b[30]=n,b[31]=o,b[32]=p,b[33]=q,b[34]=r,b[35]=s,b[36]=t,b[37]=u,b[38]=v,b[39]=k,b[40]=w,b[41]=K):K=b[41];b[42]!==e||b[43]!==K?(h={handlers:K,inputRef:e},b[42]=e,b[43]=K,b[44]=h):h=b[44];j=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[45]!==E||b[46]!==f||b[47]!==F||b[48]!==C||b[49]!==g||b[50]!==D||b[51]!==A?(l={activeEntries:E,helperText:f,highlightedEntry:F,inputLabel:g,isOpened:C,secondaryActionHighlighted:D,viewRole:A},b[45]=E,b[46]=f,b[47]=F,b[48]=C,b[49]=g,b[50]=D,b[51]=A,b[52]=l):l=b[52];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[53]!==J?(n=i.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:J}),b[53]=J,b[54]=n):n=b[54];b[55]!==a||b[56]!==m||b[57]!==y||b[58]!==G||b[59]!==C?(o={afterViewContent:a,ariaProps:m,beforeViewContent:y,helperTextComponent:null,isLoading:G,isOpened:C},b[55]=a,b[56]=m,b[57]=y,b[58]=G,b[59]=C,b[60]=o):o=b[60];b[61]!==H||b[62]!==j||b[63]!==g||b[64]!==x||b[65]!==o||b[66]!==A||b[67]!==B?(p=i.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},x,j,{extraLayoutProps:o,inputRef:H,label:g,viewRole:A,xstyles:B})),b[61]=H,b[62]=j,b[63]=g,b[64]=x,b[65]=o,b[66]=A,b[67]=B,b[68]=p):p=b[68];b[69]!==z||b[70]!==n||b[71]!==p||b[72]!==I?(q=i.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:z,ref:I,children:[n,p]}),b[69]=z,b[70]=n,b[71]=p,b[72]=I,b[73]=q):q=b[73];return q}g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24247")}g.hasTypeaheadRedirection=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","XCometSearchResultsControllerRouteBuilder","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface","useSearchCometResultsURLBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},a[0]=b):b=a[0];var e=c("useSearchCometResultsURLBuilder")(b),f=c("useSearchCometHashtagRouteUrlBuilder")(),g=c("useSearchCometResultsEntryPointSurface")();a[1]!==f||a[2]!==g||a[3]!==e?(b=function(a){var b=a.entry,h=a.queryString;a=a.typeaheadSessionID;var i=b.label.toLowerCase(),j=b.metaData;j=j==null?void 0:j.markers;var k=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(i);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&k!=null&&!j.has("see_all"))return f({entryPointAction:"SEARCH_BOX",exploreEntryPoint:h===""?3:4,hashtag:k,typeaheadSessionID:a});else{h=b.rawData;k=(k=c("searchCometTypeaheadGetStsDisambiguation")(b))!=null?k:void 0;if(b.subtype==="keyword"&&j.has("disambiguation")){h=(j=(j=h.structuredInfo)==null?void 0:(h=j.disambiguation_result)==null?void 0:h.disambiguation_info_list[0])!=null?j:{};j=h.link_url;if(j!=null){h=d("ConstUriUtils").getUri(j);if(h!=null){j=new Map();g!=null&&j.set("__eps__",g);k!==void 0&&j.set("__stsd__",c("Base64").encode(JSON.stringify(k)));var l=new Map();for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];l.set(p,o)}p=h.addQueryParams(l);if(p!=null)return p.toString()}}}return e({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(b),query:i,stsDisambiguation:k,typeaheadSessionID:a})}},a[1]=f,a[2]=g,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["react","react-compiler-runtime","useCometRouterDispatcher","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(10),e=a.entry;a=a.queryString;var f=c("useCometRouterDispatcher")(),g=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),h;b[0]!==g||b[1]!==e||b[2]!==a?(h=g({entry:e,queryString:a}),b[0]=g,b[1]=e,b[2]=a,b[3]=h):h=b[3];g=h;var j=g;b[4]!==f||b[5]!==j?(e=function(){f!=null&&f.preloadRouteCode(j)},a=[f,j],b[4]=f,b[5]=j,b[6]=e,b[7]=a):(e=b[6],a=b[7]);i(e,a);b[8]!==j?(h={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:j},b[8]=j,b[9]=h):h=b[9];g=h;return g}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadViewStrategy",["fbt","CometSearchTypeaheadBaseViewRecentEmptyState.react","react","searchCometTypeaheadSTSMappings","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo,l={view:{backgroundColor:"x1jx94hy",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1iofjn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){a=a.onHeaderActionPress;var b=k(function(){return[l.view]},[]),d=k(function(){return j.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})},[]);return c("useSearchCometTypeaheadViewListStrategy")({additionalEntryMappings:c("searchCometTypeaheadSTSMappings"),emptyStateContent:d,getLinkProps:c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"),isScrollable:!0,onHeaderActionPress:a,seeAllLabelBuilder:m,xstyle:b})}function m(a){return h._(/*BTDS*/"__JHASH__LChIaXBIwAT__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._(/*BTDS*/"__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a)])}))])}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6484597208256495"}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",["useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c},params:{id:b("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"),metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","react","react-compiler-runtime","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var e=d("react-compiler-runtime").c(3),f=a.bootstrapDatasource,g=d("CometRelay").useRelayEnvironment();e[0]!==f||e[1]!==g?(a={validate:function(a){a=c("filterNulls")(a.map(k));d("CometRelay").fetchQuery(g,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:j,next:function(a){a=a.search_client_cache_policy_check;for(var a=(a=a==null?void 0:a.policy_decision)!=null?a:[],b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d.cache_type,g=d.force_cache_refresh;d=d.ids_to_remove;if(e==="KEYWORD_BOOTSTRAP"){for(var e=d,d=Array.isArray(e),h=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;f.removeEntriesByEntID(i)}g===!0&&(f.clear(),f.bootstrap())}}}})}},e[0]=f,e[1]=g,e[2]=a):a=e[2];e=a;return e}function j(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}function k(a){if(a.subtype!=="bootstrap")return null;a=(a=a.rawData.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(15),e,f,g,h,j;c[0]!==b?(e=b.inputRef,f=b.onChange,g=b.onPressEntry,j=b.shouldQueryStringUpdateFromSelectedEntryOnClick,h=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5]);b=j===void 0?!1:j;c[6]!==f||c[7]!==g?(j=function(b,c){var a=b.metaData,d=b.subtype;a=a.markers;d=d==="recent"&&a.has("entity")||a.has("direct_nav");f(d?"":b.label);g==null?void 0:g(b,c)},c[6]=f,c[7]=g,c[8]=j):j=c[8];j=j;var k;c[9]!==e||c[10]!==j||c[11]!==f||c[12]!==h||c[13]!==b?(k=i.jsx(a,babelHelpers["extends"]({},h,{inputRef:e,onChange:f,onPressEntry:j,shouldQueryStringUpdateFromSelectedEntryOnClick:b})),c[9]=e,c[10]=j,c[11]=f,c[12]=h,c[13]=b,c[14]=k):k=c[14];return k}return b}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){function b(b){var e=b.inputRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef"]);e=c("useCometTypeaheadInputRefs")(e);var f=e.composedRef,g=e.inputRef;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var h=e.dispatchIsOpened,l=j(function(){g.current!=null&&(g.current.focus(),h(!0))},[g,h]);e=k(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",l)]},[l]);c("useGlobalKeyCommands")(e);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:f}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(13),e,f,g,h;c[0]!==b?(e=b.inputRef,f=b.onPressEntry,h=b.traceProvider,g=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","traceProvider"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h):(e=c[1],f=c[2],g=c[3],h=c[4]);c[5]!==f||c[6]!==h?(b=function(a,b){h&&h.setEndReason("successful_user_action"),f==null?void 0:f(a,b)},c[5]=f,c[6]=h,c[7]=b):b=c[7];b=b;var j;c[8]!==e||c[9]!==b||c[10]!==g||c[11]!==h?(j=i.jsx(a,babelHelpers["extends"]({},g,{inputRef:e,onPressEntry:b,traceProvider:h})),c[8]=e,c[9]=b,c[10]=g,c[11]=h,c[12]=j):j=c[12];return j}return b}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometTypeaheadErrorFallback.react","FBLogger","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","SearchCometTypeaheadLoggingContextProvider","XCometSearchResultsControllerRouteBuilder","emptyFunction","qex","react","react-compiler-runtime","requireDeferred","searchCometGlobalTypeahead.config","unrecoverableViolation","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometGlobalTypeaheadViewStrategy","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsURLBuilder","useSearchCometTypeaheadBootstrapValidation","useSearchCometTypeaheadLoggingProvider","useSearchCometTypeaheadRecentDataSourceContextDecorator","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.useRef,n=c("requireDeferred")("ODS").__setRef("SearchCometGlobalTypeahead.react"),o=(e=c("qex")._("7"))!=null?e:!1;function a(a){var b=d("react-compiler-runtime").c(73),e,f,g,i,t,u,v,w,x,y;b[0]!==a?(y=a.autoOpen,e=a.inputXStyle,g=a.onClose,i=a.onEscape,t=a.onFocus,u=a.onHeaderActionPress,v=a.onPressEntry,w=a.onSelectFreeformQuery,f=a.queryString,x=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","inputXStyle","onClose","onEscape","onFocus","onHeaderActionPress","onPressEntry","onSelectFreeformQuery","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=t,b[6]=u,b[7]=v,b[8]=w,b[9]=x,b[10]=y):(e=b[1],f=b[2],g=b[3],i=b[4],t=b[5],u=b[6],v=b[7],w=b[8],x=b[9],y=b[10]);a=y===void 0?!1:y;y=c("useCometTypeaheadStateQueryString")(f);var z=y[0];f=y[1];var A=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")();b[11]===Symbol["for"]("react.memo_cache_sentinel")?(y={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},b[11]=y):y=b[11];var B=c("useSearchCometResultsURLBuilder")(y),C=c("useSearchCometHashtagRouteUrlBuilder")();b[12]===Symbol["for"]("react.memo_cache_sentinel")?(y={tapPoint:"tap_search_bar"},b[12]=y):y=b[12];var D=c("useCometTypeaheadNavigate")(y),E=m(!1);y=c("useSearchCometGlobalTypeaheadNullStateDataSource")();var F;b[13]!==y?(F={config:c("searchCometGlobalTypeahead.config"),recentDataSource:y},b[13]=y,b[14]=F):F=b[14];var G=c("useSearchCometGlobalTypeaheadCompositeDataSource")(F);b[15]!==G?(y=G.getBootstrapKeywordsDataSource(),b[15]=G,b[16]=y):y=b[16];F=y;if(F==null)throw c("unrecoverableViolation")("Bootstrap datasource is missing","search");b[17]!==F?(y={bootstrapDatasource:F},b[17]=F,b[18]=y):y=b[18];F=c("useSearchCometTypeaheadBootstrapValidation")(y);var H=F.validate;b[19]!==H?(y=function(a){a=a.shownEntries;H(a)},b[19]=H,b[20]=y):y=b[20];var I=y;F=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext);y=F.logger;var J=F.onSessionStart,K=F.setSessionEndCallback;F=F.traceProvider;var L;L=y;F=F;var M;b[21]!==I?(M={context:"search_global",onSessionEnd:I},b[21]=I,b[22]=M):M=b[22];M=c("useSearchCometTypeaheadLoggingProvider")(M);c("useCometSearchTypeaheadTraceProvider")(y||M);l(function(){K(I)},[K,I]);if(L==null){L=M;n.onReady(r);throw c("FBLogger")("search").mustfix("Typeahead used without logger in context")}if(F==null)throw c("FBLogger")("search").mustfix("Typeahead used without traceProvider in context");y=c("useSearchCometTypeaheadRecentDataSourceContextDecorator")(G,!1);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(M={decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")},b[23]=M):M=b[23];b[24]!==y?(M=[y,M].filter(Boolean),b[24]=y,b[25]=M):M=b[25];y=M;M=y;var N;b[26]!==G?(y=function(){G.bootstrap()},N=[G],b[26]=G,b[27]=y,b[28]=N):(y=b[27],N=b[28]);l(y,N);b[29]!==t||b[30]!==J?(y=function(){E.current=!0,J(),t&&t()},b[29]=t,b[30]=J,b[31]=y):y=b[31];N=y;b[32]!==L||b[33]!==D||b[34]!==v||b[35]!==z||b[36]!==A?(y=function(a,b){var c;if(b===!0)return;b=a.metaData;b=b==null?void 0:b.markers;var d=b!=null&&b.has("entity");b=b!=null&&b.has("direct_nav");c=A({entry:a,queryString:z,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()});c=s(a,c,d,b);D(c);v==null?void 0:v(a)},b[32]=L,b[33]=D,b[34]=v,b[35]=z,b[36]=A,b[37]=y):y=b[37];L;y=y;var O;b[38]!==C||b[39]!==L||b[40]!==D||b[41]!==w||b[42]!==z||b[43]!==B?(O=function(a){var b=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&b!=null){b=C({entryPointAction:"SEARCH_BOX",exploreEntryPoint:z===""?3:4,hashtag:b,typeaheadSessionID:(b=L)==null?void 0:b.getSessionID()})}else{var c;b=B({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()})}D(b);w==null?void 0:w(a)},b[38]=C,b[39]=L,b[40]=D,b[41]=w,b[42]=z,b[43]=B,b[44]=O):O=b[44];L;O=O;var P;b[45]!==G||b[46]!==g?(P=function(){G.clearQueryCache(),g&&g()},b[45]=G,b[46]=g,b[47]=P):P=b[47];P=P;var Q=c("useStable")(q),R;b[48]===Symbol["for"]("react.memo_cache_sentinel")?(R=h._(/*BTDS*/"__JHASH___9EIWdQL4U5__JHASH__"),b[48]=R):R=b[48];R=R;var S=z==="";S=S?"grid":"listbox";var T;b[49]===Symbol["for"]("react.memo_cache_sentinel")?(T={bypassCacheRenderLimitCheck:o},b[49]=T):T=b[49];var U=x.inputEndContent,V;b[50]!==e?(V={hideIconOnFocus:!0,size:"large",xstyle:e},b[50]=e,b[51]=V):V=b[51];e=x.inputStartContent;var W;b[52]===Symbol["for"]("react.memo_cache_sentinel")?(W=h._(/*BTDS*/"__JHASH__oTSOcwn1bTU__JHASH__"),b[52]=W):W=b[52];var X=L,Y;b[53]!==u?(Y={onHeaderActionPress:u},b[53]=u,b[54]=Y):Y=b[54];u=c("useSearchCometGlobalTypeaheadViewStrategy")(Y);b[55]!==Q||b[56]!==a||b[57]!==G||b[58]!==P||b[59]!==N||b[60]!==y||b[61]!==O||b[62]!==i||b[63]!==x||b[64]!==z||b[65]!==f||b[66]!==M||b[67]!==V||b[68]!==X||b[69]!==u||b[70]!==F||b[71]!==S?(Y=j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:j.jsx(Q,babelHelpers["extends"]({},x,{autoOpen:a,dataSource:G,dataSourceFetchConfigParams:T,decorators:M,inputEndContent:U,inputExtraProps:V,inputStartContent:e,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:W,layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:X,onChange:f,onClose:P,onEscape:i,onFocus:N,onPressEntry:y,onSelectFreeformQuery:O,placeholder:R,queryString:z,testid:void 0,traceProvider:F,viewRole:S,viewStrategyRenderer:u}))}),b[55]=Q,b[56]=a,b[57]=G,b[58]=P,b[59]=N,b[60]=y,b[61]=O,b[62]=i,b[63]=x,b[64]=z,b[65]=f,b[66]=M,b[67]=V,b[68]=X,b[69]=u,b[70]=F,b[71]=S,b[72]=Y):Y=b[72];return Y}function p(){return j.jsx(c("CometTypeaheadErrorFallback.react"),{})}p.displayName=p.name+" [from "+f.id+"]";function q(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))))}function r(a){a.bumpEntityKey(354,"typeahead.missing_logger_context","focused")}function s(a,b,c,d){var e=a.rawData,f;if(e!=null&&a.subtype==="recent"&&c){f=e==null?void 0:(c=e.profile)==null?void 0:c.url}if(e!=null&&(a.subtype==="keyword"||a.subtype==="bootstrap"||a.subtype==="recent")&&d){f=e==null?void 0:(c=e.structuredInfo)==null?void 0:(a=c.direct_nav_result)==null?void 0:a.link_url}return(d=f)!=null?d:b}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("23433")||c("gkx")("23434");b=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;e=(h||(h=d("I64"))).of_int32(a&&c("qex")._("422")===!0?3:1);f=h.of_int32(0);g.syncParams=b;g.syncChannel=e;g.lastSyncTimestampMs=f}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("isSearchQualityEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3283")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("CurrentMessengerUser").getIDorEIMU();yield a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isInstamadillo","isSearchQualityEnabled","justknobx","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&k.add(95);e=c("justknobx")._("3638")||c("isInstamadillo")();f=c("justknobx")._("3637");var l=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();e=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("4246")?null:{groupId:28,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},e?{groupId:89}:null,f?{groupId:197}:null];var m=[].concat(e,[c("gkx")("10282")?null:{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),n=[].concat(e,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:26},{groupId:196},l,c("gkx")("24113")?{groupId:120,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,c("qex")._("136")?{groupId:208}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("5985")?{groupId:202}:null]).concat(c("gkx")("22843")?[{groupId:104,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:143},{groupId:142},{groupId:140},{groupId:141}]:[]);function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(j||(j=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||k.has(b.groupId))&&(yield a.network_requests.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups)));return new Map(a.map(function(a){return[(j||(j=d("LSIntEnum"))).toNumber(a.groupId),a]}))});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield q(a));function f(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);var f=e.get(c);f==null||k.has(c)?yield a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c)})):f!=null&&(f.syncParams!==b.syncParams||b.syncChannel!=null&&!(i||(i=d("I64"))).equal(f.syncChannel,b.syncChannel))&&(yield a.sync_groups.put(babelHelpers["extends"]({},f,{syncChannel:b.syncChannel!=null?b.syncChannel:f.syncChannel,syncParams:b.syncParams})))});return g.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&f(a)}))});return t.apply(this,arguments)}function u(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?m:n}function a(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=u(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield o(a,b);yield s(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return v.apply(this,arguments)}g.e2eeMetadataSyncGroup=l;g.igdSyncGroups=m;g.defaultSyncGroups=n;g.seedDb=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}var c=b.prototype;c.getTableName=function(){return this.tableName};return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("ReStoreEARSetupFailure",[],(function(a,b,c,d,e,f){"use strict";var g="Encryption keychain could not be setup",h="ReStoreEARSetupFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=g+": "+b;c=a.call(this,b)||this;c.message=b;c.name=h;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_MESSAGE=g;f.ERROR_NAME=h;f.ReStoreEARSetupFailure=a}),66);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(a,b,c,d,e,f){"use strict";a="ReStoreUnexpectedlyClosed";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=a;f.ReStoreUnexpectedlyClosed=b}),66);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","asyncToGeneratorRuntime","cr:10099","cr:10200","cr:10755","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8659","cr:8915","justknobx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:6218"))!=null?e:b("cr:10755"),k=(e=b("cr:7000"))!=null?e:b("cr:7351");function l(a){if(a instanceof c("ReStoreIndexedDbUpgradedEvent")&&j!=null&&c("justknobx")._("1410"))c("promiseDone")(j.killSharedWorker(!0,"ls_upgrade"));else if(a instanceof c("ReStoreIndexedDbClosedEvent")){a=a.getError();b("cr:8915")!=null&&a instanceof(b("cr:8915")==null?void 0:b("cr:8915").ReStoreDbVersionChange)?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&b("cr:10099")!=null?(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist(),c("LSPlatformErrorChannel").emit(a)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&b("cr:10099")!=null&&(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist())}}var m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?yield b("cr:8659")():yield b("cr:10200").createDB(l);a.debug("Connection established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=k==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[k.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":114");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),n;function a(){n==null&&(n=(h||(h=c("ExecutionEnvironment"))).isInBrowser?m():new(i||(i=b("Promise")))(function(){}));return n}g.get=a}),98);
__d("IntervalList",["FBLogger","ReQLBounds","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=0;while(f<a.length&&e.size){f++;var i=a.slice(0,f);f<b&&i.push((h||(h=d("ReStoreKeyComparer"))).MAX_KEY);i=e.get(JSON.stringify(i));if(i!=null)for(i of i)yield i}for(i of c.entries()){f=i[0];var j=i[1];c.has(f)&&g(a,j)&&(yield f)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("ReStorePersistence",["FBLogger","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},l=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),m=16,n=64,o=64,p=Math.floor(m/2),q=Math.floor(n/2),r=Math.floor(o/2);function s(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function t(a,b){b===void 0&&(b=j);return a===b}function u(a,b,c){var e=0,f=a.length-1;while(e<=f){var g=e+f>>1;(c[0]?(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<0:(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<=0)?e=g+1:f=g-1}g=[e,f][c[1]];return g===a.length?-1:g}var v=function(){function a(a,b,c,d,e,f){this.$2=b,this.$3=c,this.$1=a,this.$4=d,this.$5=e,this.$6=f}var b=a.prototype;b.$7=function(a){return a==null?"root":"index("+a+")"};b.$8=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!0,keys:[].concat(a.keys),nextId:a.nextId,prevId:a.prevId}})};b.$9=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!1,keys:[].concat(a.keys)}})};b.$10=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{headId:a.headId,rootId:a.rootId,tailId:a.tailId}})};b.$11=function(a,b){if(!a.length)return[0,0];var c=u(a,b,k.gte);if(c===-1)return[a.length,0];else if((i||(i=d("ReStoreKeyComparer"))).compareKey(a[c],b)===0)return[c,1];return[c,0]};b.$12=function*(a,b,d,e){var f=(yield* this.$13(a,b));f=f;b=b;var g=-1;while(!f.isLeaf){e==null?void 0:e.push([f,b,g]);if(f.keys==null){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("Encountered not leaf node without keys","messenger_web_product")}g=u(f.keys,d,k.gt);g===-1&&(g=f.keys.length);b=f.children[g];f=(yield* this.$13(a,b))}return[f,b,g]};b.$14=function*(a,b){this.$3();var d=this.$1.get(b);if(t(d))return void 0;if(d!==void 0)return d;d=this.$4.get(a,this.$2,b,this.$5);return(h||(h=c("isPromise")))(d)?yield d:d};b.$13=function*(a,b){a=(yield* this.$14(a,b));if(a===void 0){var d=this.$1.get(b);this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{deletedInThisTxn:t(d)?"true":"false",id:JSON.stringify(b)||""});throw c("unrecoverableViolation")("value not found","messenger_web_product")}return a};b.$15=function*(a,b){a=(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForNextId)))!=null?a:0;this.$1.set("nextId",a+1);this.$1.set(a,b);return a};b.$16=function(a,b){this.$3(),this.$1.set(a,b)};b.incrementSeed=function*(a,b){a=(a=(yield* this.$14(a,"seed")))!=null?a:0;if(b===void 0){this.$1.set("seed",a+1);return a}b>=a&&this.$1.set("seed",b+1);return b};b.readData=function*(a,b){return yield* this.$14(a,b)};b.$17=function*(a,b,c){b=(yield* this.$14(a,this.$7(b)));if(b==null)return;a=(yield* this.$12(a,b.rootId,c));b=a[0];a=u(b.keys,c,k.gte);if(a===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(b.keys[a],c)!==0)return;return b.children[a]};b.tableGet=function*(a,b){b=(yield* this.$17(a,void 0,b));if(b===void 0)return;return yield* this.$18(a,b)};b.$18=function*(a,b){return Array.isArray(b)?b[0]:yield* this.$13(a,b)};b.$19=function*(a,b,d,e){if(Array.isArray(b)){var f=(yield* this.$17(a,void 0,b));if(f==null){c("gkx")("3570")&&this.$6(d,e,this.$2);throw c("FBLogger")("messenger_web_product").mustfixThrow("Encountered value in index %s but not found in table %s",d,this.$2)}return yield* this.$18(a,f)}return yield* this.$13(a,b)};b.indexGet=function*(a,b,c){var d=(yield* this.$17(a,b,c));if(d==null)return;return yield* this.$19(a,d,b,c)};b.getId=function*(a,b){a=(yield* this.$17(a,void 0,b));return Array.isArray(a)?b:a};b.tableSet=function*(a,b,c){var d,e=this.$4.shouldInline(this.$2,c),f=this.$7(),g=(yield* this.$14(a,f));if(g==null){var h;e||(d=(yield* this.$15(a,c)));h={children:[(h=d)!=null?h:[c]],isLeaf:!0,keys:[b]};h=(yield* this.$15(a,h));this.$16(f,{headId:h,rootId:h,tailId:h});return[(h=d)!=null?h:b,!1]}h=[];var i=(yield* this.$12(a,g.rootId,b,h)),k=i[0];i=i[1];var l=this.$11(k.keys,b),m=l[0];l=l[1];var n=!1;if(l===1){var o=k.children[m];if(!Array.isArray(o)){n=!0;if(!e){this.$16(o,c);return[o,!1]}else this.$1.set(o,j)}}o=this.$8(k,i);e||(d=(yield* this.$15(a,c)));l===0&&o.keys.splice(m,0,b);o.children.splice(m,l,(k=d)!=null?k:[c]);yield* this.$20(a,o,i,h,g,f,!0);return[(m=d)!=null?m:b,l===1&&!(e&&!n)]};b.indexSet=function*(a,b,c,d){b=this.$7(b);var e=(yield* this.$14(a,b));if(e==null){var f={children:[d],isLeaf:!0,keys:[c]};f=(yield* this.$15(a,f));this.$16(b,{headId:f,rootId:f,tailId:f});return}f=[];var g=(yield* this.$12(a,e.rootId,c,f)),h=g[0];g=g[1];var i=this.$11(h.keys,c),j=i[0];i=i[1];if(i===1&&h.children[j]===d)return;h=this.$8(h,g);h.keys.splice(j,i,c);h.children.splice(j,i,d);yield* this.$20(a,h,g,f,e,b,!1)};b.$20=function*(a,b,c,d,e,f,g){b=b;var h;c=c;for(;b.keys.length>=(b.isLeaf?g?m:n:o);b=h,c=i){var i;i=(i=d.pop())!=null?i:[];h=i[0];i=i[1];i!=null?h=this.$9(h,i):(h={children:[c],isLeaf:!1,keys:[]},this.$10(e,f).rootId=(yield* this.$15(a,h)));var j=Math.floor(b.keys.length/2),k=void 0;if(b.isLeaf){var l={children:b.children.slice(j),isLeaf:!0,keys:b.keys.slice(j),nextId:b.nextId,prevId:c},p=k=b.nextId=(yield* this.$15(a,l));l=l.nextId;l?this.$8(yield* this.$13(a,l),l).prevId=p:this.$10(e,f).tailId=k}else k=(yield* this.$15(a,{children:b.children.slice(j+1),isLeaf:!1,keys:b.keys.slice(j+1)}));l=this.$11(h.keys,b.keys[j]);p=l[0];l=l[1];h.keys.splice(p,l,b.keys[j]);h.children.splice(p+1,0,k);b.keys.length=j;b.children.length=j+(b.isLeaf?0:1)}};b.tableDelete=function*(a,b){a=(yield* this.$21(a,void 0,b));if(a==null)return!1;Array.isArray(a)||(this.$3(),this.$1.set(a,j));return!0};b.indexDelete=function*(a,b,c){return(yield* this.$21(a,b,c))!=null};b.$21=function*(a,b,e){var f=this.$7(b),g=(yield* this.$14(a,f));if(g==null)return;var h=[],m=(yield* this.$12(a,g.rootId,e,h)),n=m[0],o=m[1];m=m[2];var s=this.$8(n,o),t=u(n.keys,e,k.gte);if(t===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(n.keys[t],e)!==0)return;n=s.children[t];s.keys.splice(t,1);s.children.splice(t,1);e=s;t=o;s=m;var v;for(;e.keys.length<(e.isLeaf?b==null?p:q:r)&&h.length;x=[m,v,o],e=x[0],t=x[1],s=x[2],x){o=h.pop();m=o[0];v=o[1];o=o[2];m=this.$9(m,v);var w=[[{nodeId:m.children[s-1]},{node:e,nodeId:t},s-1],[{node:e,nodeId:t},{nodeId:m.children[s+1]},s]].filter(function(b){var a=b[0];b=b[1];return a.nodeId!==void 0&&b.nodeId!==void 0});for(var x of w){var y=x[0],z=x[1],A=x[2],B=y.node=y.node||(yield* this.$13(a,y.nodeId)),C=z.node=z.node||(yield* this.$13(a,z.nodeId)),D=e.isLeaf?b==null?p:q:r;if(B.keys.length+z.node.keys.length>=D*2){if(e.isLeaf){var E=this.$8(B,y.nodeId),F=this.$8(C,z.nodeId),G=[].concat(E.children,F.children),H=[].concat(B.keys,C.keys);E.children=(F.children=G).splice(0,D);E.keys=(F.keys=H).splice(0,D);m.keys[A]=H[0]}else{G=this.$9(B,y.nodeId);E=this.$9(C,z.nodeId);F=[].concat(G.children,E.children);H=[].concat(G.keys,[m.keys[A]],E.keys);G.children=(E.children=F).splice(0,D+1);m.keys[A]=H.splice(D,1)[0];G.keys=(E.keys=H).splice(0,D)}return n}}for(B of w){y=B[0];C=B[1];z=B[2];if(e.isLeaf){F=this.$8(y.node,y.nodeId);A=this.$8(C.node,C.nodeId);F.children=[].concat(F.children,A.children);F.keys=[].concat(F.keys,A.keys);A.keys.length=0;G=A.nextId;if(G){E=this.$8(yield* this.$13(a,G),G);E.prevId=y.nodeId}else this.$10(g,f).tailId=y.nodeId;F.nextId=A.nextId}else{H=this.$9(y.node,y.nodeId);D=this.$9(C.node,C.nodeId);H.children=[].concat(H.children,D.children);H.keys=[].concat(H.keys,[m.keys[z]],D.keys)}m.keys.splice(z,1);m.children.splice(z+1,1);this.$1.set(C.nodeId,j);break}}w=(yield* this.$13(a,g.rootId));if(!w.keys.length&&w.children.length){if(w.isLeaf){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product")}this.$1.set(g.rootId,j);this.$10(g,f).rootId=w.children[0]}return n};b.btreeIterator=function(a,b,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function j(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function l(a){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?u(a.keys,h.gt,k.gt):Object.prototype.hasOwnProperty.call(h,"gte")?u(a.keys,h.gte,k.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?u(a.keys,h.lt,k.lt):Object.prototype.hasOwnProperty.call(h,"lte")?u(a.keys,h.lte,k.lte):a.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");var m,n=this;return{next:function*(e){var f,o;if(m==null){var p=(yield* n.$14(a,n.$7(b)));if(p==null)return{done:!0};var q=j();if(q!==void 0){q=(yield* n.$12(a,p.rootId,q));f=q[0];q=q[1]}else if(g==="asc"){var r=[yield* n.$13(a,p.headId),p.headId];f=r[0];q=r[1]}else{r=[yield* n.$13(a,p.tailId),p.tailId];f=r[0];q=r[1]}p=l(f)}else{r=m;p=r.i;o=r.key;q=r.nodeId;f=(yield* n.$14(a,q));if(e!=null){if((i||(i=d("ReStoreKeyComparer"))).compareKey(e,o)===(g==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","maw_db");if(f==null||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};r=(yield* n.$12(a,r.rootId,e));f=r[0];q=r[1]}p=u(f.keys,e,k[g==="asc"?"gte":"lte"])}else{if(f==null||p<0||p>=f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(f.keys[p],o)!==0){if(f==null||!f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};e=(yield* n.$12(a,r.rootId,o));f=e[0];q=e[1]}p=u(f.keys,o,k[g==="asc"?"lte":"gte"])}p+=g==="asc"?1:-1}}if(p<0||p>=f.keys.length)if(g==="asc"){if(f.nextId===void 0)return{done:!0};q=f.nextId;f=(yield* n.$13(a,q));p=0}else{if(f.prevId===void 0)return{done:!0};q=f.prevId;f=(yield* n.$13(a,q));p=f.keys.length-1}o=f.keys[p];m={i:p,key:o,node:f,nodeId:q};if(p<0||p>=f.keys.length)return{done:!0};r=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gte)<0;return r?{done:!0}:{done:!1,value:[f.keys[p],f.children[p]]}}}};b.tableEntries=function(a,b){b===void 0&&(b={});var c=this.btreeIterator(a,void 0,b),d=this;return{next:function*(b){b=(yield* c.next(b));if(b.done)return b;b=b.value;var e=b[0];b=b[1];b=(yield* d.$18(a,b));return{done:!1,value:[e,b]}}}};b.indexEntries=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c),e=this;return{next:function*(c){c=(yield* d.next(c));if(c.done)return c;c=c.value;var f=c[0];c=c[1];c=(yield* e.$19(a,c,b,f));return{done:!1,value:[f,c]}}}};b.keys=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c);return{next:function*(a){a=(yield* d.next(a));if(a.done)return a;a=a.value;a=a[0];return{done:!1,value:a}}}};b.clearIds=function*(a,b){this.$3();b=this.$7(b);var c=(yield* this.$14(a,b));this.$3();if(c==null)return;var d=(yield* this.$13(a,c.rootId));c=[{id:c.rootId,node:d}];while(c.length>0){d=c.shift();var e=d.id;d=d.node;if(!d.isLeaf)for(d of d.children){var f=(yield* this.$14(a,d));f!=null&&c.push({id:d,node:f})}this.$1.set(e,j)}this.$1.set(b,j)};b.readSeed=function*(a){return(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForSeed)))!=null?a:0};b.remove=function(a,b){this.$3(),this.$1.set(b,j)};b.writeData=function(a,b,c){this.$16(b,s(c))};b.writeNewData=function*(a,b){return yield* this.$15(a,s(b))};return a}(),w=function(){function a(a,b,e,f,g){var h=this;this.$2=new Map();this.$6=!1;this.$3=function(){if(h.$6){f==null?void 0:f.mark("transaction_closed");throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}e()};this.$4=b;this.$1=a;this.$5={get:function(a,c,e){var f=d("ReStoreUtils").getOrCreate(h.$1,c,function(){return new Map()});f=f.get(e);if(t(f))return void 0;return f!==void 0?f:b.get(a,c,e,"readwrite")},logError:b.logError,shouldInline:b.shouldInline};this.$7=g}var b=a.prototype;b.flush=function(){for(var a of this.$2){var b=a[0],c=a[1];b=d("ReStoreUtils").getOrCreate(this.$1,b,function(){return new Map()});for(c of c){var e=c[0],f=c[1];b.set(e,f)}}this.$6=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$2,a,function(){return new Map()}),a,this.$3,this.$5,"readwrite",this.$7)};return a}(),x=function(){function a(a,b,d,e){var f=this;this.$1=new Map();this.$2=!1;this.$7=function(){if(f.$2)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed: %s",f.$5)};this.$3=a;this.$4=b;this.types=a.types;this.$5=d;this.$6=e}var b=a.prototype;b.close=function(){this.$2=!0};b.flush=async function(a){a===void 0&&(a={upgrade:!1}),await this.$3.flush(this.$1,a),this.$2=!0};b.tablePermitsSynchronousIO=function(a){return(a=this.$3.permitsSynchronousIO==null?void 0:this.$3.permitsSynchronousIO(a))!=null?a:!1};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$1,a,function(){return new Map()}),a,this.$7,this.$3,this.$4,this.$6)};b.createNested=function(a){return new w(this.$1,this.$3,this.$7,a,this.$6)};return a}();function a(a){function b(b,e,f){c("promiseDone")(async function(){await a.runExclusively(function(){return Promise.resolve([async function(){var c=new x(a,"readwrite",void 0,function(){});await d("ReStoreCommonUtils").gen(c.table(f).indexDelete(new WeakMap(),b,e));await c.flush()},"readwrite"])},"fixBrokenIndex")}())}return{clearCache:a.clearCache,close:a.close,createTransaction:function(c,d){return new x(a,c,d,b)},isClosed:a.isClosed||function(){return!1},isPersistenceSupported:a.isPersistenceSupported,logError:a.logError,runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=t;g.ReStoreDbStoreTransaction=x;g.createDbStore=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new Map();function j(a){return i(g,a,function(){return new Map()})}return{flush:function(a){a.forEach(function(a,b){var c=j(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})});return(h||(h=b("Promise"))).resolve()},get:function(a,b,c){a=j(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},permitsSynchronousIO:function(a){return!0},queueCommitWork:void 0,runExclusively:function(a){var c=e==null?void 0:e.startTracking(!1);c==null?void 0:c.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}});return new(h||(h=b("Promise")))(function(d,e){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),f=b[0];b[1];try{d(yield f()),c==null?void 0:c.end()}catch(a){e(a),c==null?void 0:c.fail()}}))["catch"](function(a){e(a)})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:a}}g["default"]=a}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return c("createReStoreEphemeralPersistence")("LSEphemeral "+a,d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")))}g.createLSReStoreEphemeralPersistence=a}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeStart:b}})}function b(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeEnd:b}})}g.logMemoryForQPLStart=a;g.logMemoryForQPLEnd=b}),98);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBSMHydrationUtils","EBSMProperties","ExecutionEnvironment","FBLogger","I64","MAWLSDBEncryption","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","Promise","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WAExceededStorageQuota","WALoggerDeferred","WebSession","asyncToGeneratorRuntime","cr:7947","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] DB corruption detected - deleting EBSM db"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);o=function(){return a};return a}e=d("CurrentMessengerUser").getIDorEIMU();var p=c("ReStoreTabNotifier")==null?void 0:c("ReStoreTabNotifier")("mwChat-"+e),q=c("gkx")("23665"),r=null,s=!1,t=!1;function u(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){a===void 0&&(a=!1);var f=(k||(k=b("Promise"))).resolve(),g=new Map();function v(a){return u(g,a,function(){return new Map()})}var w=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:w,sessionTabId:d("WebSession").getId()}}});(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").START);d("QPLMemoryUtils").logMemoryForQPLStart(c("qpl")._(521481876,"1407"));function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield e);if(a==null)return;a=d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);return a.then(function(a){a.forEach(function(a,c){var e=v(c);a.forEach(function(a,b){e.set(b.key,b.value)});if(b("cr:7947")!=null&&(c==="secure_encrypted_backups_client_state"&&e.size>0)){c=(a=e.get(0))==null?void 0:a.backupId;a=(a=e.get(0))==null?void 0:a.deviceId;c!=null&&a!=null&&(j||(j=d("I64"))).isI64(c)&&(j||(j=d("I64"))).isI64(a)&&void b("cr:7947").fireAndForget("backend","addDeviceWithKeysInWorker",{backupId:c,deviceRegistrationId:d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),isAutoRestore:!1,previousDeviceId:a})}}),d("QPLMemoryUtils").logMemoryForQPLEnd(c("qpl")._(521481876,"1407")),c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407")),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").SUCCESS)},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("WALoggerDeferred").ERROR(l()),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").FAIL)})});return y.apply(this,arguments)}r=x();p==null?void 0:p.onEventReceive("flushChangesV2",function(a){var b=a.changeSet,c=a.sentinelDeleted;b.forEach(function(a,b){var e=v(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,c)?e["delete"](b):e.set(b,a)})})});return{flush:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){if(f.size===0)return;f.size>0&&f.forEach(function(a,b){a.size===0&&f["delete"](b)});if(f.size>0){f.forEach(function(a,b){var c=v(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)?c["delete"](b):c.set(b,a)})});p==null?void 0:p.postMessage("flushChangesV2",{changeSet:f,fromVersion:"",sentinelDeleted:d("ReStorePersistence").sentinelDeleted,version:""});if(a)return;var g=d("Random").uint32(),h=Array.from(f.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:h}},instanceKey:g});yield r;var i=(yield e);if(i==null)return;var j=i.transaction(i.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(j);h=new window.Promise(function(a,e){j.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:g}),a(b.target.result)},j.onerror=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,h=Array.from(f).map(function(a){a=a[0];return a}).join(", ");yield d("WALoggerDeferred").ERROR(o(),a==null?void 0:(b=a.target)==null?void 0:b.error,h);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(b=a.target)==null?void 0:b.error,{instanceKey:g});e(a)});return function(b){return a.apply(this,arguments)}}()});yield (k||(k=b("Promise"))).all(Array.from(f).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a[0];a=a[1];if(e!=null&&i.objectStoreNames.contains(e)){var f=j.objectStore(e);yield (k||(k=b("Promise"))).all(Array.from(a).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))yield c("promiseFromRequest")(f["delete"](b));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,e);yield c("promiseFromRequest")(f.put(a,b))}});return function(b){return a.apply(this,arguments)}}()))}else void d("WALoggerDeferred").ERROR(n(),e,Array.from(i.objectStoreNames).toString())});return function(b){return a.apply(this,arguments)}}()));yield h}});function g(a){return f.apply(this,arguments)}return g}(),get:function(a,c,d){var e=v(c);if(s)return e.get(d);return r==null?(k||(k=b("Promise"))).reject("rehydration is not complete"):r.then(function(){s=!0;return e.get(d)})},logError:function(a,b,e,f){(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR,a);if(e==="dbCorruption"){var g;(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,a);e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("WALoggerDeferred").ERROR(m());f="Got unexpected undefined in ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);g=c("EBSMProperties").mandatoryTables.has(a)||!q;b={bool:{fullDeletion:g},string:{mode:b,restoreUpsellTime:e,tableName:a}};e=d("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:b,instanceKey:e});d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f,g,e,a));t||(t=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,g?"full":"partial"))}},queueCommitWork:void 0,runExclusively:function(a){return new(k||(k=b("Promise")))(function(c,d){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),e=b[0];b[1];try{c(yield e())}catch(a){d(a)}}))})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return(h||(h=c("ExecutionEnvironment"))).isInBrowser?p:void 0},types:["ephemeral"],uniqueId:""}}g["default"]=a}),98);
__d("createReStoreEBSMWorkerTablesPersistance",["EBSMHydrationUtils","EBSMProperties","FBLogger","MAWLSDBEncryption","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","Promise","QPLUserFlow","Random","ReStorePersistence","WAExceededStorageQuota","WALoggerDeferred","WebSession","asyncToGeneratorRuntime","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] worker DB corruption detected - deleting EBSM db"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);m=function(){return a};return a}var n=c("gkx")("23665"),o=null,p=!1,q=!1;function r(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){a===void 0&&(a=!1);var f=(i||(i=b("Promise"))).resolve(),g=new Map();function s(a){return r(g,a,function(){return new Map()})}var t=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{bool:{is_worker:!0},string:{ebSessionIdentifier:t,sessionTabId:d("WebSession").getId()}}});(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").START);function u(){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield e);if(a==null)return;a=d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);return a.then(function(a){a.forEach(function(a,b){var c=s(b);a.forEach(function(a,b){c.set(b.key,b.value)})}),c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407")),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").SUCCESS)},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("WALoggerDeferred").ERROR(j()),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").FAIL)})});return v.apply(this,arguments)}o=u();return{flush:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){if(f.size===0)return;f.size>0&&f.forEach(function(a,b){a.size===0&&f["delete"](b)});if(f.size>0){f.forEach(function(a,b){var c=s(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)?c["delete"](b):c.set(b,a)})});if(a)return;var g=d("Random").uint32(),h=Array.from(f.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0,is_worker:!0},string_array:{tables:h}},instanceKey:g});yield o;var j=(yield e);if(j==null)return;var k=j.transaction(j.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(k);h=new window.Promise(function(a,e){k.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:g}),a(b.target.result)},k.onerror=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,h=Array.from(f).map(function(a){a=a[0];return a}).join(", ");yield d("WALoggerDeferred").ERROR(m(),a==null?void 0:(b=a.target)==null?void 0:b.error,h);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(b=a.target)==null?void 0:b.error,{instanceKey:g});e(a)});return function(b){return a.apply(this,arguments)}}()});yield (i||(i=b("Promise"))).all(Array.from(f).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a[0];a=a[1];if(e!=null&&j.objectStoreNames.contains(e)){var f=k.objectStore(e);yield (i||(i=b("Promise"))).all(Array.from(a).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))yield c("promiseFromRequest")(f["delete"](b));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,e);yield c("promiseFromRequest")(f.put(a,b))}});return function(b){return a.apply(this,arguments)}}()))}else void d("WALoggerDeferred").ERROR(l(),e,Array.from(j.objectStoreNames).toString())});return function(b){return a.apply(this,arguments)}}()));yield h}});function g(a){return f.apply(this,arguments)}return g}(),get:function(a,c,d){var e=s(c);if(p)return e.get(d);return o==null?(i||(i=b("Promise"))).reject("rehydration is not complete"):o.then(function(){p=!0;return e.get(d)})},logError:function(a,b,e,f){(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,a);if(e==="dbCorruption"){var g;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,a);e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("WALoggerDeferred").ERROR(k());f="Got unexpected undefined in worker ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);g=c("EBSMProperties").mandatoryTables.has(a)||!n;b={bool:{fullDeletion:g,is_worker:!0},string:{mode:b,restoreUpsellTime:e,tableName:a}};e=d("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:b,instanceKey:e});d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f,g,e,a));q||(q=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,g?"full":"partial"))}},queueCommitWork:void 0,runExclusively:function(a){return new(i||(i=b("Promise")))(function(c,d){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),e=b[0];b[1];try{c(yield e())}catch(a){d(a)}}))})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},types:["ephemeral"],uniqueId:""}}g["default"]=a}),98);
__d("createReStoreTableNameAllowListPersistence",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e;return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),c.clearCache==null?void 0:c.clearCache()},close:function(){a.close==null?void 0:a.close(),c.close==null?void 0:c.close()},flush:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var h=new Map(),i=new Map();e.forEach(function(a,b){d.has(b)?i.set(b,a):h.set(b,a)});yield (g||(g=b("Promise"))).all([a.flush(h,f),c.flush(i,f)])});function f(a,b){return e.apply(this,arguments)}return f}(),get:function(b,e,f,g){return d.has(e)?c.get(b,e,f,g):a.get(b,e,f,g)},isClosed:function(){return(a.isClosed==null?void 0:a.isClosed())||!1},isPersistenceSupported:a.isPersistenceSupported,logError:function(b,e,f,g){d.has(b)?c.logError==null?void 0:c.logError(b,e,f,g):a.logError==null?void 0:a.logError(b,e,f,g)},permitsSynchronousIO:function(b){if(d.has(b)){var e;return(e=c.permitsSynchronousIO==null?void 0:c.permitsSynchronousIO(b))!=null?e:!1}else{return(e=a.permitsSynchronousIO==null?void 0:a.permitsSynchronousIO(b))!=null?e:!1}},runExclusively:function(d,e){return a.runExclusively(function(){return new(g||(g=b("Promise")))(function(a,f){var h=c.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield d()),e=c[0],f=c[1],i=new(g||(g=b("Promise")))(function(b){a([function(){b();return h},f])});return[b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield i;return e()}),f]}),e);h["catch"](f)})},e)},shouldApplySync:function(b,e){if(d.has(e))return c.shouldApplySync(b,e);else return a.shouldApplySync(b,e)},shouldInline:function(b,e){return d.has(b)?c.shouldInline(b,e):a.shouldInline(b,e)},shouldSync:function(b,e){if(d.has(e))return c.shouldSync(b,e);else return a.shouldSync(b,e)},tabTablesNotifier:(e=a.tabTablesNotifier)!=null?e:c.tabTablesNotifier,types:[].concat(a.types,c.types),uniqueId:c.uniqueId+a.uniqueId}}f["default"]=a}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreEBSMWorkerTablesPersistance","createReStoreTableNameAllowListPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);b=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMTablesPersistence")(b,a),c("EBSMProperties").persistedTables);return b}function b(a,b){b===void 0&&(b=!1);b=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMWorkerTablesPersistance")(b,a),c("EBSMProperties").persistedTables);return b}g.makeReStorePersistence=a;g.makeReStoreWorkerPersistence=b}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=b.storeTx;b=b.transaction;if(a==null)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var f=new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)();c=(c=(yield f.read(e)))==null?void 0:c.customMigrationVersion;if(a.targetVersion===c)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;yield a.migration((c=c)!=null?c:0,b);f.write(e,{customMigrationVersion:a.targetVersion});return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.runCustomMigration=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterAdd:a.reduce(function(a,b){var c=b.onAfterAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterPut:a.reduce(function(a,b){var c=b.onAfterPut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDelete:a.reduce(function(a,b){var c=b.onBeforeDelete;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.key;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreIndexeddbPersistenceInitFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name=g;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreIndexeddbPersistenceInitFailure=a}),66);
__d("ReStoreTransactionDelay",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a==="background"?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await a}g.default=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","isPromise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function a(a,e,f){var g=new Map(),m=new Map();function n(a,b){return(l||(l=d("ReStoreKeyComparer"))).compareValue(a,b)===0}function o(a,b,c,d){a=(a=z.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!n(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function p(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function q(a,b,d,e){try{a=a(b,d,e);if((j||(j=c("isPromise")))(a))return a["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription async handler")});else return a}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription handlers")}}function r(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var j=h[1];j!=null&&j.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=o(a,c,b,g.value);return{v:(k||(k=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||p(l,a))return q(b,f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return q(b,f,g,e)}))}function s(b){return c("nullthrows")((g.has(b)?g:g.set(b,[c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function t(b,e){var f=s(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function u(b,e,f,g,h,i){var j=function(a,c){return r(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],f,h),n=g==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],g,h);if(n==null&&m!=null)return j(m,{operation:"delete",prevValue:c("nullthrows")(f)});if(m==null&&n!=null)return j(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(l||(l=d("ReStoreKeyComparer"))).compareKey(m,n)===0?j(m,{operation:"put",prevValue:c("nullthrows")(f),value:c("nullthrows")(g)}):(k||(k=d("PromiseOrValue"))).map(j(m,{operation:"delete",prevValue:c("nullthrows")(f)}),function(){return j(n,{operation:"add",value:c("nullthrows")(g)})})}function v(a,b,c,e){var f=s(a),g=f[0],h=f[1];return(k||(k=d("PromiseOrValue"))).map(u(g,a,b,c,null,e),function(){return(k||(k=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return u(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function w(){m.forEach(function(a){return a()})}function x(a,b){function d(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&f!=null){d=d();if(d.length===0)return;f.postMessage(b,d)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(f!=null&&f.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (k||(k=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(k||(k=d("PromiseOrValue"))).map(k.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(k||(k=d("PromiseOrValue"))).map(v(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());w()})())}));var y=new Map(),z=new Map();function A(a,b){if(b==null)return null;var c=y.get(a);c==null&&(c=new Map(),y.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=z.get(a);f==null&&(f=[],z.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){g.clear(),m.clear()},notifyCommit:w,notifyTableAndIndexSubscribers:v,notifyTableV2:x,subscribeIndex:function(a,c,d,e,f){var g=t(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():q(d,a,c,e)};var j=[c,A(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=s(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():q(c,a,d,e)};var j=[f,A(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){m.set(a,a);return function(){m["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","promiseDone","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"ReStore transaction timed out")||this}return a}(babelHelpers.wrapNativeSuper(Error)),k={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db"},l=12e4;function a(a){var e=a.persistence,f=a.hooks;f=f===void 0?[]:f;var g=a.customMigration,m=a.loggers,n=m===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:m;m=a.config;var o=m===void 0?k:m,p=a.schema,q=n.logHistory,r=n.transactionQplLogger,s=n.userFlow,t=d("ReStorePersistence").createDbStore(e);m=e.tabTablesNotifier==null?void 0:e.tabTablesNotifier();var u=p.defaults,v=c("createReStoreSubscriptionManager")(p,e.shouldSync,m),w=d("ReStoreHooks").createHookManager(f),x=t.createTransaction("readonly"),y=e.types.includes("indexeddb"),z={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},A="<first_txn>";s==null?void 0:s.addPoint("migration_start");q==null?void 0:q.debug("restore migration start");var B=new(d("ReStoreOperationLock").WaitForPromiseLock)(e.types.includes("devtool")?Promise.resolve():t.runExclusively(function(){return Promise.resolve([async function(){s==null?void 0:s.addPoint("migration_execute_start");var a=new Map(),b=t.createTransaction("readwrite"),c=E(b,a);q==null?void 0:q.debug("migration transaction created");c={changedKeys:a,clearCache:D,hooksManager:w,loggers:n,storeTx:b,transaction:c};try{var e=await p.migrate(c);s==null?void 0:s.addPoint("migration_custom_start");c=await d("ReStoreCustomMigration").runCustomMigration(g,c);q==null?void 0:q.debug("migration custom end");s==null?void 0:s.addPoint("migration_custom_end");if(c===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&e===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){b.close();q==null?void 0:q.debug("restore migration skipped");s==null?void 0:s.addPoint("migration_skipped");return}c=e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&a.size!==0;await b.flush({upgrade:c});s==null?void 0:s.addPoint("migration_execute_end");q==null?void 0:q.debug("restore migration complete")}catch(a){b.close();throw a}s==null?void 0:s.addPoint("migration_end");q==null?void 0:q.debug("restore migration end")},"readwrite"])},"migration").catch(function(a){s==null?void 0:s.addAnnotations({string:{migration_error:a.message}});a instanceof d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||(s==null?void 0:s.endFail("migration_error"));q==null?void 0:q.debug("restore migration error");c("FBLogger")("restore_init").catching(a).mustfix("migration failed");throw a}));async function C(a,b){var c=new WeakMap();await t.runExclusively(function(){return Promise.resolve([async function(){var e=new Map(),f=t.createTransaction("readwrite"),g=E(f,e),h=b.values();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0],f=b[1];return(i||(i=d("PromiseOrValue"))).map(i.map(f==null?g.table(a).delete(d("ReStoreUtils").searchKey(p.tableNames[a],e)):g.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,e,f,c)}),function(){return{action:"continue",value:h.next()}})},h.next());try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}},"readwrite"])},"applyChangesToTable")}function D(){t.clearCache==null?void 0:t.clearCache()}function E(a,b,c){return d("ReStoreUtils").createReStoreTransaction(p,u,w,v,a,b,c)}var F;function G(a,b,c,d){return new Promise(function(e,f){o.enableRejectingTransaction&&(F=f);var g=function(){A=d;return a().then(e,f).finally(function(){return A=void 0})};z[b].last==null?z[b].first=z[b].last={value:{code:g,writemode:c}}:z[b].last=z[b].last.next={value:{code:g,writemode:c}}})}function H(a){return t.runExclusively(function(){var a=z.ui.first!=null?z.ui:z.sync_script.first!=null?z.sync_script:z.background;if(a.first==null){c("FBLogger")(o.fbLoggerProject).mustfix("Expected work is missing");return Promise.resolve([function(){return Promise.resolve({})},"readonly"])}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;return Promise.resolve([b.value.code,b.value.writemode])},a)}async function I(a,b,d,e){var f;d===void 0&&(d="background");e===void 0&&(e={source:"unknown",type:"user_initiated"});var g,h=(f=arguments[4])!=null?f:"<unknown callsite>";e.type==="maw_ui_bridge"&&(h=h+":"+e.events.map(function(a){a=a.tag;return a}).join(","));try{g=await J(a,b,d,e,h)}catch(a){if(a instanceof j)throw c("FBLogger")(o.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",h);throw a}return g}async function J(a,e,f,g,h){f===void 0&&(f="background");var j,k,m,n,p,q=r==null?void 0:r.startTracking(y,f);b("cr:1088")&&(j=Date.now());q==null?void 0:q.addAnnotations({string:{currentlyExecutingModuleAndLineNo:A,moduleAndLineNo:h}});async function s(){q==null?void 0:q.mark("execute_start");b("cr:1088")&&(k=Date.now());var e={ref:void 0},f=new Map(),l=t.createTransaction("readwrite",h),r;b("cr:1088")==null?void 0:b("cr:1088").trackingStoredProceduresForNewTransaction(g);b("cr:1088")==null?void 0:b("cr:1088").recordModuleName(h);try{var s=E(l,f,{qplFlow:q});r=await Promise.race([a(s),L(e,q,h)]);e.ref!=null&&c("clearTimeout")(e.ref);q==null?void 0:q.mark("execute_end");q==null?void 0:q.mark("flush_start");await l.flush({qplFlow:q});q==null?void 0:q.mark("flush_end");b("cr:1088")&&(m=Date.now())}catch(a){e.ref!=null&&c("clearTimeout")(e.ref);l.close();q==null?void 0:q.fail(a);c("FBLogger")(o.fbLoggerProject).catching(a).mustfix("Transaction failed: %s",h);b("cr:1088")==null?void 0:b("cr:1088").recordRestoreTransaction({broadcast:n,complete:m,flush:p,queue:j,start:k},{changedKeys:f});throw a}finally{b("cr:1088")==null?void 0:b("cr:1088").stopTrackingStoredProcedures()}b("cr:1088")&&(p=Date.now());q==null?void 0:q.mark("broadcast_start");var u=new WeakMap();s=new Map();for(e of f){l=e[0];var x=e[1];l=JSON.parse(l);var y=l[0];l[1];l=s.get(y);l==null&&(l=[],s.set(y,l));var z=x[0];x=x[1];x=w.beforeNotify({newValue:x,prevValue:z,tableName:y});z=x.newValue;y=x.prevValue;l.push([y,z])}var A=s.entries();await (i||(i=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var b=a[0];a=a[1];var c=a.values();return(i||(i=d("PromiseOrValue"))).map(i.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];return(i||(i=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(b,e,a,u),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());v.notifyTableV2(s,"notifyTableV2");v.notifyTableV2(s,"notifyInMemoryTable");v.notifyCommit();if(b("cr:1088")){n=Date.now();x={broadcast:n,complete:m,flush:p,queue:j,start:k};b("cr:1088").recordRestoreTransaction(x,{changedKeys:f})}q==null?void 0:q.mark("broadcast_end");q==null?void 0:q.mark("post_commit_start");c("setImmediate")(function(){q==null?void 0:q.mark("post_commit_end"),q==null?void 0:q.end()});return r}await c("ReStoreTransactionDelay")(f);s=G(s,f,e,h);q==null?void 0:q.mark("enqueued");q==null?void 0:q.addAnnotations({string:{actionSourceSource:g.source,actionSourceType:g.type},string_array:{actionSourceEvents:(f=g.events)==null?void 0:f.map(function(a){return a.tag}),actionSourceTaskNames:g.taskNames}});c("promiseDone")(H(h),function(){},function(a){F==null?void 0:F(a)});var u=c("setTimeout")(function(){var a;c("FBLogger")("messenger_e2ee_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s",l,h,A,(a=JSON.stringify(b("cr:6665")==null?void 0:b("cr:6665").getCurrentlyExecutingNativeOps()))!=null?a:"<devtools not running>",(a=b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))!=null?a:"<devtools not running>")},l);return s.finally(function(){return c("clearTimeout")(u)})}(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(m!=null&&m.onEventReceive("notifyInMemoryTable",function(a){c("promiseDone")(async function(){for(var b of a){var c=b[0],d=b[1];e.shouldApplySync("notifyInMemoryTable",c)&&await C(c,d)}v.notifyCommit()}())}));var K=Object.keys(p.tableNames).reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new(d("ReStoreTable").ReStoreTable)(p.tableNames[b],w,B,x,v),a))},{});return{clearCacheIfSupported:D,closeDb:function(){var a=t;a instanceof Object&&a.close!==void 0&&a.close()},getCustomMigrationVersion:async function(){var a=await new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)().read(t.createTransaction("readonly"));return a==null?void 0:a.customMigrationVersion},getTableData:function(){return p},isClosed:function(){return t.isClosed()},isPersistenceSupported:function(){var a=t;return a instanceof Object&&a.isPersistenceSupported!==void 0&&a.isPersistenceSupported instanceof Function?a.isPersistenceSupported():Promise.resolve(!0)},persistence:e,persistenceTypes:e.types,runInTransaction:I,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return K[a]},tables:K,uniqueId:e.uniqueId};function L(a,d,e){return!o.enableTransactionTimeout?new Promise(function(){var d=1e4;a.ref=c("setTimeout")(function(){var a;c("FBLogger")(o.fbLoggerProject).mustfix("ReStore transaction took too long to execute, check it: %s. Executed SP: %s.",e,b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},d)}):new Promise(function(b,e){b=5e3;a.ref=c("setTimeout")(function(){d==null?void 0:d.mark("slow_transaction"),e(new j())},b)})}}g.default=a}),98);
__d("ReStoreInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){g.set(a.uniqueId,{instance:a,persistence:a.persistence,tableNames:a.getTableData().tableNames});return a}function b(){return Array.from(g.entries()).map(function(a){var b=a[0];a=a[1];return{key:b,value:JSON.parse(JSON.stringify(a.tableNames))}})}f.instrument=a;f.getReStoreTables=b;f.reStoreInstancesMap=g}),66);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){e===void 0&&(e=[]);f=d("ReStoreInstrumentation").instrument(c("ReStore")({config:{enableRejectingTransaction:c("gkx")("8566"),enableTransactionTimeout:c("gkx")("2947"),fbLoggerProject:"maw_db"},customMigration:f,hooks:e,loggers:{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25306500,"1488")),userFlow:g},persistence:a,schema:b}));return f}g.createLSReStore=a}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSReStoreWrapper").createLSReStore(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),a,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger)}g["default"]=a}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","maw_db",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Promise","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","WATagsLogger","asyncToGeneratorRuntime","err","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){i=!1}function e(){i||(i=!0,d("WATagsLogger").initializeWaLogger(u))}var j=function(){return c("FBLogger")("messenger_e2ee_web")};function k(a,b){return b.length>0?d("MAWSaveLogToDisk").joinTags(b)+" "+a:a}function l(a,b,e){if(d("ServerJsRuntimeEnvironment").isRunningServerJsRuntime())return;var f=Date.now();c("gkx")("3282")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:k(b,e)},!0);if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;b=b.replace(/\n/g," ");if(a==="debug"||typeof b!=="string")return;d("MAWSaveLogToDisk").saveLogEntry("browser",{args:b,date:f,event:d("MAWSaveLogToDisk").joinTags(e,"[unknown]"),level:a})}function m(a,b){a=n(a);a!=null&&l("log",a,b)}function n(a){if(!d("CurrentMessengerUser").isEmployee()&&!d("CurrentMessengerUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function o(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("log",a,b)}function p(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("warn",a,b)}function f(a,b,d,e,f,g){d=c("err")(d);d.stack=e;c("promiseDone")(s(a,b,d,f,g))}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));c=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(c));var f=d("MAWLoggingSwitches").removeLoggingFromBridge?d("MAWSaveLogToDisk").getLastNEntries(e):(h||(h=b("Promise"))).resolve([]);e=e===0?[]:[].concat((yield f).map(function(a){return a.args}));return{errorLogString:c+" [Caught in "+a+"]",logs:[a].concat(e),sanitizedMessage:c}});return r.apply(this,arguments)}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield q(k(a,b),e.message,g));g=a.errorLogString;var h=a.logs;a=a.sanitizedMessage;var i=c("getErrorSafe")(e);try{e.message=a}catch(b){i=c("err")(a,e.fileName,e.lineNumber)}f!==0&&(i.framesToPop=f);(a=j())==null?void 0:(e=a.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).catching(i)).mustfix.apply(e,h);l("error",g,b)});return t.apply(this,arguments)}var u={debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));e?c("promiseDone")(s(a,b,e,0,0)):c("promiseDone")(s(a,b,c("err")(a),2,0));d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){o(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){m(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){p(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function v(){return!d("MAWLoggingSwitches").removeLoggingFromBridge?(h||(h=b("Promise"))).resolve([]):d("MAWSaveLogToDisk").getEntries()}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;yield d("MAWDeleteOldLogsFromDisk").clearLogs()});return x.apply(this,arguments)}function y(a){return new Date(typeof a==="string"?parseInt(a,10):a).toISOString().replace("T"," ").replace("Z","")}function z(a){return a.map(function(a){try{var b=y(a.date);return[b,a.level,a.category,a.event,a.args].join(" | ")}catch(a){return[y(Date.now()),"error","LOGGER","Error formatting log: "+((a==null?void 0:a.message)||"")].join(" | ")}}).filter(Boolean).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=e;g.logToHistory=l;g.logRestricted=m;g.info=o;g.warn=p;g.logError=f;g.getEntries=v;g.clearEntries=w;g.formatEntries=z}),98);
__d("MAWVaultMaterialsStorage",["FBLogger","MAWVaultMaterials","Promise","WebAsyncStorage","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_exchange_vm";function j(){var a=d("MAWVaultMaterials").generateNewVaultMaterials(),e="newly-generated";return new(h||(h=b("Promise")))(function(b){c("WebAsyncStorage").getOrSetItem(i,a,function(f,g){if(f!=null){c("FBLogger")("maw_ear").mustfix("Failed to store Vaulting Materials. %s",f.toString());throw c("unrecoverableViolation")("Failed to store Vaulting Materials","messenger_web_product")}g!==null&&(a=g,e="storage");b(d("MAWVaultMaterials").initializeVaultMaterials(a,e))})})}function a(){return d("MAWVaultMaterials").hasVaultBeenSetup()?(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials()):j()}g.setupVaultMaterials=a}),98);
__d("MWConditionallySetupEBStateDB",["asyncToGeneratorRuntime","cr:6693","cr:8233"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(b("cr:6693")!=null){b("cr:8233")==null?void 0:b("cr:8233").setupMainWaLogger();a=(yield b("cr:6693").makeEBStateDB(a));return a}});return h.apply(this,arguments)}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","asyncToGeneratorRuntime","cr:8624"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("init_start");var e;try{a=(yield d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB());a!=null&&(h.debug("Creating EB State DB"),e=d("LSReStoreWrapper").createLSReStore(a,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger),yield b("cr:8624")==null?void 0:b("cr:8624")(e),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}e==null&&(h.debug("Creating EDB"),e=c("LSJSInMemoryStorage")(d("LSMetadata").schema),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return e});return i.apply(this,arguments)}g.createDB=a}),98);
__d("MWSetupEBStateDB",["EARInitType","ExecutionEnvironment","FBLogger","LSJSEBInMemoryStorage","MAWEncryptedBackupsPersistedDB","MWEncryptedBackupsFirstRestoreUpsellTime","MWSetupDBEncryption","QPLUserFlow","WebSession","asyncToGeneratorRuntime","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;a===void 0&&(a=!1);b===void 0&&(b=!0);var g=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521477507,"1406"),{annotations:{bool:{is_worker:(f=e)!=null?f:(h||(h=c("ExecutionEnvironment"))).isInWorker},string:{ebSessionIdentifier:g,sessionTabId:d("WebSession").getId()}}});var i;f=(yield d("MWSetupDBEncryption").init(c("EARInitType").EB_INIT));if(f.success){a=d("MAWEncryptedBackupsPersistedDB").makeEBIDB(a,(g=e)!=null?g:(h||(h=c("ExecutionEnvironment"))).isInWorker,b)["catch"](function(a){c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Idb is null");c("FBLogger")("labyrinth_web").catching(a).warn("[labyrinth_web] EB State IDB initialization failed. Falling back to In memory ReStore db");return null});i=c("gkx")("4052")&&((g=e)!=null?g:(h||(h=c("ExecutionEnvironment"))).isInWorker)?d("LSJSEBInMemoryStorage").makeReStoreWorkerPersistence(a,!1):d("LSJSEBInMemoryStorage").makeReStorePersistence(a,!1);c("QPLUserFlow").endSuccess(c("qpl")._(521477507,"1406"))}else{c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),f.error.toString(),{annotations:{string:{errorDescription:((b=f.payload)==null?void 0:b.message)||""}}});c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Encryption DB init failed. Falling back to In memory ReStore db")}return i});return i.apply(this,arguments)}g.makeEBStateDB=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var h=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};h(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,h,f,b,d,e]);j(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react-compiler-runtime","useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.loggingProvider,f=a.queryString;a=a.traceProvider;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={loggingProvider:e,queryString:f,traceProvider:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];c("useCometInternalTypeaheadFetchHandler")(g);return null}g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.autoOpen,g=a.onClose,h=a.onOpen;a=j(f);var k=a[0],l=a[1];b[0]!==k||b[1]!==g||b[2]!==h?(f=function(a){if(a===k)return;l(a);a?h():g()},b[0]=k,b[1]=g,b[2]=h,b[3]=f):f=b[3];a=f;b[4]!==a||b[5]!==k?(f={dispatchIsOpened:a,isOpened:k},b[4]=a,b[5]=k,b[6]=f):f=b[6];a=f;f=a;b[7]!==e||b[8]!==f?(a=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:f,children:e}),b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){f!=null&&f.isSessionActive()&&(f.addEvent({action:"abandon",entries:h,queryString:g},"useCometInternalTypeaheadOnAbandonLoggingHandler"),f.endSession()),e&&e()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.loggingProvider,f=a.onEnter,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries,i=a.highlightedEntry;b[0]!==h||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g?(a=function(){i!=null&&(e&&e.addEvent({action:"click",entries:h,entry:i,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),i==null&&(e&&e.addEvent({action:"enter",entries:h,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),e&&e.endSession(),f&&f()},b[0]=h,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onFocus,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){e!=null&&(e.startSession(),e.addEvent({action:"typeahead_appeared",entries:h,queryString:g},"useCometInternalTypeaheadOnFocusLoggingHandler")),f&&f()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onPressEntry,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a,b){e!=null&&(e.addEvent({action:"click",entries:h,entry:a,queryString:g},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),e.endSession()),f&&f(a,b)},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(a){var b=j(null),d=i(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","react-compiler-runtime","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(69),e,f,g,h,j,k,l,m,n,o,p,q;b[0]!==a?(f=a.inputRef,e=a.layoutStrategyRenderer,g=a.loggingProvider,h=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,p=a.queryString,q=a.traceProvider,o=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12]);a=c("useCometTypeaheadInputRefs")(f);f=a.composedRef;var r=a.inputRef;a=c("useCometInternalTypeaheadState")();var s=a.highlightedEntry,t=a.secondaryActionHighlighted;b[13]!==s||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==p||b[18]!==t?(a=function(){s!=null?k==null?void 0:k(s,t):l&&l(p),h&&h()},b[13]=s,b[14]=h,b[15]=k,b[16]=l,b[17]=p,b[18]=t,b[19]=a):a=b[19];a=a;var u;b[20]!==g||b[21]!==p||b[22]!==a?(u={loggingProvider:g,onEnter:a,queryString:p},b[20]=g,b[21]=p,b[22]=a,b[23]=u):u=b[23];a=c("useCometInternalTypeaheadOnEnterLoggingHandler")(u);b[24]!==g||b[25]!==j||b[26]!==p?(u={loggingProvider:g,onFocus:j,queryString:p},b[24]=g,b[25]=j,b[26]=p,b[27]=u):u=b[27];j=c("useCometInternalTypeaheadOnFocusLoggingHandler")(u);b[28]!==r||b[29]!==k?(u=function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},b[28]=r,b[29]=k,b[30]=u):u=b[30];u=u;var v;b[31]!==g||b[32]!==p||b[33]!==u?(v={loggingProvider:g,onPressEntry:u,queryString:p},b[31]=g,b[32]=p,b[33]=u,b[34]=v):v=b[34];u=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")(v);b[35]!==g||b[36]!==m||b[37]!==p?(v={callback:m,loggingProvider:g,queryString:p},b[35]=g,b[36]=m,b[37]=p,b[38]=v):v=b[38];m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[39]!==g||b[40]!==n||b[41]!==p?(v={callback:n,loggingProvider:g,queryString:p},b[39]=g,b[40]=n,b[41]=p,b[42]=v):v=b[42];n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[43]!==g||b[44]!==p?(v={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[43]=g,b[44]=p,b[45]=v):v=b[45];v=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);var w;b[46]!==g||b[47]!==p?(w={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[46]=g,b[47]=p,b[48]=w):w=b[48];w=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(w);var x;b[49]!==g||b[50]!==p||b[51]!==q?(x=i.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:g,queryString:p,traceProvider:q}),b[49]=g,b[50]=p,b[51]=q,b[52]=x):x=b[52];b[53]!==e||b[54]!==f||b[55]!==w||b[56]!==a||b[57]!==j||b[58]!==v||b[59]!==u||b[60]!==m||b[61]!==n||b[62]!==o||b[63]!==p||b[64]!==q?(g=i.jsx(e,babelHelpers["extends"]({},o,{inputRef:f,onAbandonTypeahead_DO_NOT_USE:w,onClick:c("emptyFunction"),onEnter:a,onFocus:j,onHighlightEntry:o.onHighlightEntry,onOutsideClick:v,onPressEntry:u,onShiftTab:m,onTab:n,queryString:p,traceProvider:q,xstyles:o.xstyles})),b[53]=e,b[54]=f,b[55]=w,b[56]=a,b[57]=j,b[58]=v,b[59]=u,b[60]=m,b[61]=n,b[62]=o,b[63]=p,b[64]=q,b[65]=g):g=b[65];b[66]!==x||b[67]!==g?(e=i.jsxs(i.Fragment,{children:[x,g]}),b[66]=x,b[67]=g,b[68]=e):e=b[68];return e}g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.isLoading;a=a.source;var g=k(!0),h=g[0],l=g[1],m;b[0]!==f?(g=function(){f&&l(!1)},m=[f],b[0]=f,b[1]=g,b[2]=m):(g=b[1],m=b[2]);j(g,m);g=["all","network"].includes(a);m=!(g&&h||f);b[3]!==e||b[4]!==m?(a=i.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:m,children:e}),b[3]=e,b[4]=m,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;var k=b.useRef,l=b.useState,m=[];function a(a){var b=d("react-compiler-runtime").c(19),e=a.autoOpen,f=a.children,g=a.emptyEntries_DO_NOT_USE,h=a.onClose;a=a.onOpen;var n=g===void 0?m:g;g=l(null);var o=g[0],p=g[1];g=l(null);var q=g[0],r=g[1];g=l(null);var s=g[0],t=g[1];g=l(n);var u=g[0],v=g[1],w=k(n),x;b[0]!==n?(g=function(){if(w.current===n)return;w.current=n;v(function(a){return a.length?a:n})},x=[v,w,n],b[0]=n,b[1]=g,b[2]=x):(g=b[1],x=b[2]);j(g,x);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){v(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:w.current})},b[3]=g):g=b[3];x=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){var b=a.entry,c=a.secondaryActionHighlighted;a=a.source;p(b);t(a);r(c)},b[4]=g):g=b[4];g=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={dispatchActiveEntries:x,dispatchHighlightedEntry:g},b[5]=x):x=b[5];g=x;x=g;b[6]!==u||b[7]!==o||b[8]!==s||b[9]!==q?(g={activeEntries:u,highlightedEntry:o,highlightedEntrySource:s,secondaryActionHighlighted:q},b[6]=u,b[7]=o,b[8]=s,b[9]=q,b[10]=g):g=b[10];u=g;o=u;b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==a?(s=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:e,onClose:h,onOpen:a,children:f}),b[11]=e,b[12]=f,b[13]=h,b[14]=a,b[15]=s):s=b[15];b[16]!==o||b[17]!==s?(q=i.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:x,children:i.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:o,children:s})}),b[16]=o,b[17]=s,b[18]=q):q=b[18];return q}g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.text;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1xmf6yo"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("FDSTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("FDSRoundedTextInput.react",["BaseFocusRing.react","BaseTextInput.react","CometScreenReaderText.react","Locale","react","react-compiler-runtime","stylex","useBaseInputValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useId,l=b.useState,m={backgroundPlaceholder:{backgroundColor:"xmjcpbm",$$css:!0},backgroundSecondary:{backgroundColor:"x1qhmfi1",$$css:!0},disabledInput:{color:"x1dntmbh",cursor:"x1h6gzvc",$$css:!0},fontPlaceholder:{color:"x12scifz","::placeholder_color":"x2s2ed0",":focus::placeholder_color":"xq33zhf",$$css:!0},fontSecondary:{color:"xi81zsa",$$css:!0},hideIconAnimation:{transitionDuration:"xhb22t3",transitionProperty:"xb5gni",transitionTimingFunction:"xcj1dhv",$$css:!0},hideIconAnimationRTL:{transitionDuration:"xhb22t3",transitionProperty:"x1b1fv3o",transitionTimingFunction:"xcj1dhv",$$css:!0},icon:{alignItems:"x6s0dn4",display:"x78zum5",whiteSpace:"xuxw1ft",$$css:!0},iconFocused:{marginEnd:"x1v89cbv",opacity:"xg01cxk",pointerEvents:"x47corl",transform:"x1o18zem",$$css:!0},iconFocusedRTL:{marginEnd:"x1h5jrl4",transform:"x18r5ilk",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",boxSizing:"x9f619",display:"x78zum5",minWidth:"x1fns5xo",position:"x1n2onr6",width:"xh8yej3",$$css:!0},startIcon:{pointerEvents:"x47corl",$$css:!0},textInput:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"xzsf02u",flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",fontFamily:"xjb2p0i",fontSize:"x6prxxf",minWidth:"xeuugli",outline:"x1a2a7pz",paddingBottom:"xdvlbce",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"xm7lytj",position:"x1n2onr6",$$css:!0}},n={large:{paddingStart:"x1ye3gou",$$css:!0},medium:{paddingStart:"x1sln4lm",$$css:!0}},o={center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},inherit:{textAlign:"x16tdsg8",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}},p={focused:{transform:"x1avfe6s",$$css:!0}},q={large:{paddingBottom:"xdvlbce",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",paddingTop:"xm7lytj",$$css:!0},medium:{paddingBottom:"xdvlbce",paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",paddingTop:"xm7lytj",$$css:!0}},r={large:{minHeight:"x1ba4aug",$$css:!0},medium:{minHeight:"xu0aao5",$$css:!0}},s={large:{height:"x1vqgdyp",$$css:!0},medium:{height:"xc9qbxq",$$css:!0}},t=d("Locale").isRTL();e=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(53),f,g,i,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;e[0]!==a?(f=a.addOnEnd,B=a.hideIconAnimation,C=a.hideIconOnFocus,w=a.icon,D=a.placeholderFontUse,E=a.size,F=a.textAlign,H=a.validator,J=a.xstyle,g=a["aria-describedby"],i=a["aria-label"],u=a["aria-labelledby"],v=a.autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD,G=a.disabled,x=a.onBlur,y=a.onFocus,z=a.onMouseUp,I=a.value,A=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","hideIconAnimation","hideIconOnFocus","icon","placeholderFontUse","size","textAlign","validator","xstyle","aria-describedby","aria-label","aria-labelledby","autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD","disabled","onBlur","onFocus","onMouseUp","value"]),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=u,e[5]=v,e[6]=w,e[7]=x,e[8]=y,e[9]=z,e[10]=A,e[11]=B,e[12]=C,e[13]=D,e[14]=E,e[15]=F,e[16]=G,e[17]=H,e[18]=I,e[19]=J):(f=e[1],g=e[2],i=e[3],u=e[4],v=e[5],w=e[6],x=e[7],y=e[8],z=e[9],A=e[10],B=e[11],C=e[12],D=e[13],E=e[14],F=e[15],G=e[16],H=e[17],I=e[18],J=e[19]);var K=B===void 0?!1:B,L=C===void 0?!1:C,M=D===void 0?"placeholder":D,N=E===void 0?"medium":E,O=F===void 0?"start":F,P=G===void 0?!1:G,Q=k();a=String(I);e[20]!==a||e[21]!==H?(B={validator:H,value:a},e[20]=a,e[21]=H,e[22]=B):B=e[22];C=c("useBaseInputValidators")(B);var R=C.topResultReason,S=C.topResultType;D=l(!1);var T=D[0],U=D[1];e[23]!==y?(E=function(a){U(!0),y&&y(a)},e[23]=y,e[24]=E):E=e[24];var V=E;e[25]!==x?(F=function(a){U(!1),x&&x(a)},e[25]=x,e[26]=F):F=e[26];var W=F;e[27]!==z?(G=function(a){z&&z(a)},e[27]=z,e[28]=G):G=e[28];var X=G,Y=R!=null?Q+" "+((a=g)!=null?a:""):g;e[29]!==f||e[30]!==Y||e[31]!==i||e[32]!==u||e[33]!==v||e[34]!==P||e[35]!==W||e[36]!==V||e[37]!==X||e[38]!==K||e[39]!==L||e[40]!==w||e[41]!==T||e[42]!==A||e[43]!==M||e[44]!==b||e[45]!==N||e[46]!==O||e[47]!==R||e[48]!==S||e[49]!==Q||e[50]!==I||e[51]!==J?(H=j.jsx(c("BaseFocusRing.react"),{children:function(a){return j.jsxs("label",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a,m.root,r[N],M==="placeholder"&&m.backgroundPlaceholder,M==="secondary"&&m.backgroundSecondary),{children:[w!=null?j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(!K&&m.hideIconAnimation,!K&&t&&m.hideIconAnimationRTL,m.icon,m.startIcon,n[N],L&&T&&m.iconFocused,L&&T&&t&&m.iconFocusedRTL),{children:w})):null,j.jsx(c("BaseTextInput.react"),babelHelpers["extends"]({},A,{"aria-describedby":Y,"aria-invalid":S==="ERROR","aria-label":i,"aria-labelledby":u,autoFocus:v,disabled:P,onBlur:W,onFocus:V,onMouseUp:X,ref:b,suppressFocusRing:!0,value:I,xstyle:[o[O],!t&&m.hideIconAnimation,t&&m.hideIconAnimationRTL,M==="placeholder"&&m.fontPlaceholder,M==="secondary"&&m.fontSecondary,L&&T&&t&&p.focused,m.textInput,w!=null&&q[N],s[N],P&&m.disabledInput,J]})),f!=null&&j.jsx("span",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xuxw1ft xg83lxy"},{children:f})),R!=null?j.jsx(c("CometScreenReaderText.react"),{id:Q,text:R}):null]}))}}),e[29]=f,e[30]=Y,e[31]=i,e[32]=u,e[33]=v,e[34]=P,e[35]=W,e[36]=V,e[37]=X,e[38]=K,e[39]=L,e[40]=w,e[41]=T,e[42]=A,e[43]=M,e[44]=b,e[45]=N,e[46]=O,e[47]=R,e[48]=S,e[49]=Q,e[50]=I,e[51]=J,e[52]=H):H=e[52];return H}f=e;g["default"]=f}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{appearance:"xtilpmw","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("UnicodeBidiDirection",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b="NEUTRAL";var h="LTR",i="RTL";function j(a){return a===h||a===i}function k(a){if(!j(a))throw c("unrecoverableViolation")("`dir` must be a strong direction to be converted to HTML Direction","internationalization");return a===h?"ltr":"rtl"}function a(a,b){if(!j(a))throw c("unrecoverableViolation")("`dir` must be a strong direction to be converted to HTML Direction","internationalization");if(!j(b))throw c("unrecoverableViolation")("`otherDir` must be a strong direction to be converted to HTML Direction","internationalization");return a===b?null:k(a)}g.NEUTRAL=b;g.LTR=h;g.RTL=i;g.isStrong=j;g.getHTMLDir=k;g.getHTMLDirIfDifferent=a}),98);
__d("UnicodeBidiGlobalDirectionCore",["UnicodeBidiDirection","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=null;function h(a){g=a}function a(){h(b("UnicodeBidiDirection").LTR)}function c(){g||this.initDir();if(!g)throw b("unrecoverableViolation")("Global direction not set.","internationalization");return g}d={setDir:h,initDir:a,getDir:c};e.exports=d}),null);
__d("UnicodeBidiGlobalDirection",["Locale","UnicodeBidiDirection","UnicodeBidiGlobalDirectionCore"],(function(a,b,c,d,e,f){"use strict";b("UnicodeBidiGlobalDirectionCore").initDir=function(){b("UnicodeBidiGlobalDirectionCore").setDir(b("Locale").isRTL()?b("UnicodeBidiDirection").RTL:b("UnicodeBidiDirection").LTR)},e.exports=b("UnicodeBidiGlobalDirectionCore")}),null);
__d("UnicodeBidi",["UnicodeBidiDirection","UnicodeBidiGlobalDirection","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e={L:"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u02bb-\u02c1\u02d0\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0482\u048a-\u052f\u0531-\u0556\u0559-\u055f\u0561-\u0587\u0589\u0903-\u0939\u093b\u093d-\u0940\u0949-\u094c\u094e-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd-\u09c0\u09c7\u09c8\u09cb\u09cc\u09ce\u09d7\u09dc\u09dd\u09df-\u09e1\u09e6-\u09f1\u09f4-\u09fa\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd-\u0ac0\u0ac9\u0acb\u0acc\u0ad0\u0ae0\u0ae1\u0ae6-\u0af0\u0b02\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0b5c\u0b5d\u0b5f-\u0b61\u0b66-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58\u0c59\u0c60\u0c61\u0c66-\u0c6f\u0c7f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cc4\u0cc6-\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0cde\u0ce0\u0ce1\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60\u0d61\u0d66-\u0d75\u0d79-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df4\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e4f-\u0e5b\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00-\u0f17\u0f1a-\u0f34\u0f36\u0f38\u0f3e-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fda\u1000-\u102c\u1031\u1038\u103b\u103c\u103f-\u1057\u105a-\u105d\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108c\u108e-\u109c\u109e-\u10c5\u10c7\u10cd\u10d0-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u167f\u1681-\u169a\u16a0-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7\u17c8\u17d4-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a16\u1a19\u1a1a\u1a1e-\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aad\u1b04-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b4b\u1b50-\u1b6a\u1b74-\u1b7c\u1b82-\u1ba1\u1ba6\u1ba7\u1baa\u1bae-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1bfc-\u1c2b\u1c34\u1c35\u1c3b-\u1c49\u1c4d-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u302e\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u31ba\u31f0-\u321c\u3220-\u324f\u3260-\u327b\u327f-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua60c\ua610-\ua62b\ua640-\ua66e\ua680-\ua69d\ua6a0-\ua6ef\ua6f2-\ua6f7\ua722-\ua787\ua789-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua824\ua827\ua830-\ua837\ua840-\ua873\ua880-\ua8c3\ua8ce-\ua8d9\ua8f2-\ua8fb\ua900-\ua925\ua92e-\ua946\ua952\ua953\ua95f-\ua97c\ua983-\ua9b2\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9cd\ua9cf-\ua9d9\ua9de-\ua9e4\ua9e6-\ua9fe\uaa00-\uaa28\uaa2f\uaa30\uaa33\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa7b\uaa7d-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaaeb\uaaee-\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5f\uab64\uab65\uabc0-\uabe4\uabe6\uabe7\uabe9-\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",R:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05ff\u07c0-\u07ea\u07f4\u07f5\u07fa-\u0815\u081a\u0824\u0828\u082e-\u0858\u085c-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb4f",AL:"\u0608\u060b\u060d\u061b-\u064a\u066d-\u066f\u0671-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u0710\u0712-\u072f\u074b-\u07a5\u07b1-\u07bf\u08a0-\u08e3\ufb50-\ufd3d\ufd40-\ufdcf\ufdf0-\ufdfc\ufdfe\ufdff\ufe70-\ufefe"};var h=new RegExp("["+e.L+e.R+e.AL+"]"),i=new RegExp("["+e.R+e.AL+"]");function j(a){a=h.exec(a);return a==null?null:a[0]}function k(a){a=j(a);return a==null?d("UnicodeBidiDirection").NEUTRAL:i.exec(a)?d("UnicodeBidiDirection").RTL:d("UnicodeBidiDirection").LTR}function l(a,b){b=b||d("UnicodeBidiDirection").NEUTRAL;if(!a.length)return b;a=k(a);return a===d("UnicodeBidiDirection").NEUTRAL?b:a}function m(a,b){b=b||c("UnicodeBidiGlobalDirection").getDir();if(!d("UnicodeBidiDirection").isStrong(b))throw c("unrecoverableViolation")("Fallback direction must be a strong direction","internationalization");return l(a,b)}function a(a,b){return m(a,b)===d("UnicodeBidiDirection").LTR}function b(a,b){return m(a,b)===d("UnicodeBidiDirection").RTL}g.firstStrongChar=j;g.firstStrongCharDir=k;g.resolveBlockDir=l;g.getDirection=m;g.isDirectionLTR=a;g.isDirectionRTL=b}),98);
__d("useCometTextDirection",["UnicodeBidi","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={LTR:"ltr",NEUTRAL:"auto",RTL:"rtl"};function a(a,b){a=d("UnicodeBidi").getDirection(a,b);b=i[a];return b}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onChange;b[0]!==c?(a=function(a){var b=a.target.value;c&&c(b,a)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("CometTypeaheadInputRoundedStrategy.react",["ADD_PLACEHOLDER_OR_LABEL_FIXME","FDSIcon.react","FDSRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","UNTRANSLATED_STRING_FIXME","cometTypeaheadInputWebkitStyles","react","useCometTextDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;a.id;var e=a.inputEndContent,f=a.inputStartContent,g=a.inputExtraProps;g=g===void 0?{}:g;var h=g.hideIconOnFocus;h=h===void 0?!1:h;var j=g.hideIconAnimation;j=j===void 0?!1:j;var k=g.icon;k=k===void 0?i.jsx(c("FDSIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}):k;var l=g.size;g=g.xstyle;g=g===void 0?null:g;var m=a.isDisabled,n=a.onChange,o=a.label;o=o===void 0?"":o;var p=a.queryString,q=a.testid;q=a.autoFocus;var r=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus","placeholder"]);var s=c("useCometTextDirection")(p);n=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:n});return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xh8yej3"},{children:[f,i.jsx(c("FDSRoundedTextInput.react"),babelHelpers["extends"]({},d,a,{"aria-label":c("UNTRANSLATED_STRING_FIXME")(o.toString()),autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:q,"data-testid":void 0,dir:s,disabled:m,hideIconAnimation:j,hideIconOnFocus:h,icon:k,onChange:n,placeholder:(f=r)!=null?f:c("ADD_PLACEHOLDER_OR_LABEL_FIXME"),ref:b,size:l,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:p,xstyle:[g,c("cometTypeaheadInputWebkitStyles")["default"]]})),e]}))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onBlur;b[0]!==c?(a=function(){c&&c()},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return i(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["react-compiler-runtime","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,h;b[0]!==a?(e=a.inputRef,f=a.onBlur,g=a.onFocus,h=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==g?(a={inputRef:e,onFocus:g},b[5]=e,b[6]=g,b[7]=a):a=b[7];e=c("useCometTypeaheadInputStrategyOnFocusHandler")(a);b[8]!==f?(g={onBlur:f},b[8]=f,b[9]=g):g=b[9];a=c("useCometTypeaheadInputStrategyOnBlurHandler")(g);b[10]!==a||b[11]!==e||b[12]!==h?(f=babelHelpers["extends"]({},h,{onBlur:a,onFocus:e}),b[10]=a,b[11]=e,b[12]=h,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react-compiler-runtime","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=a!=null?d("xplatToDOMRef").xplatToInputRef(a):null,b[0]=a,b[1]=e):e=b[1];return c("useCometTypeaheadInputRefs")(e)}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k={root:{width:"xh8yej3",$$css:!0}};b=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(66),f,g,i,l,m,n,o,p,q,r,s,t,u;e[0]!==a?(f=a.children,i=a.isInline,u=a.omitEscape,l=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onLeftArrow,q=a.onRightArrow,r=a.onShiftTab,s=a.onTab,t=a.onUpArrow,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","omitEscape","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"]),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=u):(f=e[1],g=e[2],i=e[3],l=e[4],m=e[5],n=e[6],o=e[7],p=e[8],q=e[9],r=e[10],s=e[11],t=e[12],u=e[13]);a=u===void 0?!1:u;var v;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(u={key:c("CometKeys").DELETE},v=h._(/*BTDS*/"__JHASH__2XTxAX3qgrF__JHASH__"),e[14]=u,e[15]=v):(u=e[14],v=e[15]);e[16]!==l?(u={command:u,description:v,handler:function(){return l&&l()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},e[16]=l,e[17]=u):u=e[17];var w;e[18]===Symbol["for"]("react.memo_cache_sentinel")?(v={key:c("CometKeys").DOWN},w=h._(/*BTDS*/"__JHASH__CqK0EeqSMhz__JHASH__"),e[18]=v,e[19]=w):(v=e[18],w=e[19]);e[20]!==m?(v={command:v,description:w,handler:function(){return m&&m()},triggerFromInputs:!0},e[20]=m,e[21]=v):v=e[21];var x;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(w={key:c("CometKeys").UP},x=h._(/*BTDS*/"__JHASH__iUKjo5X2a54__JHASH__"),e[22]=x,e[23]=w):(x=e[22],w=e[23]);e[24]!==t?(w={command:w,description:x,handler:function(){return t&&t()},triggerFromInputs:!0},e[24]=t,e[25]=w):w=e[25];e[26]!==a||e[27]!==o?(x=a?null:{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},e[26]=a,e[27]=o,e[28]=x):x=e[28];var y;e[29]===Symbol["for"]("react.memo_cache_sentinel")?(a={key:c("CometKeys").ENTER},y=h._(/*BTDS*/"__JHASH__mihpnKYilqe__JHASH__"),e[29]=a,e[30]=y):(a=e[29],y=e[30]);e[31]!==n?(a={command:a,description:y,handler:function(){return n&&n()},triggerFromInputs:!0},e[31]=n,e[32]=a):a=e[32];var z;e[33]===Symbol["for"]("react.memo_cache_sentinel")?(y={key:c("CometKeys").TAB},z=h._(/*BTDS*/"__JHASH__Z6s23TRj9Pk__JHASH__"),e[33]=y,e[34]=z):(y=e[33],z=e[34]);e[35]!==s?(y={command:y,description:z,handler:function(){return s&&s()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},e[35]=s,e[36]=y):y=e[36];var A;e[37]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").TAB,shift:!0},A=h._(/*BTDS*/"__JHASH__Z6s23TRj9Pk__JHASH__"),e[37]=z,e[38]=A):(z=e[37],A=e[38]);e[39]!==r?(z={command:z,description:A,handler:function(){return r&&r()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},e[39]=r,e[40]=z):z=e[40];e[41]!==p?(A=p!=null?{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"__JHASH__1sCLmeZcned__JHASH__"),handler:p,triggerFromInputs:!0}:null,e[41]=p,e[42]=A):A=e[42];e[43]!==q?(p=q!=null?{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"__JHASH__01-Oxa-x2ap__JHASH__"),handler:q,triggerFromInputs:!0}:null,e[43]=q,e[44]=p):p=e[44];e[45]!==w||e[46]!==x||e[47]!==a||e[48]!==y||e[49]!==z||e[50]!==A||e[51]!==p||e[52]!==u||e[53]!==v?(q=[u,v,w,x,a,y,z,A,p].filter(Boolean),e[45]=w,e[46]=x,e[47]=a,e[48]=y,e[49]=z,e[50]=A,e[51]=p,e[52]=u,e[53]=v,e[54]=q):q=e[54];w=q;x=w;a=c("useCometTypeaheadInputRefsWebOnly")(b);y=a.composedRef;z=a.inputRef;e[55]!==g||e[56]!==z?(A=babelHelpers["extends"]({inputRef:z},g),e[55]=g,e[56]=z,e[57]=A):A=e[57];p=c("useCometTypeaheadInputHandlers")(A);u=i===!0?"span":"div";e[58]!==f||e[59]!==y||e[60]!==p?(v=f(y,p),e[58]=f,e[59]=y,e[60]=p,e[61]=v):v=e[61];e[62]!==x||e[63]!==u||e[64]!==v?(q=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:x,elementType:u,xstyle:k.root,children:v}),e[62]=x,e[63]=u,e[64]=v,e[65]=q):q=e[65];return q}e=b;g["default"]=e}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var c=i(function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},[a,b]);j(function(){document.addEventListener("click",c);return function(){document.removeEventListener("click",c)}},[c])}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=i(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse",!1)}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(99),e,f,g,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;b[0]!==a?(B=a.contextualProps,g=a.description,i=a.errorMessage,C=a.extraLayoutProps,e=a.inputStrategyRenderer,m=a.label,n=a.onBackspace,o=a.onBlur,t=a.onFocus,p=a.onClick,q=a.onDownArrow,u=a.onLeftArrow,v=a.onRightArrow,r=a.onEnter,s=a.onEscape,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,A=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,D=a.xstyles,z=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23]);b[24]!==B?(a=B===void 0?{}:B,b[24]=B,b[25]=a):a=b[25];var E,F;if(b[26]!==a){B=a;E=B.align;F=B.position;B=babelHelpers.objectWithoutPropertiesLoose(B,["align","position"]);b[26]=a;b[27]=B;b[28]=E;b[29]=F}else B=b[27],E=b[28],F=b[29];a=E===void 0?"stretch":E;E=F===void 0?"below":F;F=C;C=F.ariaProps;var G=F.helperTextComponent,H=F.isAlwaysOpened,I=F.isLoading;F=F.isOpened;var J=C.ariaDescribedByProps,K=C.ariaInputProps,L=C.ariaViewProps;C=k(null);var M=k(null),N=c("useCometInternalTypeaheadState")(),O=N.activeEntries,P=N.highlightedEntry;b[30]!==z.onHighlightEntry?(N=c("cometHandleHighlightDropOnMouseLeave")(z.onHighlightEntry),b[30]=z.onHighlightEntry,b[31]=N):N=b[31];var Q=N;if(b[32]!==((N=D)==null?void 0:N.layoutXStyle)){var R;N=(h||(h=c("stylex"))).props((N=D)==null?void 0:N.layoutXStyle);b[32]=(R=D)==null?void 0:R.layoutXStyle;b[33]=N}else N=b[33];if(b[34]!==((R=D)==null?void 0:R.inputXStyle)){var S;R=(h||(h=c("stylex"))).props((R=D)==null?void 0:R.inputXStyle);b[34]=(S=D)==null?void 0:S.inputXStyle;b[35]=R}else R=b[35];S=F===!1&&A==="";var T;b[36]!==e||b[37]!==K||b[38]!==g||b[39]!==i||b[40]!==m||b[41]!==z.autoFocus||b[42]!==z.id||b[43]!==z.inputEndContent||b[44]!==z.inputExtraProps||b[45]!==z.inputStartContent||b[46]!==z.isDisabled||b[47]!==z.placeholder||b[48]!==z.testid||b[49]!==A?(T=function(a,b){return j.jsx(e,babelHelpers["extends"]({},b,{ariaProps:K,autoFocus:z.autoFocus,description:g,errorMessage:i,id:z.id,inputEndContent:z.inputEndContent,inputExtraProps:z.inputExtraProps,inputStartContent:z.inputStartContent,isDisabled:z.isDisabled,label:m,placeholder:z.placeholder,queryString:A,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[36]=e,b[37]=K,b[38]=g,b[39]=i,b[40]=m,b[41]=z.autoFocus,b[42]=z.id,b[43]=z.inputEndContent,b[44]=z.inputExtraProps,b[45]=z.inputStartContent,b[46]=z.isDisabled,b[47]=z.placeholder,b[48]=z.testid,b[49]=A,b[50]=T):T=b[50];var U;b[51]!==l||b[52]!==n||b[53]!==o||b[54]!==p||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==t||b[59]!==u||b[60]!==v||b[61]!==w||b[62]!==x||b[63]!==y||b[64]!==z.onChange||b[65]!==S||b[66]!==T?(U=j.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:S,onBackspace:n,onBlur:o,onChange:z.onChange,onClick:p,onDownArrow:q,onEnter:r,onEscape:s,onFocus:t,onLeftArrow:u,onRightArrow:v,onShiftTab:w,onTab:x,onUpArrow:y,ref:l,children:T}),b[51]=l,b[52]=n,b[53]=o,b[54]=p,b[55]=q,b[56]=r,b[57]=s,b[58]=t,b[59]=u,b[60]=v,b[61]=w,b[62]=x,b[63]=y,b[64]=z.onChange,b[65]=S,b[66]=T,b[67]=U):U=b[67];b[68]!==U||b[69]!==R?(l=j.jsx("div",babelHelpers["extends"]({},R,{children:U})),b[68]=U,b[69]=R,b[70]=l):l=b[70];b[71]!==l||b[72]!==N?(n=j.jsx("div",babelHelpers["extends"]({},N,{ref:M,children:l})),b[71]=l,b[72]=N,b[73]=n):n=b[73];b[74]!==J||b[75]!==G?(o=G!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},J,{children:G})),b[74]=J,b[75]=G,b[76]=o):o=b[76];if(b[77]!==f||b[78]!==O||b[79]!==a||b[80]!==L||b[81]!==B||b[82]!==P||b[83]!==H||b[84]!==I||b[85]!==F||b[86]!==Q||b[87]!==E||b[88]!==z.onAbandonTypeahead_DO_NOT_USE||b[89]!==z.onHighlightEntry||b[90]!==z.onOutsideClick||b[91]!==z.onPressEntry||b[92]!==A||b[93]!==((p=D)==null?void 0:p.viewXStyle_DO_NOT_USE)){q=(F===!0||H===!0)&&j.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},B,{align:a,contextRef:M,position:E,ref:C,children:j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:z.onOutsideClick,children:function(a){var b;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((b=D)==null?void 0:b.viewXStyle_DO_NOT_USE),{onMouseLeave:Q,ref:a,children:j.jsx(f,{ariaProps:L,entries:O,highlightedEntry:P,isLoading:I,onAbandonTypeahead_DO_NOT_USE:z.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:z.onHighlightEntry,onPressEntry:z.onPressEntry,queryString:A})}))}})}));b[77]=f;b[78]=O;b[79]=a;b[80]=L;b[81]=B;b[82]=P;b[83]=H;b[84]=I;b[85]=F;b[86]=Q;b[87]=E;b[88]=z.onAbandonTypeahead_DO_NOT_USE;b[89]=z.onHighlightEntry;b[90]=z.onOutsideClick;b[91]=z.onPressEntry;b[92]=A;b[93]=(r=D)==null?void 0:r.viewXStyle_DO_NOT_USE;b[94]=q}else q=b[94];b[95]!==n||b[96]!==o||b[97]!==q?(s=j.jsxs(j.Fragment,{children:[n,o,q]}),b[95]=n,b[96]=o,b[97]=q,b[98]=s):s=b[98];return s}g["default"]=a}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(){f({entry:null,secondaryActionHighlighted:!1,source:null}),e&&e()},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onChange,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var g=a.highlightedEntry;b[0]!==g||b[1]!==e||b[2]!==f?(a=function(a,b){g!=null&&f(null,"keyboard",!1),e&&e(a,b)},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(){var a=d("react-compiler-runtime").c(26),b=c("useCometInternalTypeaheadState")(),e=b.activeEntries,f=b.highlightedEntry,g=b.secondaryActionHighlighted,h;a[0]!==e?(h=c("baseTypeaheadFlattenEntries")(e),b=h.every(i),a[0]=e,a[1]=h,a[2]=b):(h=a[1],b=a[2]);e=b;var j=f!=null?f.key:null;a[3]!==j||a[4]!==g||a[5]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(h,j,function(b,c){a(b,"keyboard",c)},g)},a[3]=j,a[4]=g,a[5]=h,a[6]=b):b=a[6];f=b;a[7]!==j||a[8]!==g||a[9]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(h,j,function(b,c){a(b,"keyboard",c)},g)},a[7]=j,a[8]=g,a[9]=h,a[10]=b):b=a[10];b=b;var k;a[11]!==j||a[12]!==g||a[13]!==h||a[14]!==e?(k=e?function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveLeft(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[11]=j,a[12]=g,a[13]=h,a[14]=e,a[15]=k):k=a[15];k=k;k=k;var l;a[16]!==j||a[17]!==g||a[18]!==h||a[19]!==e?(l=e?function(a){d("cometTypeaheadKeyboardNavigationUtils").moveRight(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[16]=j,a[17]=g,a[18]=h,a[19]=e,a[20]=l):l=a[20];e=l;l=e;a[21]!==f||a[22]!==k||a[23]!==l||a[24]!==b?(e={onKeyboardDownArrow:f,onKeyboardLeftArrow:k,onKeyboardRightArrow:l,onKeyboardUpArrow:b},a[21]=f,a[22]=k,a[23]=l,a[24]=b,a[25]=e):e=a[25];return e}function i(a){return a.hasSecondaryAction===!0}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onDownArrow,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardDownArrow;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){g(f),e&&e()},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return i(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(a,b,c){f({entry:a,secondaryActionHighlighted:c,source:b}),e&&e(a,b,c)},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onLeftArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardLeftArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return i(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onPressEntry;b[0]!==c?(a=function(a,b){c(a,b)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onRightArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardRightArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardUpArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=function(){g(e),f&&f()},b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","react-compiler-runtime","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(42),e=a.inputRef,f=a.onBlur,g=a.onChange,h=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onLeftArrow,m=a.onOutsideClick,n=a.onPressEntry,o=a.onRightArrow;a=a.onUpArrow;var p;b[0]!==k?(p={onHighlightEntry:k},b[0]=k,b[1]=p):p=b[1];k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")(p);b[2]!==f?(p={onBlur:f},b[2]=f,b[3]=p):p=b[3];f=c("useCometTypeaheadLayoutStrategyOnBlurHandler")(p);b[4]!==k||b[5]!==g?(p={onChange:g,onHighlightEntry:k},b[4]=k,b[5]=g,b[6]=p):p=b[6];var q=c("useCometTypeaheadLayoutStrategyOnChangeHandler")(p);b[7]!==e||b[8]!==i?(g={inputRef:e,onEnter:i},b[7]=e,b[8]=i,b[9]=g):g=b[9];p=c("useCometTypeaheadLayoutStrategyOnEnterHandler")(g);b[10]!==q||b[11]!==j?(i=function(){q(""),j&&j()},b[10]=q,b[11]=j,b[12]=i):i=b[12];g=i;b[13]!==k||b[14]!==h?(i={onDownArrow:h,onHighlightEntry:k},b[13]=k,b[14]=h,b[15]=i):i=b[15];h=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")(i);b[16]!==k||b[17]!==a?(i={onHighlightEntry:k,onUpArrow:a},b[16]=k,b[17]=a,b[18]=i):i=b[18];a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")(i);b[19]!==n?(i={onPressEntry:n},b[19]=n,b[20]=i):i=b[20];n=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")(i);b[21]!==e||b[22]!==m?(i={inputRef:e,onOutsideClick:m},b[21]=e,b[22]=m,b[23]=i):i=b[23];e=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")(i);b[24]!==k||b[25]!==l?(m={onHighlightEntry:k,onLeftArrow:l},b[24]=k,b[25]=l,b[26]=m):m=b[26];i=c("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")(m);b[27]!==k||b[28]!==o?(l={onHighlightEntry:k,onRightArrow:o},b[27]=k,b[28]=o,b[29]=l):l=b[29];m=c("useCometTypeaheadLayoutStrategyOnRightArrowHandler")(l);b[30]!==f||b[31]!==q||b[32]!==h||b[33]!==p||b[34]!==g||b[35]!==k||b[36]!==i||b[37]!==e||b[38]!==n||b[39]!==m||b[40]!==a?(o={onBlur:f,onChange:q,onDownArrow:h,onEnter:p,onEscape:g,onHighlightEntry:k,onLeftArrow:i,onOutsideClick:e,onPressEntry:n,onRightArrow:m,onUpArrow:a},b[30]=f,b[31]=q,b[32]=h,b[33]=p,b[34]=g,b[35]=k,b[36]=i,b[37]=e,b[38]=n,b[39]=m,b[40]=a,b[41]=o):o=b[41];return o}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e=a.handlers,f=a.inputRef,g=a.shouldCloseOnEnter;a=a.shouldHandleCloseAfterHandlePressEntry;var h,i,j,k,l,m;b[0]!==e?(i=e.onAbandonTypeahead_DO_NOT_USE,j=e.onClick,k=e.onOutsideClick,l=e.onShiftTab,m=e.onTab,h=babelHelpers.objectWithoutPropertiesLoose(e,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]),b[0]=e,b[1]=h,b[2]=i,b[3]=j,b[4]=k,b[5]=l,b[6]=m):(h=b[1],i=b[2],j=b[3],k=b[4],l=b[5],m=b[6]);var n=g===void 0?!0:g,o=a===void 0?!1:a;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var p=e.dispatchIsOpened,q=e.isOpened;g=c("useCometInternalTypeaheadState")();var r=g.highlightedEntry,s=g.secondaryActionHighlighted;b[7]!==p||b[8]!==k?(a=function(){p(!1),k&&k()},b[7]=p,b[8]=k,b[9]=a):a=b[9];e=a;b[10]!==e||b[11]!==h||b[12]!==f?(g=babelHelpers["extends"]({inputRef:f,onOutsideClick:e},h),b[10]=e,b[11]=h,b[12]=f,b[13]=g):g=b[13];a=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(g);e=a.onBlur;var t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape;f=a.onHighlightEntry;var x=a.onLeftArrow;g=a.onOutsideClick;var y=a.onPressEntry,z=a.onRightArrow,A=a.onUpArrow;b[14]!==p||b[15]!==i?(a=function(){p(!1),i&&i()},b[14]=p,b[15]=i,b[16]=a):a=b[16];a=a;var B;b[17]!==p||b[18]!==j?(B=function(){p(!0),j&&j()},b[17]=p,b[18]=j,b[19]=B):B=b[19];B=B;var C;b[20]!==p||b[21]!==t?(C=function(a,b){p(!0),t&&t(a,b)},b[20]=p,b[21]=t,b[22]=C):C=b[22];C=C;var D;b[23]!==p||b[24]!==q||b[25]!==u?(D=function(){q?u&&u():p(!0)},b[23]=p,b[24]=q,b[25]=u,b[26]=D):D=b[26];D=D;var E;b[27]!==p||b[28]!==q||b[29]!==x?(E=x!=null?function(){x!=null&&(q?x():p(!0))}:void 0,b[27]=p,b[28]=q,b[29]=x,b[30]=E):E=b[30];E=E;E=E;var F;b[31]!==p||b[32]!==q||b[33]!==z?(F=z!=null?function(){z!=null&&(q?z():p(!0))}:void 0,b[31]=p,b[32]=q,b[33]=z,b[34]=F):F=b[34];F=F;F=F;var G;b[35]!==p||b[36]!==r||b[37]!==v||b[38]!==s||b[39]!==n?(G=function(){s!==!0&&((n||r!=null&&!n)&&p(!1)),v&&v()},b[35]=p,b[36]=r,b[37]=v,b[38]=s,b[39]=n,b[40]=G):G=b[40];G=G;var H;b[41]!==p||b[42]!==h||b[43]!==q||b[44]!==w?(H=function(){q?(p(!1),h.onEscape&&h.onEscape()):w&&w()},b[41]=p,b[42]=h,b[43]=q,b[44]=w,b[45]=H):H=b[45];H=H;var I;b[46]!==p||b[47]!==y||b[48]!==o?(I=function(a,b){o||p(!1),y&&y(a,b),o&&p(!1)},b[46]=p,b[47]=y,b[48]=o,b[49]=I):I=b[49];I=I;var J;b[50]!==p||b[51]!==l?(J=function(){p(!1),l&&l()},b[50]=p,b[51]=l,b[52]=J):J=b[52];J=J;var K;b[53]!==p||b[54]!==m?(K=function(){p(!1),m&&m()},b[53]=p,b[54]=m,b[55]=K):K=b[55];K=K;var L;b[56]!==p||b[57]!==q||b[58]!==A?(L=function(){!q?p(!0):A&&A()},b[56]=p,b[57]=q,b[58]=A,b[59]=L):L=b[59];L=L;var M;b[60]!==a||b[61]!==C||b[62]!==B||b[63]!==D||b[64]!==G||b[65]!==H||b[66]!==E||b[67]!==I||b[68]!==F||b[69]!==J||b[70]!==K||b[71]!==L||b[72]!==e||b[73]!==f||b[74]!==g?(M={onAbandonTypeahead_DO_NOT_USE:a,onBlur:e,onChange:C,onClick:B,onDownArrow:D,onEnter:G,onEscape:H,onHighlightEntry:f,onLeftArrow:E,onOutsideClick:g,onPressEntry:I,onRightArrow:F,onShiftTab:J,onTab:K,onUpArrow:L},b[60]=a,b[61]=C,b[62]=B,b[63]=D,b[64]=G,b[65]=H,b[66]=E,b[67]=I,b[68]=F,b[69]=J,b[70]=K,b[71]=L,b[72]=e,b[73]=f,b[74]=g,b[75]=M):M=b[75];return M}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),c=a.isDisabled,e=a.isError,f=a.isOpened,g=a.isWarning;a=a.xstyles;c=c===void 0?!1:c;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var h=a.inputXStyle,j=a.layoutOpenedXStyle,k=a.layoutXStyle;a=a.viewXStyle_DO_NOT_USE;j=f&&j;c=c&&i.stateDisabled;f=f&&i.stateOpened;e=e&&i.stateError;g=g&&i.stateWarning;var l;b[0]!==k||b[1]!==e||b[2]!==g||b[3]!==j||b[4]!==c||b[5]!==f?(l=[i.defaultLayout,k,j,c,f,e,g],b[0]=k,b[1]=e,b[2]=g,b[3]=j,b[4]=c,b[5]=f,b[6]=l):l=b[6];b[7]!==a?(k=[a],b[7]=a,b[8]=k):k=b[8];b[9]!==h||b[10]!==l||b[11]!==k?(e={inputXStyle:h,layoutXStyle:l,viewXStyle_DO_NOT_USE:k},b[9]=h,b[10]=l,b[11]=k,b[12]=e):e=b[12];g=e;return g}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(82),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(x=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,k=a.onBlur,l=a.onChange,m=a.onClick,n=a.onDownArrow,o=a.onEnter,p=a.onEscape,q=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,t=a.onShiftTab,u=a.onTab,v=a.onUpArrow,B=a.viewRole,e=a.inputRef,y=a.shouldHandleCloseAfterHandlePressEntry,z=a.shouldCloseOnEnter,A=a.xstyles,w=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22]);b[23]!==x?(a=x===void 0?{}:x,b[23]=x,b[24]=a):a=b[24];x=a;a=x.afterViewContent;x=x.beforeViewContent;y=y===void 0?!1:y;z=z===void 0?!0:z;var C;b[25]!==A?(C=A===void 0?{}:A,b[25]=A,b[26]=C):C=b[26];var D;if(b[27]!==C){A=C;D=A.viewXStyle_DO_NOT_USE;A=babelHelpers.objectWithoutPropertiesLoose(A,["viewXStyle_DO_NOT_USE"]);b[27]=C;b[28]=D;b[29]=A}else D=b[28],A=b[29];C=c("useCometInternalTypeaheadFetch")();C=C.isLoading;var E=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();E=E.isOpened;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries;F=F.highlightedEntry;e=c("useCometTypeaheadInputRefs")(e);var H=e.composedRef;e=e.inputRef;var I;b[30]!==h||b[31]!==k||b[32]!==l||b[33]!==m||b[34]!==n||b[35]!==o||b[36]!==p||b[37]!==q||b[38]!==r||b[39]!==s||b[40]!==t||b[41]!==u||b[42]!==v?(I={onAbandonTypeahead_DO_NOT_USE:h,onBlur:k,onChange:l,onClick:m,onDownArrow:n,onEnter:o,onEscape:p,onHighlightEntry:q,onOutsideClick:r,onPressEntry:s,onShiftTab:t,onTab:u,onUpArrow:v},b[30]=h,b[31]=k,b[32]=l,b[33]=m,b[34]=n,b[35]=o,b[36]=p,b[37]=q,b[38]=r,b[39]=s,b[40]=t,b[41]=u,b[42]=v,b[43]=I):I=b[43];b[44]!==e||b[45]!==z||b[46]!==y||b[47]!==I?(h={handlers:I,inputRef:e,shouldCloseOnEnter:z,shouldHandleCloseAfterHandlePressEntry:y},b[44]=e,b[45]=z,b[46]=y,b[47]=I,b[48]=h):h=b[48];k=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[49]!==G||b[50]!==f||b[51]!==F||b[52]!==E||b[53]!==g||b[54]!==B?(l={activeEntries:G,helperText:f,highlightedEntry:F,inputLabel:g,isOpened:E,viewRole:B},b[49]=G,b[50]=f,b[51]=F,b[52]=E,b[53]=g,b[54]=B,b[55]=l):l=b[55];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[56]!==D?(n=[j.view,D],b[56]=D,b[57]=n):n=b[57];b[58]!==n||b[59]!==A?(o=babelHelpers["extends"]({viewXStyle_DO_NOT_USE:n},A),b[58]=n,b[59]=A,b[60]=o):o=b[60];b[61]!==E||b[62]!==o?(p={isOpened:E,xstyles:o},b[61]=E,b[62]=o,b[63]=p):p=b[63];q=c("useCometTypeaheadLayoutStrategyStyles")(p);b[64]!==f?(r=f!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[64]=f,b[65]=r):r=b[65];b[66]!==a||b[67]!==m||b[68]!==x||b[69]!==C||b[70]!==E||b[71]!==r?(s={afterViewContent:a,ariaProps:m,beforeViewContent:x,helperTextComponent:r,isLoading:C,isOpened:E},b[66]=a,b[67]=m,b[68]=x,b[69]=C,b[70]=E,b[71]=r,b[72]=s):s=b[72];b[73]!==H||b[74]!==k||b[75]!==f||b[76]!==g||b[77]!==w||b[78]!==q||b[79]!==s||b[80]!==B?(t=i.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},w,k,{extraLayoutProps:s,helperText:f,inputRef:H,label:g,viewRole:B,xstyles:q})),b[73]=H,b[74]=k,b[75]=f,b[76]=g,b[77]=w,b[78]=q,b[79]=s,b[80]=B,b[81]=t):t=b[81];return t}g["default"]=a}),98);
__d("XCometActivityLogControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/allactivity/",Object.freeze({manage_mode:!1,should_load_landing_page:!1,activity_history:!1}),void 0);b=a;g["default"]=b}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){var e=b.shouldQueryStringFollowHighlightedEntry;b=i.forwardRef(f);function f(b,f){var g=d("react-compiler-runtime").c(7),h,j;g[0]!==b?(h=b.queryString,j=babelHelpers.objectWithoutPropertiesLoose(b,["queryString"]),g[0]=b,g[1]=h,g[2]=j):(h=g[1],j=g[2]);b=c("useCometInternalTypeaheadState")();var k=b.highlightedEntry;b=b.highlightedEntrySource;b=e&&b==="keyboard"&&k!=null?k.label:h;g[3]!==f||g[4]!==b||g[5]!==j?(k=i.jsx(a,babelHelpers["extends"]({},j,{queryString:b,ref:f})),g[3]=f,g[4]=b,g[5]=j,g[6]=k):k=g[6];return k}return b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("InstagramMediaProductTypeName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LIVE:"live",FEED:"feed",STORY:"story",DIRECT:"direct",IGTV:"igtv",NAMETAG:"nametag",DIRECT_AUDIO:"direct_audio",CAROUSEL_ITEM:"carousel_item",CAROUSEL_CONTAINER:"carousel_container",PROFILE_PIC:"profile_pic",AD:"ad",AR_EFFECT_PREVIEW:"ar_effect_preview",DIRECT_PERMANENT:"direct_permanent",SELFIE_STICKER:"selfie_sticker",COWATCH_LOCAL:"cowatch_local",CLIPS:"clips",GUIDE_MEDIA_FACADE:"guide_media_facade",FUNDRAISER_COVER:"fundraiser_cover",LIVE_ARCHIVE:"live_archive",HIGHLIGHT_POST_FACADE:"highlight_post_facade",DIRECT_THREAD:"direct_thread",SCHEDULED_LIVE:"scheduled_live",RATINGS_AND_REVIEWS:"ratings_and_reviews",DIRECT_HEADMOJI:"direct_headmoji",CLIPS_PREVIEW:"clips_preview",REPOST_MEDIA_FACADE:"repost_media_facade",STORY_INTERACTION_RESPONSE:"story_interaction_response",MEDIA_KIT:"media_kit",TEXT_POST:"text_post",NOTE_AUDIO:"note_audio",DIRECT_MESSAGE_COMMENT_FACADE:"direct_message_comment_facade"});c=a;f["default"]=c}),66);
__d("IGDThreadTTLCUtils",["IGDInstamadilloUtils","InstagramMediaProductTypeName","LSThreadBitOffset","ZenonRTWebBrowserFeatureSupport","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=[225,235,226,227,228,229,230,231,232,233,234,236];function i(a,b){if(a==null||d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a))return!1;return!c("qex")._("954")?!1:d("LSThreadBitOffset").has(b,a)}function j(a){return i(a,225)}function k(a){if(!c("gkx")("2400"))return!1;return!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()?!1:i(a,235)}function l(a){return i(a,226)}function m(a){return i(a,227)}function n(a){return i(a,228)}function o(a){return i(a,229)}function p(a){return i(a,230)}function q(a){return i(a,231)}function r(a){return i(a,232)}function s(a){return i(a,233)}function t(a){return i(a,234)}function u(a){return i(a,236)}function v(a){return a==null||d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a)||!c("qex")._("954")?!1:w(a)}function w(a){return a==null?!1:h.some(function(b){return d("LSThreadBitOffset").has(b,a)})}function a(a,b){var d=a.isDisappearingModeSettingOn,e=a.isTTLCClipEnabled,f=a.isTTLCGenericXMAShareEnabled,g=a.isTTLCMediaShareEnabled;a=a.isTTLCStoryShareEnabled;b=c("InstagramMediaProductTypeName").cast(b);if(b==null||d)return!1;if(!c("qex")._("954"))return!1;switch(b){case"feed":case"carousel_container":case"ad":return g;case"clips":return e;case"story":return a;case"live":return f;default:return!1}}function b(a){return new Map([["Text",j(a)],["Clip",l(a)],["Reel Share",m(a)],["Media Share",n(a)],["Story Share",o(a)],["Link",p(a)],["Generic XMA",q(a)],["Profile",u(a)],["Image",r(a)],["Video",s(a)],["Audio",t(a)],["Gif/Sticker/Avatar",void 0],["Raven",void 0],["Media Collection",void 0],["Calling",k(a)],["Rest of Message Types",void 0]])}function e(a){return{is_instamadillo_ttlc:String(v(a)),is_instamadillo_ttlc_audio:String(t(a)),is_instamadillo_ttlc_clip:String(l(a)),is_instamadillo_ttlc_generic_xma:String(q(a)),is_instamadillo_ttlc_image:String(r(a)),is_instamadillo_ttlc_link:String(p(a)),is_instamadillo_ttlc_media_share:String(n(a)),is_instamadillo_ttlc_profile:String(u(a)),is_instamadillo_ttlc_reel_share:String(m(a)),is_instamadillo_ttlc_story_share:String(o(a)),is_instamadillo_ttlc_text:String(j(a)),is_instamadillo_ttlc_video:String(s(a))}}function f(a){return{is_instamadillo_ttlc:v(a),is_instamadillo_ttlc_audio:t(a),is_instamadillo_ttlc_clip:l(a),is_instamadillo_ttlc_generic_xma:q(a),is_instamadillo_ttlc_image:r(a),is_instamadillo_ttlc_link:p(a),is_instamadillo_ttlc_media_share:n(a),is_instamadillo_ttlc_profile:u(a),is_instamadillo_ttlc_reel_share:m(a),is_instamadillo_ttlc_story_share:o(a),is_instamadillo_ttlc_text:j(a),is_instamadillo_ttlc_video:s(a)}}function x(a,b){if(a==null)return!1;switch(a.__typename){case"XMSGIgReceiverFetchXmaFeedFetchParams":return n(b);case"XMSGIgReceiverFetchXmaProfileFetchParams":return q(b);case"XMSGIgReceiverFetchXmaClipFetchParams":return l(b);default:return!1}}function y(a){return a==null?!1:d("LSThreadBitOffset").has(261,a)}g.isInstamadilloTTLCTextEnabled=j;g.isInstamadilloTTLCCallingEnabled=k;g.isInstamadilloTTLCClipEnabled=l;g.isInstamadilloTTLCReelShareEnabled=m;g.isInstamadilloTTLCMediaShareEnabled=n;g.isInstamadilloTTLCStoryShareEnabled=o;g.isInstamadilloTTLCLinkEnabled=p;g.isInstamadilloTTLCGenericXmaEnabled=q;g.isInstamadilloTTLCImageEnabled=r;g.isInstamadilloTTLCVideoEnabled=s;g.isInstamadilloTTLCAudioEnabled=t;g.isInstamadilloTTLCProfileEnabled=u;g.isIGDTTLCEnabledForThread=v;g.threadHasInstamadilloTTLCCapability=w;g.isIGDTTLCEnabledForIGDCandidate=a;g.getTtlcMessageTypeMap=b;g.getTTLCLoggingExtraData=e;g.getTTLCBooleanAnnotations=f;g.isXmaReceiverFetchTTLCEnabled=x;g.isInstamadilloOptionalE2EE=y}),98);
__d("IGDInstamadilloUtils",["ExecutionEnvironment","IGDThreadTTLCUtils","LSThreadBitOffset","gkx","isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(a==null?void 0:a.transportKey)==="Instamadillo"}function j(a){return a==null?!1:d("LSThreadBitOffset").has(214,a)}function a(a){return a==null?!1:d("LSThreadBitOffset").has(212,a)}function k(a){return a==null?!1:d("LSThreadBitOffset").has(38,a)}function b(a){return a==null?!1:d("LSThreadBitOffset").has(211,a)}function e(a){var b=j(a);a=l(a);return a||b}function l(a){if(c("gkx")("6650"))return!1;var b=k(a),e=j(a);a=d("IGDThreadTTLCUtils").threadHasInstamadilloTTLCCapability(a);return b&&(e||a)}function f(a,b){a=i(a)&&a.ephemeralExpirationTs!=null;return b&&a||!b&&!a}function m(a){a=i(a);return!a?!0:c("isInstamadillo")()}function n(){return c("gkx")("6650")===!0}var o=function(){var a={browser:(h||(h=c("ExecutionEnvironment"))).isInBrowser,isLegacyArmadilloTLC:c("qex")._("121")===!0,isMobileDM:c("gkx")("2553"),isMobileInstamadilloTLC:c("gkx")("2322"),isMobileOrWebTTLC:c("gkx")("2406"),isWebTTLC:c("qex")._("954")===!0,sharedWorker:h.isInSharedWorker,worker:h.isInWorker},b="";a=Object.entries(a);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];b+=f+": "+String(e)+"\n"}return b};g.isInstamadilloMessage=i;g.isInstamadilloCutover=j;g.isInstamadilloDMToggleEnabled=a;g.isIGDDisappearingModeEnabled=k;g.isInstamadilloTransportEnabled=b;g.isInstamadilloHardblockEnabled=e;g.isDMHardblockedEnabled=l;g.shouldRenderMessageReply=f;g.canMutateIGDMessage=m;g.isInstamadilloSecurityAlertsEnabled=n;g.getE2EEGatingStateAsString=o}),98);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_INBOX_PEOPLE_YOU_MAY_KNOW:65549,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET:65550,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET_QP:65551,MESSENGER_INBOX_META_AI_FAB:65552,MESSENGER_INBOX_META_AI_LONG_PRESS_MENU:65553,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MESSENGER_UNIVERSAL_SEARCH_AI_PROMPT:131077,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD:131078,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_AIRPLANE_SEND:131079,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND:131080,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_DONUT:131081,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_DONUT:131082,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_AIRPLANE_SEND:131083,MESSENGER_UNIVERSAL_SEARCH_META_AI_SEARCH_RESULT:131084,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_SNIPPET:131085,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND_SNIPPET:131086,MESSENGER_UNIVERSAL_SEARCH_SERP_SNIPPET:131087,MESSENGER_UNIVERSAL_SEARCH_SERP_SNIPPET_PILL:131088,MESSENGER_UNIVERSAL_SEARCH_AI_DISCOVERY_MODULE:131089,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MONTAGE_AND_ACTIVE_NOW_SEE_ALL_ACTIVE:196615,MONTAGE_AND_ACTIVE_NOW_AN_TRAY_STORY_REPLY:196616,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_META_AI_FAB:262150,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED_OPTIMISTIC_LTV:589829,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED_LEAD_GEN:589830,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,FB_SEARCH_NULL_STATE:917511,FB_SEARCH_TYPEAHEAD:917512,FB_SEARCH_TYPEAHEAD_AIRPLANE_SEND:917513,FB_SEARCH_TYPEAHEAD_KEYBOARD_SEND:917514,FB_SEARCH_TYPEAHEAD_DONUT:917515,FB_SEARCH_NULL_STATE_DONUT:917516,FB_SEARCH_NULL_STATE_AIRPLANE_SEND:917517,FB_SEARCH_NULL_STATE_KEYBOARD_SEND:917518,FB_SEARCH_SERP_PROMPT_SUGGESTIONS:917519,FB_SEARCH_AI_DISCOVERY_MODULE:917520,FB_SEARCH_TYPEAHEAD_AI_SHORTCUT:917521,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,MARKETPLACE_GEN_AI_ACCORDION_META_AI_PILL:1245187,MARKETPLACE_GEN_AI_ACCORDION_FOLLOW_UP_QUESTION:1245188,MARKETPLACE_GEN_AI_PRICE_CHECK_META_AI_PILL:1245189,MARKETPLACE_GEN_AI_PRICE_CHECK_FOLLOW_UP_QUESTION:1245190,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_GENERIC:1245191,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_WITH_PROMPT:1245192,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_GENERIC:1245193,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_WITH_PROMPT:1245194,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,FB_STORY_NOTES:1310732,FB_STORY_TRY_META_AI_STICKER:1310733,FB_STORY_CHALLENGES_NOMINATION:1310734,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_FEED_SOCIAL_CONNECTIONS_QP:1572877,FB_FEED_META_AI_DEEP_DIVES:1572878,FB_FEED_META_AI_SHARE_SHEET:1572879,FB_FEED_META_AI_TRENDING_DISCOVER_UNIT:1572880,FB_FEED_META_AI_POST_DEEPDIVE_PILL:1572881,FB_FEED_META_AI_EDUCATIONAL_QP:1572882,FB_FEED_META_AI_ENTITY_SUMMARIZATION_DISCOVER_UNIT:1572883,FB_FEED_META_AI_COMMENTS_SUMMARY:1572884,FB_FEED_META_AI_FAB:1572885,FB_FEED_META_AI_ADS_CAMPAIGN:1572886,FB_FEED_META_AI_ANSWERSHEET:1572887,FB_FEED_META_AI_BOOKMARK:1572888,FB_FEED_META_AI_FAB_COMMENTS_SUMMARY:1572889,FB_FEED_META_AI_FAB_CONTEXTUAL:1572890,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,MESSENGER_COMMUNITY_MESSAGING_CHANNEL_CREATION_NOTIFICATION:2293763,MESSENGER_COMMUNITY_MESSAGING_FRIEND_JOINED_COMMUNITY_CHAT_NOTIFICATION:2293764,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MESSAGING_INBOX_IN_BLUE_INBOX_SEARCH_BAR:2490388,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,SHARESHEET_BROADCAST_CHANNEL:2883587,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,FB_GROUPS_INLINE_COMPOSER:3211269,FB_GROUPS_SCOPED_SEARCH:3211270,FB_GROUPS_UNJOINED_MALL_HEADER:3211271,FB_GROUPS_DISCOVER_FEED_UNIT:3211272,FB_GROUPS_ANSWER_AGENT_CONTEXTUAL_PROFILE:3211273,FB_GROUPS_ANSWER_AGENT_FOLLOWUP_SECTION:3211274,FB_GROUPS_NOTIFICATION_MESSAGING_IN_BLUE_DIRECT_MESSAGE:3211275,FB_GROUPS_UGC:3211276,FB_GROUPS_UGC_POST:3211277,FB_GROUPS_UGC_MALL_PLINK:3211278,FB_GROUPS_UGC_MALL_NUX:3211279,FB_GROUPS_UGC_ADMIN_TESTING:3211280,FB_GROUPS_UGC_INTRO_POST:3211281,FB_GROUPS_UGC_QP:3211282,FB_GROUPS_UGC_DEEP_DIVE_GET_ANSWER_PILL:3211283,FB_GROUPS_UGC_DEEP_DIVE_PILL:3211284,FB_GROUPS_UGC_FAB:3211285,FB_GROUPS_UGC_REMINDER_NOTIF:3211286,FB_GROUPS_UGC_COMMENT_RESPONSE_UPSELL:3211287,FB_GROUPS_UGC_CONTEXTUAL_PROFILE:3211288,FB_GROUPS_UGC_DEEP_DIVE_ASK_SOMETHING_ELSE:3211289,FB_GROUPS_UGC_CONTEXTUAL_CARD_ASK_SOMETHING_ELSE:3211290,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,MESSENGER_GROWTH_MESSAGE_REQUEST_JEWEL:3866626,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,HIGHLIGHTS_TAB_THREAD_VIEW_NOTE:4587534,HIGHLIGHTS_TAB_FEED_INLINE_NOTE:4587535,HIGHLIGHTS_TAB_CONNECTED_BROADCAST_CHANNEL_SHARE_SHEET:4587536,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_BIRTHDAY:4587537,HIGHLIGHTS_TAB_SHARE_SHEET_HOLIDAY_CARD:4587538,HIGHLIGHTS_TAB_META_AI_BIRTHDAY:4587539,HIGHLIGHTS_TAB_QUICK_REACT_CONNECTED_CHAT:4587540,HIGHLIGHTS_TAB_QUICK_REACT_LOCAL_EVENT:4587541,HIGHLIGHTS_TAB_QUICK_REACT_FRIENDS_UPDATE:4587542,HIGHLIGHTS_TAB_QUICK_REACT_BIRTHDAY:4587543,HIGHLIGHTS_TAB_QUICK_REACT_STORIES:4587544,HIGHLIGHTS_TAB_QUICK_REACT_NOTE:4587545,HIGHLIGHTS_TAB_QUICK_REACT_LIFE_EVENT:4587546,HIGHLIGHTS_TAB_META_AI_FAB:4587547,HIGHLIGHTS_TAB_FEED_INLINE_CHAT_WITH_FRIENDS:4587548,HIGHLIGHTS_TAB_THREAD_VIEW_CHAT_WITH_FRIENDS:4587549,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_LOCAL_EVENT:4587550,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_FRIENDS_UPDATE:4587551,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_NOTE:4587552,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_CHAT_WITH_FRIENDS:4587553,HIGHLIGHTS_TAB_FB_POST_MEMORIES_SHARE_SHEET:4587554,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_READONLY_VERSION_OF_CUTOVER_THREAD:5177358,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489,MESSENGER_CTA_AFTER_CALL_ENDS:5505024,MESSENGER_CONVERSATION_SHORTCUT:5570560,CC_ADMIN_SEND_MESSAGE_HINT_CARD:5636096,CC_MEMBER_SEND_MESSAGE_HINT_CARD:5701632,MSGR_AVATAR_DETAILS:5767168,PRIVATE_SHARING_FORWARD_SUPER_SHARE_SHEET:5832704,MEMORIES:5898240,META_AI_TAB:5963776,MEMORIES_NOTIFICATION:6029312,MEMORIES_QUICK_PROMOTION:6094848,MEMORIES_HIGHLIGHTS_TAB:6160384,MEMORIES_LIST:6225920,MSGR_PYMK_LIST_SCREEN:6291456,INSTAGRAM_WEB_SENDS:6356992,AI_SUGGESTED_PROMPT_TRAY:6422528,AI_SUGGESTED_PROMPT_ICEBREAKER:6488064,COMMUNITY_INVITE:6553600,COMMUNITY_CHAT_INVITE:6619136,AI_DISCOVERY_BOTTOM_SHEET:6684672,IN_THREAD_INVITE_MODEL:6750208,SUPPORT_FOLDER:6815744,MARKETPLACE_PDP:6881280,QR_CODE:6946816,WRITE_WITH_AI:7012352,AI_HOME_CHAT_WITH_AI:7077888,AI_HOME_INBOX_QP:7143424,AI_AGENT_MESSAGE_SHARE:7208960,AI_HOME_FROM_THREAD:7274496,AI_HOME_FROM_THREAD_DETAIL:7274497,AI_HOME_FROM_THREAD_HEADER:7274498,AI_HOME_FROM_THREAD_META_AI_THREAD_DETAIL:7274499,AI_HOME_FROM_THREAD_META_AI_THREAD_HEADER:7274500,AI_HOME_FROM_FOLDER_LIST:7340032,AI_HOME_FROM_FB_BOOKMARK:7405568,FB_FANDOM:7471104,AI_HOME_INBOX_RETENTION_QP:7536640,MEMORIES_INBOX_TRAY:7602176,MESSENGER_VOICEMAIL:7667712,AI_UGC_FB_FEED_QP:7733248,MESSENGER_INBOX_IP_QP:7798784,COMMUNITY_GROUP_CHAT_UPGRADES_INVITE:7864320,MESSENGER_SECRET_CONVERSATIONS:7929856,MESSENGER_SECRET_CONVERSATIONS_SECRET_CONVERSATIONS_FOLDER:7929857,CROSS_CUSTOMER_SUPPORT:7995392,CROSS_CUSTOMER_SUPPORT_FB_HELP_CENTER_META_AI_CARD:7995393,AI_LOOKUP:8060928,PINNED_MESSAGES_THREAD_DETAILS:8126464,CM_MEMBER_REPORTS_BLOKS:8192e3,MEMORIES_TEMPLATE:8257536,FB_TREP_UGC_CREATION:8323072,MESSENGER_STORIES_TAB:8388608,MESSENGER_STORIES_TAB_META_AI_FAB:8388609,META_AI_ENTITY_DETECTION:8454144,AI_HOME_FROM_AI_STUDIO_TAB:8519680,QR_CODE_LINK:8585216,META_AI_PROMPT_SHEET:8650752,UGC_BOT_IMMERSIVE_THREAD:8716288,UGC_BOT_IMMERSIVE_THREAD_AI_STUDIO_TAB:8716289,UGC_BOT_IMMERSIVE_THREAD_INBOX:8716290,UGC_BOT_IMMERSIVE_THREAD_AI_HOME:8716291,IGD_WEB_CHAT_TAB:8781824,IGD_WEB_CHAT_TAB_IN_THREAD:8781825,IGD_WEB_CHAT_TAB_NOTIFICATION:8781826,FB_PYMK_FEED_MESSAGE_BUTTON:8847360,MSGR_UGC_IMMERSIVE_THREAD:8912896,MSGR_UGC_IMMERSIVE_THREAD_AI_STUDIO_TAB:8912897,MSGR_UGC_IMMERSIVE_THREAD_LEFT_NAV_AI_STUDIO_TAB:8912898,MSGR_UGC_IMMERSIVE_THREAD_MORE_MENU_AI_STUDIO_TAB:8912899,MSGR_UGC_IMMERSIVE_THREAD_AI_STUDIO_TAB_AI_HOME:8912900,MSGR_UGC_IMMERSIVE_THREAD_COMPOSER_AI_HOME:8912901,MSGR_UGC_IMMERSIVE_THREAD_INBOX:8912902,MSGR_UGC_IMMERSIVE_THREAD_ACTIVE_NOW:8912903,MSGR_UGC_IMMERSIVE_THREAD_META_AI_HEADER_AI_HOME:8912904,MSGR_UGC_IMMERSIVE_THREAD_UGC_HEADER_AI_HOME:8912905,MSGR_UGC_IMMERSIVE_THREAD_THREAD_DETAIL_AI_HOME:8912906,MSGR_UGC_IMMERSIVE_THREAD_META_AI_THREAD_DETAIL_AI_HOME:8912907,MSGR_UGC_IMMERSIVE_THREAD_DEEPLINK:8912908,MSGR_UGC_IMMERSIVE_THREAD_NOTIFICATION:8912909});f["default"]=a}),66);
__d("MAWDbXMA",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).to_float(a)}g.convertNumbersToXMAIds=a;g.convertNumberToXMAId=b;g.convertXMAId64ToXMAId=c}),98);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qxa6a|xn--qcka1pmc|xn--q9jyb4c|xn--q7ce6a|xn--pssy2u|xn--pgbs0dh|xn--p1ai|xn--p1acf|xn--otu796d|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbcpq6gpa1a|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbah1a3hjkrd|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq480n2rg|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cckwcxetd|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--4dbrk0ce|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|wanggou|wang|walter|walmart|wales|vu|voyage|voto|voting|vote|volvo|vodka|vn|vlaanderen|vivo|viva|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|sydney|sy|sx|swiss|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statefarm|statebank|star|staples|stada|st|ss|srl|sr|spot|sport|space|spa|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|show|shouji|shopping|shop|shoes|shiksha|shia|shell|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|secure|seat|search|se|sd|scot|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sc|sbs|sbi|sb|saxo|save|sas|sarl|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|ro|rip|rio|ril|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|radio|racing|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|party|parts|partners|pars|paris|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|online|onl|ong|one|omega|om|ollo|olayangroup|olayan|okinawa|office|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|name|nagoya|nab|na|mz|my|mx|mw|mv|music|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movie|mov|motorcycles|moto|moscow|mortgage|mormon|monster|money|monash|mom|moi|moe|moda|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|merckmsd|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|ma|ly|lv|luxury|luxe|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|locus|locker|loans|loan|llp|llc|lk|living|live|lipsy|link|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kim|kids|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jio|jewelry|jetzt|jeep|je|jcb|java|jaguar|itv|itau|it|istanbul|ist|ismaili|is|irish|ir|iq|ipiranga|io|investments|intuit|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hot|hosting|host|hospital|horse|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujitsu|ftr|frontier|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|events|eus|eurovision|eu|et|estate|esq|es|erni|ericsson|er|equipment|epson|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|dunlop|dubai|dtv|drive|download|dot|domains|dog|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrome|christmas|chintai|cheap|chat|chase|charity|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|cd|cc|cbre|cbn|cba|catholic|catering|cat|casino|cash|case|casa|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|amazon|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|al|akdn|airtel|airforce|airbus|aig|ai|agency|agakhan|ag|africa|afl|af|aetna|aero|aeg|ae|adult|ads|ad|actor|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(^|\\s)(?:"+g+"[.]){3}"+g+")";g=g;var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!==-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c,d=n.exec(a);if(!d)return null;((c=d[1])==null?void 0:c.trim())===""&&(d[0]=d[0].trim(),d.index+=d[1].length);b=!1;if(d[0][0]==="["&&d.index>0&&a[d.index-1]==="@"){c=p.exec(d[0]);c&&(b=!0,a=a.substr(d.index+c[0].length))}}while(b);if(!d)return null;c=a.substr(d.index+d[0].length);if(c.length===0||!u.test(c[0]))return y(d[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<c.length;j++){var k=c[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(d[0]+c.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("MWHasLinksUtil",["URLMatcher","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isStringNullOrEmpty")(a)?!1:c("URLMatcher").match(a)!=null}g.getHasLinks=a}),98);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video",Share:"share"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasShare;h=h===void 0?!1:h;var i=a.hasSticker;i=i===void 0?!1:i;var j=a.hasVideo;j=j===void 0?!1:j;a=a.hasVoiceClip;a=a===void 0?!1:a;var k=g.None;e?k=g.Image:j?k=g.Video:d?k=g.HotEmoji:i?k=g.Sticker:c?k=g.Gif:a?k=g.Audio:f?k=g.Link:b?k=g.File:h&&(k=g.Share);return k}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWVersion",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("2");g.v2=a}),98);
__d("MWSharedS2SBaseAnnotations",["$InternalEnum","I64","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","MAWEBSwitch","MWHasLinksUtil","MWMsgMediaTypeLogUtils","MWVersion","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({Send:"send",Reaction:"reaction",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply",Unsend:"unsend",GroupInvite:"group-invite",SenderKeyDistribution:"sender-key-distribution",EphemeralSetting:"ephemeral-setting"}),j=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=a.hasAttachment,g=a.hasEphemeralSetting,k=a.hasGroupInvite,m=a.hasReaction,n=a.hasReply,o=a.hasSenderKeyDistribution,p=a.hasStoryReply,q=a.hasText,r=a.isUnsend;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasAttachment","hasEphemeralSetting","hasGroupInvite","hasReaction","hasReply","hasSenderKeyDistribution","hasStoryReply","hasText","isUnsend"]);var s=i.Send;n?s=i.Reply:p?s=i.StoryReply:r?s=i.Unsend:m?s=i.Reaction:k?s=i.GroupInvite:g?s=i.EphemeralSetting:o&&(s=i.SenderKeyDistribution);n=d("MWMsgMediaTypeLogUtils").getAttachmentType(a);p=q&&(!n||n===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?j.Text:j.NonText;return{bool:{has_attachment:f,has_sticker:a.hasSticker,is_attachments_grouped:a.isAttachmentsGrouped,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:Boolean(c("gkx")("8483")),is_tlc_public_user:c("gkx")("24028"),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{number_of_attachments:a.numberOfAttachments,number_of_grouped_attachments:a.numberOfGroupedAttachments},string:{action_type:s,attachment_type:n,entrypoint:l(b),message_type:p,multipleTabs:yield d("MultipleTabsLogger").getMultipleTabsAnnotation(),mw_version:(h||(h=d("I64"))).to_string(d("MWVersion").v2),root_component:e}}});return k.apply(this,arguments)}function l(a){var b;return(b=Object.keys(c("LSMessagingThreadAttributionType")).find(function(b){return c("LSMessagingThreadAttributionType")[b]===a}))!=null?b:"UNKNOWN"}function e(a){var b=a.externalAttachmentUrl,e=a.hotEmojiSize,f=a.isEphemeralSetting,g=a.isGroupInvite,h=a.isReaction,i=a.isSenderKeyDistribution,j=a.isUnsend,k=a.mediaGroupInfo,l=a.mediaStagings,m=a.messageText,n=a.reply,o=a.sentFromShareSheet,p=a.stickerId,q=a.threadType;a=a.voiceClip;var r=!c("isStringNullOrEmpty")(m);m=d("MWHasLinksUtil").getHasLinks(m);var s=!1;a=a!=null;a?s=!0:b!=null&&(s=!0);var t=!1,u=!1,v=!1,w=0,x=0,y;if(l!=null&&l.length>0){s=!0;for(var z of l){var A=z.mimeType;A.indexOf("image")!==-1&&(t=!0);A.indexOf("video")!==-1&&(u=!0);A.indexOf("application")!==-1&&(v=!0)}if(t&&q!=null){A=d("LSMessagingThreadTypeUtil").isArmadilloSecure(q);y=!A}w=l.length}k!=null&&(y=!0,x=k.messagesAndAttachments.length);z=e!=null;q=n!=null;A=n!=null;l=p!=null&&!z;k=!l&&b!=null;e=o===!0;n=h===!0;p=g===!0;b=f===!0;o=i===!0;return{hasAttachment:s,hasEphemeralSetting:b,hasFile:v,hasGif:k,hasGroupInvite:p,hasHotEmoji:z,hasImage:t,hasLinks:m,hasReaction:n,hasReply:q,hasSenderKeyDistribution:o,hasShare:e,hasSticker:l,hasStoryReply:A,hasText:r,hasVideo:u,hasVoiceClip:a,isAttachmentsGrouped:y,isUnsend:(h=j)!=null?h:!1,numberOfAttachments:w,numberOfGroupedAttachments:x}}g.ActionType=i;g.MsgType=j;g.getSendToSentBaseAnnotations=a;g.getEntrypointAnnotation=l;g.getMessageTypeParams=e}),98);/*FB_PKG_DELIM*/
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onFetchEntries_DO_NOT_USE,j=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==h||b[2]!==j?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);h&&h(b);j&&!j.isResolved()&&(d&&(a==="cache"&&b.length>=j.getEntriesCountForVisualComplete()?j.setEndReason("max_suggestions_reached"):a==="network"?j.setEndReason("all_queries_completed"):a==="network-no-results"&&j.setEndReason("all_queries_completed_no_network_results"),j.resolve()))},b[0]=k,b[1]=h,b[2]=j,b[3]=a):a=b[3];a=a;var l;b[4]!==f||b[5]!==g||b[6]!==a?(l={dataSource:f,dataSourceFetchConfigParams:g,onResolvePayload:a},b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];f=c("useBaseTypeaheadDataSourceFetch")(l);g=f[0];a=f[1];l=f[2];f=g.isLoading;g=g.source;var m;b[8]!==a||b[9]!==f||b[10]!==l||b[11]!==g?(m={fetch:a,isLoading:f,refetch:l,source:g},b[8]=a,b[9]=f,b[10]=l,b[11]=g,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==g?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:f,source:g,children:e}),b[13]=e,b[14]=f,b[15]=g,b[16]=m):m=b[16];b[17]!==m||b[18]!==l?(a=i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:l,children:m}),b[17]=m,b[18]=l,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(r=a.autoOpen,A=a.autoFocus,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,B=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,C=a.isDisabled,D=a.label,m=a.loggingContext,E=a.onBackspace,F=a.onBlur,o=a.onChange,G=a.onClose,H=a.onEnter,s=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,t=a.onFocus,u=a.onOpen,q=a.onPressEntry,v=a.placeholder,w=a.shouldQueryStringFollowHighlightedEntry,x=a.shouldQueryStringUpdateFromSelectedEntryOnClick,y=a.testid,I=a.traceProvider,z=a.viewRole,f=a.viewStrategyRenderer,l=a.inputRef,J=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30]);a=r===void 0?!1:r;r=A===void 0?!1:A;b[31]!==B?(A=B===void 0?[]:B,b[31]=B,b[32]=A):A=b[32];B=A;A=C===void 0?!1:C;C=D===void 0?"":D;D=E===void 0?c("emptyFunction"):E;E=F===void 0?c("emptyFunction"):F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?"":v;v=w===void 0?!0:w;var K=x===void 0?!0:x;w=y===void 0?"":y;x=z===void 0?"listbox":z;y=j();var L;b[33]!==B?(L=c("CometInternalTypeahead.react"),B.forEach(function(a){var b=a.decorate;a=a.params;L=b(L,a)}),b[33]=B,b[34]=L):L=b[34];z=L;B=z;b[35]!==o||b[36]!==q||b[37]!==K?(z=function(a,b){K&&o(a.label),q==null?void 0:q(a,b)},b[35]=o,b[36]=q,b[37]=K,b[38]=z):z=b[38];z=z;var M;b[39]!==e||b[40]!==v?(M=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:v}),b[39]=e,b[40]=v,b[41]=M):M=b[41];e=M;v=e;M=C||u;C=(e=n)!=null?e:y;if(b[42]!==v||b[43]!==B||b[44]!==f||b[45]!==r||b[46]!==l||b[47]!==D||b[48]!==E||b[49]!==G||b[50]!==H||b[51]!==s||b[52]!==z||b[53]!==A||b[54]!==o||b[55]!==u||b[56]!==M||b[57]!==C||b[58]!==w||b[59]!==I||b[60]!==J||b[61]!==x){e=i.jsx(B,babelHelpers["extends"]({},J,{autoFocus:r,id:C,inputRef:l,inputStrategyRenderer:v,isDisabled:A,label:M,onBackspace:D,onBlur:E,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:G,onEscape:H,onFocus:s,onHighlightEntry:n,onPressEntry:z,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:u,testid:void 0,traceProvider:I,viewRole:x,viewStrategyRenderer:f}));b[42]=v;b[43]=B;b[44]=f;b[45]=r;b[46]=l;b[47]=D;b[48]=E;b[49]=G;b[50]=H;b[51]=s;b[52]=z;b[53]=A;b[54]=o;b[55]=u;b[56]=M;b[57]=C;b[58]=w;b[59]=I;b[60]=J;b[61]=x;b[62]=e}else e=b[62];b[63]!==g||b[64]!==h||b[65]!==m||b[66]!==p||b[67]!==e||b[68]!==I?(y=i.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:I,children:e}),b[63]=g,b[64]=h,b[65]=m,b[66]=p,b[67]=e,b[68]=I,b[69]=y):y=b[69];b[70]!==a||b[71]!==k||b[72]!==F||b[73]!==t||b[74]!==y?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:F,onOpen:t,children:y})}),b[70]=a,b[71]=k,b[72]=F,b[73]=t,b[74]=y,b[75]=n):n=b[75];return n}g["default"]=a}),98);
__d("CometSearchBaseTypeaheadTitleSnippetViewItem.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.isBadged,f=a.level,g=a.snippet;a=a.title;e=e===void 0?!1:e;g=g===void 0?null:g;var h=!0,j=f;f===1?j=2:f===2?j=3:f===3&&(j=4);e&&(h=!1);b[0]!==j||b[1]!==h||b[2]!==g||b[3]!==a?(f=i.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineLineLimit:2,level:j,reduceEmphasis:h}),b[0]=j,b[1]=h,b[2]=g,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("FBNucleusCrossFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","CometPressable.react","CometSearchRecentDataSourceDispatcherContext","FBNucleusCrossFilled20Icon.react","FDSIcon.react","XPlatReactEnvironment","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useState,m={buttonContainer:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},buttonContainerActive:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.entry;a=a.testid;var f=k(c("CometSearchRecentDataSourceDispatcherContext")),g=l(!1),i=g[0],n=g[1];g=c("useCometInternalTypeaheadState")();var o=g.highlightedEntry;g=g.secondaryActionHighlighted;var p;b[0]!==e||b[1]!==f?(p=function(a){a&&a.type!=="press"&&a.stopPropagation(),n(!0),f==null?void 0:f.dispatchRemoveRecentEntry(e)},b[0]=e,b[1]=f,b[2]=p):p=b[2];p=p;var q;b[3]!==e.label?(q=h._(/*BTDS*/"__JHASH__Ijy7L8hrf8E__JHASH__",[h._param("search_term",e.label)]),b[3]=e.label,b[4]=q):q=b[4];q=q;o=o===e&&g===!0&&m.buttonContainerActive;b[5]!==o?(g=[m.buttonContainer,o],b[5]=o,b[6]=g):g=b[6];b[7]!==q||b[8]!==i?(o=j.jsx(c("FDSIcon.react"),{"aria-label":q,color:"secondary",disabled:i,focusable:!1,icon:c("FBNucleusCrossFilled20Icon.react"),size:d("XPlatReactEnvironment").isWeb()?12:20}),b[7]=q,b[8]=i,b[9]=o):o=b[9];b[10]!==p||b[11]!==g||b[12]!==o||b[13]!==a?(q=j.jsx(c("CometPressable.react"),{onPress:p,overlayRadius:999,showDynamicHover:!0,testid:void 0,xstyle:g,children:o}),b[10]=p,b[11]=g,b[12]=o,b[13]=a,b[14]=q):q=b[14];return q}g["default"]=a}),226);
__d("CometTypeaheadFocusLockRegion.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.xstyle;var e=j;b[0]!==c||b[1]!==a?(e=i.jsx(d("react-strict-dom").html.div,{onMouseDown:e,style:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function j(a){a.preventDefault()}g["default"]=a}),98);
__d("FBNucleusClockOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10.75 5.75a.75.75 0 0 0-1.5 0V10c0 .199.079.39.22.53l2.5 2.5a.75.75 0 1 0 1.06-1.06l-2.28-2.28V5.75z"}),i.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusHashtagOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9.036 1.897a.75.75 0 0 0-1.471-.294L6.685 6H2.75a.75.75 0 0 0 0 1.5h3.635l-1 5H1.75a.75.75 0 0 0 0 1.5h3.335l-.82 4.103a.75.75 0 0 0 1.47.294L6.616 14h5.22l-.82 4.103a.75.75 0 0 0 1.47.294l.88-4.397h3.885a.75.75 0 0 0 0-1.5h-3.585l1-5h3.585a.75.75 0 0 0 0-1.5h-3.285l.82-4.103a.75.75 0 0 0-1.47-.294L13.435 6h-5.22l.82-4.103zm3.1 10.603H6.914l1-5h5.22l-1 5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusMagnifyingGlassFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.5 1a6.5 6.5 0 1 0 3.835 11.749l1.958 1.958a1 1 0 0 0 1.414-1.414l-1.958-1.958A6.5 6.5 0 0 0 7.5 1zM3 7.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("SearchCometInterestsDeepDiveUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.trim();var b=a.match(/^#(\S+)$/);a=a.split("#").length>2;return!a&&b!=null?b[1]:null}f.getHashtagTag=a}),66);
__d("CometTypeaheadViewItemIcon.react",["ix","FBNucleusClockOutline20Icon.react","FBNucleusHashtagOutline20Icon.react","FBNucleusMagnifyingGlassFilled16Icon.react","FDSIcon.react","SearchCometInterestsDeepDiveUtil","XPlatReactEnvironment","fbicon","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0},iconFBVR:{backgroundColor:"x1qhmfi1",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.isActive;a=a&&k.iconActive;var e;b[0]!==a?(e=[k.icon,d("XPlatReactEnvironment").isWeb()?null:k.iconFBVR,a],b[0]=a,b[1]=e):e=b[1];b[2]!==c||b[3]!==e?(a=j.jsx(d("react-strict-dom").html.div,{style:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}function a(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!0,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function b(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!1,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function f(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function m(a){var b=d("react-compiler-runtime").c(3),e=a.isRecent;a=a.label;if(d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a)!=null){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusHashtagOutline20Icon.react"),size:16}),b[0]=a):a=b[0];return a}else if(e){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusClockOutline20Icon.react"),size:20}),b[1]=a):a=b[1];return a}else{b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusMagnifyingGlassFilled16Icon.react"),size:16}),b[2]=e):e=b[2];return e}}g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=f}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17);if(b[0]!==a){var e=a.entry,f=a.isActive;a.queryString;var g=a.testid,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);e=e;f=f;g=g;h=h;b[0]=a;b[1]=e;b[2]=f;b[3]=h;b[4]=g}else e=b[1],f=b[2],h=b[3],g=b[4];a=e;a=a.label;var j;b[5]!==f||b[6]!==a?(j=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:f,label:a}),b[5]=f,b[6]=a,b[7]=j):j=b[7];a=(a=a)!=null?a:"";var k;b[8]!==a?(k=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:a}),b[8]=a,b[9]=k):k=b[9];b[10]!==e||b[11]!==f||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==g?(a=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:j,testid:void 0,children:k})),b[10]=e,b[11]=f,b[12]=h,b[13]=j,b[14]=k,b[15]=g,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=i.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:i.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:e,testid:void 0})}),b[3]=e,b[4]=a):a=b[4];var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=i.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},f,{entry:e,itemEndContent:a,itemEndContentKeyboardFocusable:!0,testid:void 0})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.color;a=a.xstyle;f=f===void 0?"tertiary":f;var g=c("useCometTypeaheadEmptyState")(),h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=g?i.jsx(d("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[j.root,a],children:i.jsx(c("FDSText.react"),{color:f,numberOfLines:1,type:"body3",children:e})}):null,b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._(/*BTDS*/"__JHASH__H5N-2GNjT0N__JHASH__")}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];h=String(h);var j;b[8]!==h?(j=h.toLowerCase(),b[8]=h,b[9]=j):j=b[9];b[10]!==j?(h=i.jsx(c("FDSText.react"),{numberOfLines:1,type:"body3",children:j}),b[10]=j,b[11]=h):h=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==a||b[16]!==h?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,children:h})),b[12]=e,b[13]=f,b[14]=g,b[15]=a,b[16]=h,b[17]=j):j=b[17];return j}g["default"]=a}),98);
__d("CometTypeaheadErrorFallback.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"bodyLink3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"body3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750\u077F\u08A0\u08FF\uFB50\uFDFF\uFE70\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.content,g=a.query;a=a.strategy;if(g==null||f==null)return null;var h=null;bb0:switch(a){case"match":h=d("cometTypeaheadHighlightUtils").highlightMatch;break bb0;case"non-match":h=d("cometTypeaheadHighlightUtils").highlightNonMatch;break bb0;default:}if(h&&g.length!==0){b[0]!==f||b[1]!==h||b[2]!==g?(a=h(g,f).map(j),b[0]=f,b[1]=h,b[2]=g,b[3]=a):a=b[3];b[4]!==a?(h=i.jsx(i.Fragment,{children:a}),b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==h?(g=e(h),b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}b[9]!==f?(a=i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:f,isMatched:!1}}),b[9]=f,b[10]=a):a=b[10];b[11]!==e||b[12]!==a?(h=e(a),b[11]=e,b[12]=a,b[13]=h):h=b[13];return h}function j(a,b){return a.isMatched?i.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(92),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;b[0]!==a?(D=a.extraLayoutProps,g=a.description,h=a.errorMessage,k=a.extraViewProps,m=a.id,e=a.inputStrategyRenderer,n=a.label,o=a.onBackspace,p=a.onBlur,q=a.onChange,r=a.onClick,s=a.onDownArrow,w=a.onLeftArrow,x=a.onRightArrow,t=a.onEnter,u=a.onEscape,v=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,E=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25]);a=D;D=a.ariaProps;var F=a.helperTextComponent,G=a.isAlwaysOpened,H=a.isLoading;a=a.isOpened;var I=D.ariaDescribedByProps,J=D.ariaInputProps,K=D.ariaViewProps;b[26]!==E?(D=E===void 0?{}:E,b[26]=E,b[27]=D):D=b[27];E=D;D=c("useCometInternalTypeaheadState")();var L=D.activeEntries,M=D.highlightedEntry;b[28]!==a||b[29]!==E?(D={isOpened:a,xstyles:E},b[28]=a,b[29]=E,b[30]=D):D=b[30];E=c("useCometTypeaheadLayoutStrategyStyles")(D);D=E.inputXStyle;var N=E.layoutXStyle,O=E.viewXStyle_DO_NOT_USE;b[31]!==B.onHighlightEntry?(E=c("cometHandleHighlightDropOnMouseLeave")(B.onHighlightEntry),b[31]=B.onHighlightEntry,b[32]=E):E=b[32];var P=E;E=G===!0?C==="":a===!1&&C==="";var Q;b[33]!==e||b[34]!==J||b[35]!==g||b[36]!==h||b[37]!==m||b[38]!==n||b[39]!==B.autoFocus||b[40]!==B.inputEndContent||b[41]!==B.inputExtraProps||b[42]!==B.inputStartContent||b[43]!==B.isDisabled||b[44]!==B.placeholder||b[45]!==B.testid||b[46]!==C?(Q=function(a,b){return i.jsx(e,babelHelpers["extends"]({},b,{ariaProps:J,autoFocus:B.autoFocus,description:g,errorMessage:h,id:m,inputEndContent:B.inputEndContent,inputExtraProps:B.inputExtraProps,inputStartContent:B.inputStartContent,isDisabled:B.isDisabled,label:n,placeholder:B.placeholder,queryString:C,ref:a,testid:void 0}))},b[33]=e,b[34]=J,b[35]=g,b[36]=h,b[37]=m,b[38]=n,b[39]=B.autoFocus,b[40]=B.inputEndContent,b[41]=B.inputExtraProps,b[42]=B.inputStartContent,b[43]=B.isDisabled,b[44]=B.placeholder,b[45]=B.testid,b[46]=C,b[47]=Q):Q=b[47];var R;b[48]!==l||b[49]!==o||b[50]!==p||b[51]!==q||b[52]!==r||b[53]!==s||b[54]!==t||b[55]!==u||b[56]!==v||b[57]!==w||b[58]!==x||b[59]!==y||b[60]!==z||b[61]!==A||b[62]!==E||b[63]!==Q?(R=i.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:E,onBackspace:o,onBlur:p,onChange:q,onClick:r,onDownArrow:s,onEnter:t,onEscape:u,onFocus:v,onLeftArrow:w,onRightArrow:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:l,children:Q}),b[48]=l,b[49]=o,b[50]=p,b[51]=q,b[52]=r,b[53]=s,b[54]=t,b[55]=u,b[56]=v,b[57]=w,b[58]=x,b[59]=y,b[60]=z,b[61]=A,b[62]=E,b[63]=Q,b[64]=R):R=b[64];b[65]!==D||b[66]!==R?(l=i.jsx(d("react-strict-dom").html.div,{style:D,children:R}),b[65]=D,b[66]=R,b[67]=l):l=b[67];b[68]!==I||b[69]!==F?(o=F!=null&&i.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:j.helperText},I,{children:F})),b[68]=I,b[69]=F,b[70]=o):o=b[70];b[71]!==f||b[72]!==L||b[73]!==K||b[74]!==k||b[75]!==M||b[76]!==G||b[77]!==H||b[78]!==a||b[79]!==P||b[80]!==B.onAbandonTypeahead_DO_NOT_USE||b[81]!==B.onHighlightEntry||b[82]!==B.onOutsideClick||b[83]!==B.onPressEntry||b[84]!==C||b[85]!==O?(p=(a===!0||G===!0)&&i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:B.onOutsideClick,children:function(a){return i.jsx(d("react-strict-dom").html.div,{onMouseLeave:P,ref:a,style:O,children:i.jsx(f,{ariaProps:K,entries:L,extraViewProps:k,highlightedEntry:M,isLoading:H,onAbandonTypeahead_DO_NOT_USE:B.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:B.onHighlightEntry,onPressEntry:B.onPressEntry,queryString:C})})}}),b[71]=f,b[72]=L,b[73]=K,b[74]=k,b[75]=M,b[76]=G,b[77]=H,b[78]=a,b[79]=P,b[80]=B.onAbandonTypeahead_DO_NOT_USE,b[81]=B.onHighlightEntry,b[82]=B.onOutsideClick,b[83]=B.onPressEntry,b[84]=C,b[85]=O,b[86]=p):p=b[86];b[87]!==N||b[88]!==l||b[89]!==o||b[90]!==p?(q=i.jsxs(d("react-strict-dom").html.div,{style:N,children:[l,o,p]}),b[87]=N,b[88]=l,b[89]=o,b[90]=p,b[91]=q):q=b[91];return q}g["default"]=a}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];var k;b[8]!==e.label||b[9]!==h?(k=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:h,strategy:"non-match",children:j}),b[8]=e.label,b[9]=h,b[10]=k):k=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==a||b[15]!==k?(h=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,testid:void 0,children:k})),b[11]=e,b[12]=f,b[13]=g,b[14]=a,b[15]=k,b[16]=h):h=b[16];return h}function j(a){return i.jsx(c("FDSText.react"),{numberOfLines:2,type:"body3",children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","ix","CometTypeaheadViewItem.react","FDSIcon.react","FDSText.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useMemo;function a(a){var b=d("react-compiler-runtime").c(16),e,f,g,h;b[0]!==a?(e=a.entry,f=a.extraViewItemProps,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);(a=f)==null?void 0:a.placeholderBuilder;a=(f=(a=f)==null?void 0:a.placeholderBuilder)!=null?f:l;f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe"},b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",babelHelpers["extends"]({},a,{children:k.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("491282"),16),size:16})})),b[6]=a):a=b[6];var j;b[7]!==f||b[8]!==h?(j=f(h),b[7]=f,b[8]=h,b[9]=j):j=b[9];b[10]!==j?(f=k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:j}),b[10]=j,b[11]=f):f=b[11];b[12]!==e||b[13]!==g||b[14]!==f?(h=k.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,itemStartContent:a,children:f})),b[12]=e,b[13]=g,b[14]=f,b[15]=h):h=b[15];return h}function l(a){return h._(/*BTDS*/"__JHASH__rcEEwxiDmS5__JHASH__",[h._implicitParam("=m1",k.jsx("strong",{children:h._(/*BTDS*/"__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a.toLowerCase())])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.additionalEntryMappings,d=a.seeAllLabelBuilder,e=a.children,f=a.entry;a=a.fallbackViewItem;a=a===void 0?c("CometTypeaheadKeywordViewItem.react"):a;var g=i(function(){var a;return[].concat((a=b)!=null?a:[],j({seeAllLabelBuilder:d}))},[b,d]);g=g.find(function(a){a=a.resolver;return a(f)});if(g){var h=g.viewItem;g=g.viewItemProps;return e(h,g)}return e(a)}function j(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("SearchGeminiGlobalResultPageTracePolicy",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT_TAB:"gemini.search_results.default",HASHTAG:"gemini.search_results.hashtag"});f["default"]=a}),66);
__d("XCometSearchResultsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/search/{?searchtype}/{?*bqf}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("isSearchGeminiGlobalResultPageTracePolicy",["SearchGeminiGlobalResultPageTracePolicy"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Object.values(c("SearchGeminiGlobalResultPageTracePolicy")).includes(a)}g["default"]=a}),98);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometInternalTypeaheadStateDispatcher","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;function a(a,b){var e=b.dataSource,f=b.shouldSubscribeToRecentSearches;function g(b){var g=d("react-compiler-runtime").c(28),k,l,m,n,o;g[0]!==b?(k=b.inputRef,l=b.onChange,m=b.onPressEntry,n=b.onSelectFreeformQuery,o=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","onSelectFreeformQuery"]),g[0]=b,g[1]=k,g[2]=l,g[3]=m,g[4]=n,g[5]=o):(k=g[1],l=g[2],m=g[3],n=g[4],o=g[5]);b=c("useCometInternalTypeaheadFetch")();var p=b.refetch;b=c("useCometInternalTypeaheadStateDispatcher")();var q=b.dispatchHighlightedEntry;b=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var r=b.subscribeToRecentSearchEntryAdded,s;g[6]!==r?(b=function(){if(f)return r==null?void 0:r(h)},s=[r],g[6]=r,g[7]=b,g[8]=s):(b=g[7],s=g[8]);j(b,s);g[9]!==n?(b=function(a){var b={hasSecondaryAction:!0,key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};e.addRecentEntry(b);n&&n(a)},g[9]=n,g[10]=b):b=g[10];s=b;g[11]!==p?(b=function(a){e.removeRecentEntry(a,{onBeforeCommitMutation:function(){p({source:"cache"})}})},g[11]=p,g[12]=b):b=g[12];var t=b;g[13]!==q||g[14]!==m||g[15]!==t?(b=function(a,b){var c,d=a.label,f=a.metaData;c=(c=f==null?void 0:f.markers)!=null?c:new Set();if(b===!0&&a.subtype==="recent"){t(a);q({entry:null,secondaryActionHighlighted:null,source:null});return}if(c.has("nullstate_explore")){m&&m(a);return}var g=new Set(["recent"]);c.has("entity")&&g.add("entity");c.has("direct_nav")&&g.add("direct_nav");c.has("high_confidence")&&g.add("high_confidence");a.subtype==="recent"||a.subtype==="bootstrap"||a.subtype==="keyword"?c=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):c={};f=(f=f==null?void 0:f.logging)!=null?f:{};var h=f.entityID,i=f.entityType,j=f.loggingInfo,k=f.stsDirectNavEntityID,l=f.stsDirectNavType,n=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;e.addRecentEntry({hasSecondaryAction:!0,key:d.toLocaleLowerCase(),label:d,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:l,stsDisambiguationType:n,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:c,subtype:"recent",type:"entry"});m==null?void 0:m(a,b)},g[13]=q,g[14]=m,g[15]=t,g[16]=b):b=g[16];b=b;var u;g[17]!==t?(u={dispatchRemoveRecentEntry:t},g[17]=t,g[18]=u):u=g[18];u=u;u=u;var v;g[19]!==k||g[20]!==s||g[21]!==b||g[22]!==l||g[23]!==o?(v=i.jsx(a,babelHelpers["extends"]({},o,{inputRef:k,onChange:l,onPressEntry:b,onSelectFreeformQuery:s})),g[19]=k,g[20]=s,g[21]=b,g[22]=l,g[23]=o,g[24]=v):v=g[24];g[25]!==u||g[26]!==v?(k=i.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:u,children:v}),g[25]=u,g[26]=v,g[27]=k):k=g[27];return k}function h(a){e.addRecentEntry(a)}return g}g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useCometRouterDispatcher")(),f=i(c("CometProductAttributionContext")),g;b[0]!==e||b[1]!==f||b[2]!==(a==null?void 0:a.openNewTabForExternalLink)||b[3]!==(a==null?void 0:a.tapPoint)?(g=function(b,d){if(b==null)return;if(e!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:f};c("isCometRouterUrl")(b)?e.go(b,{productAttributionUpdateProps:g}):(a==null?void 0:a.openNewTabForExternalLink)===!0?e.go(b,{}):c("goForceFullPageRedirectTo")(b)}else d&&d(b)},b[0]=e,b[1]=f,b[2]=a==null?void 0:a.openNewTabForExternalLink,b[3]=a==null?void 0:a.tapPoint,b[4]=g):g=b[4];a==null?void 0:a.openNewTabForExternalLink;a==null?void 0:a.tapPoint;return g}g["default"]=a}),98);
__d("useCometTypeaheadStateQueryString",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c=j(a),e=c[0],f=c[1],g;b[0]!==a?(c=function(){return f(a)},g=[a],b[0]=a,b[1]=c,b[2]=g):(c=b[1],g=b[2]);i(c,g);b[3]!==e?(c=[e,f],b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("useSearchCometResultsEntryPointSurface",["isSearchCometGlobalResultPageTracePolicy","isSearchCometScopedResultPageTracePolicy","isSearchGeminiGlobalResultPageTracePolicy","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([["apps","SERP_APPS_TAB"],["events","SERP_EVENTS_TAB"],["groups","SERP_GROUPS_TAB"],["links","SERP_NEWS_LINK_TAB"],["pages","SERP_PAGES_TAB"],["people","SERP_PEOPLE_TAB"],["photos","SERP_PHOTOS_TAB"],["places","SERP_PLACES_TAB"],["posts","SERP_POSTS_TAB"],["top","SERP_TOP_TAB"],["videos","SERP_VIDEOS_TAB"]]),i=new Map([["groups_home","GROUPS_HOME_SERP_ALL_TAB"],["groups","GROUPS_HOME_SERP_GROUPS_TAB"],["posts","GROUPS_HOME_SERP_GROUP_POSTS_TAB"]]);function a(a){var b=d("react-compiler-runtime").c(9);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=c("useCometRouterState")();if(a!=null)return a;b[2]!==(f==null?void 0:f.pushViewStack)?(a=(f==null?void 0:f.pushViewStack)||[],b[2]=f==null?void 0:f.pushViewStack,b[3]=a):a=b[3];a=a;if(a.length>0){a=(a=a[a.length-1])==null?void 0:a.route}else a=f==null?void 0:f.main.route;f=(f=a)==null?void 0:f.tracePolicy;a=(a=a)==null?void 0:(a=a.params)==null?void 0:a.searchtype;a=typeof a==="string"?a:null;e=(e=e)!=null?e:a;if(e!=null&&f!=null&&(c("isSearchCometGlobalResultPageTracePolicy")(f)||c("isSearchGeminiGlobalResultPageTracePolicy")(f)||f==="comet.groups.search")){a=f==="comet.groups.search"?i:h;var g;b[4]!==e||b[5]!==a?(g=a.get(e),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}var j;if(f!=null&&!c("isSearchCometScopedResultPageTracePolicy")(f)&&!c("isSearchCometGlobalResultPageTracePolicy")(f)&&!c("isSearchGeminiGlobalResultPageTracePolicy")(f)){b[7]!==f?(e=f.match(/^((comet|gemini)\.[a-zA-Z_]+).*$/),b[7]=f,b[8]=e):e=b[8];a=e;a!=null&&(j=a[1])}return(g=j)!=null?g:f}g["default"]=a}),98);
__d("useSearchCometResultsCommonRouteParamBuilder",["Base64","CometRouteParams","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(8);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=d("CometRouteParams").useRouteParams(),g=f.__tsid__;b[2]!==e||b[3]!==a?(f={currentSearchType:e,entryPointSurface:a},b[2]=e,b[3]=a,b[4]=f):f=b[4];var h=c("useSearchCometResultsEntryPointSurface")(f);b[5]!==g||b[6]!==h?(e={build:function(a){var b=a.disableAutocorrect,d=a.encryptedQueryFunction,e=a.encryptedServerDefinedExperience,f=a.entryPointAction,i=a.filters,j=a.highConfidenceResult,k=a.query,l=a.stsDisambiguation;a=a.typeaheadSessionID;k={q:k};d!=null&&(k.f=d);e!=null&&(k.sde=e);a!=null?k.__tsid__=a:typeof g==="string"&&(k.__tsid__=g);f!=null&&(k.__epa__=f);h!=null&&(k.__eps__=h);b===!0&&(k.spell="1");i!=null&&(k.filters=c("Base64").encode(JSON.stringify(i)));l!=null&&(k.__stsd__=c("Base64").encode(JSON.stringify(l)));if(j!=null){d=j.id;e=j.source;k.__hcr__=c("Base64").encode(JSON.stringify({id:d,source:e}))}return k}},b[5]=g,b[6]=h,b[7]=e):e=b[7];a=e;return a}g["default"]=a}),98);
__d("useSearchCometResultsURLBuilder",["react","react-compiler-runtime","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e,f;b[0]!==a?(f=a.routeBuilder,e=babelHelpers.objectWithoutPropertiesLoose(a,["routeBuilder"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;var g=a.currentSearchType,h=c("useSearchCometResultsCommonRouteParamBuilder")(e);b[3]!==h||b[4]!==g||b[5]!==f?(a=function(a){var b=a.searchType;return f.buildURL(babelHelpers["extends"]({},h.build(babelHelpers["extends"]({},a)),{searchtype:(b=(a=b)!=null?a:g)!=null?b:"top"}))},b[3]=h,b[4]=g,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){b===void 0&&(b=!0);return i(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,shouldSubscribeToRecentSearches:b}}},[a,b])}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.additionalEntryMappings,f=a.getLinkProps,g=a.seeAllLabelBuilder;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.entry,d=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return i.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:e,entry:b,seeAllLabelBuilder:g,children:function(a,c){return i.jsx(a,babelHelpers["extends"]({},h,{entry:b,extraViewItemProps:c,linkProps:f==null?void 0:f({entry:b,queryString:d}),queryString:d}))}})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(15),e=a.additionalEntryMappings,f=a.afterNullstateContent,g=a.emptyStateContent,h=a.getLinkProps,j=a.isScrollable,k=a.nullstateContent,l=a.onHeaderActionPress,m=a.scrollableXStyle,n=a.seeAllLabelBuilder,o=a.xstyle;b[0]!==e||b[1]!==h||b[2]!==n?(a={additionalEntryMappings:e,getLinkProps:h,seeAllLabelBuilder:n},b[0]=e,b[1]=h,b[2]=n,b[3]=a):a=b[3];e=c("useSearchCometTypeaheadViewItem")(a);b[4]!==g||b[5]!==k||b[6]!==l||b[7]!==e?(h={emptyStateContent:g,nullstateContent:k,onHeaderActionPress:l,viewItemStrategyRenderer:e},b[4]=g,b[5]=k,b[6]=l,b[7]=e,b[8]=h):h=b[8];var p=c("useCometTypeaheadSectionedViewListStrategy")(h);b[9]!==p||b[10]!==f||b[11]!==j||b[12]!==m||b[13]!==o?(n=function(a){var b=a.ariaProps,e=a.entries,g=a.highlightedEntry,h=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=i.jsxs(i.Fragment,{children:[i.jsx(p,babelHelpers["extends"]({ariaProps:b,entries:e,highlightedEntry:g,isLoading:h,queryString:k},a)),f!=null&&k.length===0&&e.length>0?f:null]});g=k==="";return i.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(d("react-strict-dom").html.div,{style:o,"data-testid":void 0,children:j?i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:m,children:b}):b})})},b[9]=p,b[10]=f,b[11]=j,b[12]=m,b[13]=o,b[14]=n):n=b[14];return n}g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){function b(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,h=d.inputRef;d=j(function(a,b){b!==!0&&(h.current&&h.current.blur()),e==null?void 0:e(a,b)},[h,e]);var k=j(function(a){h.current&&h.current.blur(),f&&f(a)},[h,f]);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10027731370600885"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","react-compiler-runtime","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;function a(a){function c(c){var f=d("react-compiler-runtime").c(9),g,i;f[0]!==c?(g=c.onFocus,i=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]),f[0]=c,f[1]=g,f[2]=i):(g=f[1],i=f[2]);var k=d("CometRelay").useRelayEnvironment();f[3]!==g||f[4]!==k?(c=function(){d("CometRelay").fetchQuery(k,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:e}),g&&g()},f[3]=g,f[4]=k,f[5]=c):c=f[5];c=c;var l;f[6]!==c||f[7]!==i?(l=j.jsx(a,babelHelpers["extends"]({},i,{onFocus:c})),f[6]=c,f[7]=i,f[8]=l):l=f[8];return l}function e(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}return c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWRestoreRewriteUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("656")===!0};g.isOneDBEnabled=a}),98);
__d("LSGetLatestThreadIds.nop",["ExecutionEnvironment","I64","LSVec","MAWBridge","MAWBridgeSafeActionsWorkerAndUI","MAWRestoreRewriteUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=[];e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.mi_act_mapping_table)).then(function(a){return a.map(function(a){a=a.jid;return(j||(j=d("I64"))).to_string(a)})}));if(e.length>0){var g=new Set(e);a.forEach(function(a){g.has(a)&&f.push(a)})}return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray(f),!0])});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.e2ee_threads.index("threadOrder")).take((j||(j=d("I64"))).to_int32(b))));return a.map(function(a){a=a.jid;return a.split("@")[0]})});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("getLatestThreadIds",{numThreads:(j||(j=d("I64"))).to_int32(a)}));return a});return p.apply(this,arguments)}a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,l){l===void 0&&(l=!1);if((h||(h=c("ExecutionEnvironment"))).isInWorker)return d("MAWBridge").getBridge().sendAndReceive("event","getLSDBLatestThreadIds",{miActMappingFilteredThreads:l,numThreads:g});if((j||(j=d("I64"))).gt(g,(j||(j=d("I64"))).zero))try{e=d("MAWRestoreRewriteUtils").isOneDBEnabled()?yield m(a,g):yield o(g);return l?k(e,a):(i||(i=b("Promise"))).resolve([c("LSVec").ofArray(e),!0])}catch(a){return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray([]),!1])}return(i||(i=b("Promise"))).resolve([c("LSVec").ofArray([]),!0])});function e(b,c,d,e,f){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueNewError"),e.taskId,e.errorCode,e.errorTitleText,e.errorBodyText,e.errorExtraData,e.presentationStyle);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveError"),e.errorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("WAAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadReadyForJid","Promise","ServerTime","WAChatState","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.senderId),j=i.of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([f,g],{expirationTimestampMs:j,senderId:g,threadKey:f}).then(c("emptyFunction"));else if(e.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](f,g).then(c("emptyFunction"));else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.useState;function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(a&&!c("WebAsyncStorage").isOpenPromiseSettled())return!1;a=(yield c("WebAsyncStorage").isOperational());if(!a.success){c("FBLogger")("messenger_e2ee_web").catching(a.error).warn("Marking MAW IDB as unavailable: %s",a.error.message);return!1}return!0});return l.apply(this,arguments)}var m=!1;function a(){var a=d("react-compiler-runtime").c(2),b=j(m),e=b[0],f=b[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){c("promiseDone")(k().then(function(a){f(a),m=a}))},g=[f],a[0]=b,a[1]=g):(b=a[0],g=a[1]);i(b,g);return e}g.isIDBOperational=k;g.useIsIDBOperational=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,e,g){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:g,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite",void 0,void 0,f.id+":37")}))}function k(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":56")}function e(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(a,b.errorId)});return function(a){return c.apply(this,arguments)}}()))})())}function l(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b.errorExtraData===a&&(yield k(c,b.errorId))});return function(a){return d.apply(this,arguments)}}()))})())}var m=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),n=h._(/*BTDS*/"__JHASH__GYf1KHsnFi8__JHASH__"),o=h._(/*BTDS*/"__JHASH__sfKyyq_GmTy__JHASH__"),p=h._(/*BTDS*/"__JHASH__GFcUdiCyJga__JHASH__"),q=h._(/*BTDS*/"__JHASH__eNLW45dJwcf__JHASH__"),r=c("gkx")("4424")?h._(/*BTDS*/"__JHASH__-4uNzok_SAp__JHASH__"):h._(/*BTDS*/"__JHASH__ullHqmlWvhs__JHASH__");h=c("gkx")("4424")?h._(/*BTDS*/"__JHASH__k8aGLCLdv3J__JHASH__"):h._(/*BTDS*/"__JHASH__1UM5NSCZCUv__JHASH__");var s=new Map([[n.toString(),n],[p.toString(),p]]),t=new Map([[o.toString(),o],[q.toString(),q]]);g.issueError=a;g.deleteUserVisibleError=k;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=l;g.MAWUserVisibleErrorPresentationType=m;g.MAWGeneralErrorMsgTitle=n;g.MAWGeneralErrorMsgBody=o;g.MAWLegacyUserErrorMsgTitle=p;g.MAWLegacyUserErrorMsgBody=q;g.MAWUnsupportedIndexedDBErrorMsgTitle=r;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=s;g.errorMsgBodyToFbtMap=t}),226);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("isIE11OrGreater",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a=c("UserAgent").isBrowser("IE >= 11");b=a;g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},n={4:{paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0},8:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,$$css:!0},12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},20:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},24:{paddingTop:"x1p5oq8j",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},p={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},q={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},r={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},s={4:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},8:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0},12:{marginStart:"x16n37ib",marginEnd:"xq8finb",marginLeft:null,marginRight:null,$$css:!0},16:{marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,$$css:!0},20:{marginStart:"xmn8rco",marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,$$css:!0}},t=j.forwardRef(a);function a(a,b){var d,e,f,g;a=babelHelpers["extends"]({},a);d=(d=k(c("MDSColumnContext")))!=null?d:{};var i=a.align;e=i===void 0?(e=d.align)!=null?e:"stretch":i;i=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;f=w===void 0?(f=d.paddingHorizontal)!=null?f:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=k(c("MDSColumnItemContext")),C=B.isFirst;B=B.isLast;var D=(h||(h=c("stylex"))).compose(a.xstyle);g=j.jsxs(j.Fragment,{children:[d.hasDividers===!0&&j.jsx(c("BaseView.react"),{role:"separator",xstyle:[l.divider,s[(g=d.paddingHorizontal)!=null?g:0],C&&l.firstChildDisplay]}),j.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:b,xstyle:[l.root,u&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],e!=="stretch"&&m[e],z!=="top"&&r[z],n[f],p[x],w!=null&&o[w],d.spacing!=null&&[q[d.spacing],D.marginTop==null&&C&&l.firstChildMargin,D.marginBottom==null&&B&&l.lastChildMargin],a.xstyle],children:j.jsx(c("MDSColumnContext").Provider,{value:null,children:i})}))]});if(v!==void 0){a.fallback;var E=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?g=j.jsx(c("CometErrorBoundary.react"),{children:g}):g=j.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return j.jsx(t,babelHelpers["extends"]({},E,{ref:b,children:typeof v==="function"?v(a,c):v}))},children:g})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=j.jsx(c("CometPlaceholder.react"),{fallback:y!=null?j.jsx(t,babelHelpers["extends"]({},A,{ref:b,children:y})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";b=t;g["default"]=b}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(f=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=c("useCurrentDisplayMode")();a=a==="dark"?j.dark:j.light;var g;b[3]!==a||b[4]!==f?(g=[a,f],b[3]=a,b[4]=f,b[5]=g):g=b[5];b[6]!==e||b[7]!==g?(a=i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:g},e)),b[6]=e,b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}},m=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(44),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];a=(a=j(c("MDSRowContext")))!=null?a:{};var g=a.spacingHorizontal;a=a.spacingVertical;var h,n;if(e[2]!==f){var o=f;h=o.fallback;n=o.placeholder;o=babelHelpers.objectWithoutPropertiesLoose(o,["fallback","placeholder"]);e[2]=f;e[3]=h;e[4]=o;e[5]=n}else h=e[3],o=e[4],n=e[5];if(n!==void 0){if(e[6]!==f){var p=f;p.placeholder;p=babelHelpers.objectWithoutPropertiesLoose(p,["placeholder"]);p=p;e[6]=f;e[7]=p}else p=e[7];var q;e[8]!==p||e[9]!==n||e[10]!==b?(q=n!=null?i.jsx(m,babelHelpers["extends"]({},p,{ref:b,children:n})):null,e[8]=p,e[9]=n,e[10]=b,e[11]=q):q=e[11];e[12]!==p||e[13]!==b?(n=i.jsx(m,babelHelpers["extends"]({},p,{ref:b})),e[12]=p,e[13]=b,e[14]=n):n=e[14];e[15]!==q||e[16]!==n?(p=i.jsx(c("CometPlaceholder.react"),{fallback:q,children:n}),e[15]=q,e[16]=n,e[17]=p):p=e[17];return p}if(h!==void 0){var r;if(e[18]!==f){q=f;q.fallback;n=babelHelpers.objectWithoutPropertiesLoose(q,["fallback"]);r=n;e[18]=f;e[19]=r}else r=e[19];if(h===null){e[20]!==r||e[21]!==b?(p=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},r,{ref:b}))}),e[20]=r,e[21]=b,e[22]=p):p=e[22];return p}e[23]!==h||e[24]!==r||e[25]!==b?(q=function(a,c){return i.jsx(m,babelHelpers["extends"]({},r,{ref:b,children:typeof h==="function"?h(a,c):h}))},e[23]=h,e[24]=r,e[25]=b,e[26]=q):q=e[26];e[27]!==r||e[28]!==b?(n=i.jsx(m,babelHelpers["extends"]({},r,{ref:b})),e[27]=r,e[28]=b,e[29]=n):n=e[29];e[30]!==q||e[31]!==n?(f=i.jsx(c("CometErrorBoundary.react"),{fallback:q,children:n}),e[30]=q,e[31]=n,e[32]=f):f=e[32];return f}p=k[g];q=l[a];e[33]!==o.xstyle||e[34]!==p||e[35]!==q?(n=[p,q,o.xstyle],e[33]=o.xstyle,e[34]=p,e[35]=q,e[36]=n):n=e[36];e[37]!==o.children?(f=i.jsx(c("MDSRowContext").Provider,{value:null,children:o.children}),e[37]=o.children,e[38]=f):f=e[38];e[39]!==o||e[40]!==b||e[41]!==n||e[42]!==f?(g=i.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},o,{ref:b,useDeprecatedStyles:o.useDeprecatedStyles,xstyle:n,children:f})),e[39]=o,e[40]=b,e[41]=n,e[42]=f,e[43]=g):g=e[43];return g}b=m;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={0:{$$css:!0},4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},o={0:{$$css:!0},4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},p={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d;a=babelHelpers["extends"]({},a);var e=j(c("MDSColumnContext")),f=j(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,h=(e==null?void 0:e.spacing)!=null?0:16,q=a.children,r=a.paddingHorizontal;g=r===void 0?g:r;r=a.paddingVertical;r=r===void 0?0:r;var s=a.paddingTop;d=s===void 0?(d=a.paddingVertical)!=null?d:h:s;h=a.spacing;s=h===void 0?12:h;h=a.spacingHorizontal;var t=h===void 0?s:h;h=a.spacingVertical;var u=h===void 0?s:h;s=a.xstyle;h=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=k(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=i.jsx(c("BaseRow.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:[l[g],n[r],d!=null&&m[d],o[t],p[u],s],children:i.jsx(c("MDSRowContext").Provider,{value:a,children:q})}));if(f!=null)return i.jsx(c("MDSRowItem.react"),{expanding:h.expanding,children:b});return e!=null?i.jsx(c("MDSColumnItem.react"),{expanding:h.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MWChatStateV2CompareTabs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2TabGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){var d=a.length;if(d>b&&b>0&&c!=null){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,c,e){(h||(h=d("ODS"))).bumpEntityKey(3185,"chat_tab_groups","mediaViewerOpenWatermarkOpt."+(a==null||a===-1?"default":"set"));c=i(Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsOpen").isOpen(a,b)}).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened),e,c);b=Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)});return{minimizedTabs:b,openExcessTabs:c.slice(e,c.length),openTabs:c.slice(0,e)}}g.getTabGroups=a}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","react-compiler-runtime","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b=c("useTopMostRouteCometEntityKey")(),e=c("useCometRouterState")(),f;a[0]!==b||a[1]!==e?(f=c("getGroupThreadViewParams")(b,e),a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","mwCMIsAnyCMThread","react-compiler-runtime","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w={type:v.Null},x="/?$";function y(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var z=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function A(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(z+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",z);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+x)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=C(y(b));return e!=null?{type:v.Recent,uriStateDetails:{fbid:e,type:n.Thread}}:w}var B=c("gkx")("23433")||c("gkx")("22839");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function C(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b=d("react-compiler-runtime").c(40),e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")(),l;b[0]!==a?(l=C(a),b[0]=a,b[1]=l):l=b[1];var m=l;a=d("CometRouteParams").useRouteParams();l=(l=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).min_int)},[e,m],f.id+":317"))==null?void 0:l.threadType;var o;b[2]!==l?(o=l!=null?c("mwCMIsAnyCMThread")(l):!1,b[2]=l,b[3]=o):o=b[3];o=o;var p;b[4]!==l?(p=l!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(l):!1,b[4]=l,b[5]=p):p=b[5];p=p;if(k!=null){var q;b[6]!==k.threadKey?(q=(i||(i=d("I64"))).of_string(k.threadKey),b[6]=k.threadKey,b[7]=q):q=b[7];b[8]!==q?(k={type:v.Recent,uriStateDetails:{fbid:q,type:n.Thread}},b[8]=q,b[9]=k):k=b[9];return k}if(g==null)return w;if(!j.startsWith(z)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);q=a.initial_e2ee_toggle_position==="1"||a.initial_e2ee_toggle_position===1||a.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";k=g.url;if(b[10]!==e.tables.threads||b[11]!==q||b[12]!==p||b[13]!==o||b[14]!==g||b[15]!==m||b[16]!==l){j=Symbol["for"]("react.early_return_sentinel");bb0:{a=k.substring(z.length);a=(k=d("ConstUriUtils").getUriOrThrow(a))==null?void 0:k.getPath().split("/");if(m!=null){if(a.length===4&&a[0]===""&&a[1]==="e2ee"&&a[2]==="t"&&c("isArmadillo")()){b[18]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.SecureThread}},b[18]=m,b[19]=k):k=b[19];j=k;break bb0}if(l!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(l)){b[20]!==g?(k=A(g),b[20]=g,b[21]=k):k=b[21];j=k;break bb0}if(o&&!B){j=w;break bb0}if(p){b[22]!==m?(k={fbid:m,type:v.UnsupportedThread},b[22]=m,b[23]=k):k=b[23];j=k;break bb0}b[24]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.Thread}},b[24]=m,b[25]=k):k=b[25];j=k;break bb0}if(a==null){b[26]!==g?(k=A(g),b[26]=g,b[27]=k):k=b[27];j=k;break bb0}switch(a.length){case 2:if(a[1]==="new"){b[28]!==q?(k={type:v.Recent,uriStateDetails:{initialTogglePosition:q,type:n.Compose}},b[28]=q,b[29]=k):k=b[29];j=k;break bb0}b[30]!==g?(k=A(g),b[30]=g,b[31]=k):k=b[31];j=k;break bb0;case 3:if(a[1]!=="t"){b[32]!==g?(k=A(g),b[32]=g,b[33]=k):k=b[33];j=k;break bb0}if(a[2]===""){b[34]!==g?(k=A(g),b[34]=g,b[35]=k):k=b[35];j=k;break bb0}k=C(a[2]);a=k!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(k),f.id+":432"):null;if(k!=null&&a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType)){b[36]!==k?(a={type:v.Recent,uriStateDetails:{fbid:k,type:n.Thread}},b[36]=k,b[37]=a):a=b[37];j=a;break bb0}j=w;break bb0;case 0:case 1:default:b[38]!==g?(k=A(g),b[38]=g,b[39]=k):k=b[39];j=k;break bb0}}b[10]=e.tables.threads;b[11]=q;b[12]=p;b[13]=o;b[14]=g;b[15]=m;b[16]=l;b[17]=j}else j=b[17];if(j!==Symbol["for"]("react.early_return_sentinel"))return j}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","react-compiler-runtime","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);var e;b[0]!==c||b[1]!==a?(e=i.jsx(j.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"__JHASH__WW0S3bu0Fvp__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"__JHASH__PghB4SzSbNm__JHASH__"):c("CurrentEnvironment").horizondotmetadotcom?h._(/*BTDS*/"__JHASH__Z4zJTVwDBj8__JHASH__"):h._(/*BTDS*/"__JHASH__AaE4hJExM0x__JHASH__")).toString();function a(a,b,e,f){a===void 0&&(a=c("intlList").CONJUNCTIONS.AND);e.length>8&&c("recoverableViolation")("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+e.length,"messenger_web_ia");if(e.length===0)return;if(e.length===1){var g=e[0],l=g[0];g=g[1];return l.nickname!=null?l.nickname:(l=g==null?void 0:g.name)!=null?l:k}if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)});if(g.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}l=g.sort(function(a,b){return(i||(i=d("I64"))).compare(b[0].authorityLevel,a[0].authorityLevel)})[0];b=l[0].nickname;if(b!=null)return b;g=l[1];return(b=g==null?void 0:g.name)!=null?b:k}l=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)}).slice(0,7).sort(function(a,b){b=b[1];a=a[1];if(a!=null)if(b!=null)return b.rank-a.rank;else return 0;else return 0}).map(function(a){var b,f=a[1];f!=null&&(i||(i=d("I64"))).equal(f.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))&&!((b=d("LSContactBitOffset").has(77,f))!=null?b:!1)&&!((b=d("LSContactBitOffset").has(65,f))!=null?b:!1)&&c("FBLogger")("messenger_browser_clients").debug("page participant in group");b=a[0].nickname;if(b!=null)return b;if(f==null)return k;a=f.firstName;if(a!=null&&e.length>2)return a;else return f.name});e.length>7&&l.push(String(h._(/*BTDS*/"__JHASH__p-5gRHawKL0__JHASH__")));return c("intlList")(l,a,c("intlList").DELIMITERS.COMMA).toString()}b=8;g.computeThreadTitle=a;g.amountToFetchForTitle=b}),226);
__d("verifyChatTabContactExists",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.db,g=a.threadKey;a=a.threadType;if(d("LSMessagingThreadTypeUtil").isOpenOneToOne(a))return e.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:g,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,f.id+":40");else return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("verifyChatTabThreadExists",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessagingThreadTypeUtil","LSVec","LSVerifyThreadRowExistsStoredProcedure","ReQL","asyncToGeneratorRuntime","cr:13005","cr:8531","useIsChatPreviewsEnabled","verifyChatTabContactExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.callsite,g=a.db,j=a.threadKey,k=a.threadType;yield c("verifyChatTabContactExists")({db:g,threadKey:j,threadType:k});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(j)));var l=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(a.parentThreadKey));if(b("cr:8531")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(k)&&((a==null?void 0:a.clientThreadKey)==null||!(h||(h=d("I64"))).equal(j,a.clientThreadKey)))return b("cr:8531")(g,j,"verifyChatTabThreadExists_"+e);e=a==null?!1:d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,l==null?void 0:l.communityType);if(e)return g.runInTransaction(function(a){return b("cr:13005")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:j,threadType:k})},"readwrite",void 0,void 0,f.id+":76").then(function(){});else return g.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:j,threadType:k})},"readwrite",void 0,void 0,f.id+":89")});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MWV2EnsureThatChatTabExists",["I64","Int64Hooks","LSMessagingThreadTypeUtil","Promise","promiseDone","react-compiler-runtime","useReStore","verifyChatTabThreadExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,d,e,f,g){return l(d,e,f)?(j||(j=b("Promise"))).resolve():c("verifyChatTabThreadExists")({callsite:g,db:a,threadKey:d,threadType:e})}function a(a,b,e,f){var g=d("react-compiler-runtime").c(7),h=(i||(i=c("useReStore")))(),j,l;g[0]!==f||g[1]!==e||g[2]!==h||g[3]!==a||g[4]!==b?(j=function(){c("promiseDone")(k(h,a,b,e,f))},l=[f,e,h,a,b],g[0]=f,g[1]=e,g[2]=h,g[3]=a,g[4]=b,g[5]=j,g[6]=l):(j=g[5],l=g[6]);d("Int64Hooks").useEffectInt64(j,l)}function l(a,b,c){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)&&c!=null&&(h||(h=d("I64"))).equal(a,c)}g.ensureThatChatTabExists=k;g.useMWV2EnsureThatChatTabExists=a;g.isOptimisticSecureThread=l}),98);
__d("MercuryIDs",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return(a.type==="pending"||a.type==="group")&&!b("gkx")("21040")?!0:!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("useEnsureContactsExistAndUpdated",["CometRelay","Int64Hooks","LSFactory","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","MAWVerifyThreadCutover","Promise","gkx","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var g=d("react-compiler-runtime").c(6),i=c("useAsyncReStore")(),j=d("CometRelay").useRelayEnvironment(),k,l;g[0]!==a||g[1]!==i||g[2]!==j||g[3]!==e?(k=function(){c("promiseDone")(i,function(g){if(a==null||e)return;if(c("gkx")("231")){c("promiseDone")(d("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(g,j,a));return}c("promiseDone")((h||(h=b("Promise"))).allSettled([d("LSVerifyContactExistsWithID").runInTransaction(g,a,!1,void 0,f.id+":56"),g.runInTransaction(function(b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(b),{id:a})},"readwrite",void 0,void 0,f.id+":57")]))})},l=[i,a,e,j],g[0]=a,g[1]=i,g[2]=j,g[3]=e,g[4]=k,g[5]=l):(k=g[4],l=g[5]);d("Int64Hooks").useEffectInt64(k,l)}g["default"]=a}),98);
__d("useEnsureViewerContactExistAndUpdated",["ReQL","ReQLSuspense","react-compiler-runtime","useEnsureContactsExistAndUpdated","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables._user_info?(e=function(){return d("ReQL").fromTableAscending(b.tables._user_info).map(i)},a[0]=b.tables._user_info,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":25");c("useEnsureContactsExistAndUpdated")(a,!1)}function i(a){return a.facebookUserId}g["default"]=a}),98);
__d("useSubscriptionValue",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),c=a.getCurrentValue,e=a.subscribe;b[0]!==c?(a=function(){return c()},b[0]=c,b[1]=a):a=b[1];a=j(a);var f=a[0],g=a[1];b[2]!==c?(a=function(){g(c)},b[2]=c,b[3]=a):a=b[3];var h=a;b[4]!==c?(a=function(){return c},b[4]=c,b[5]=a):a=b[5];a=j(a);var k=a[0];a=a[1];k!==c&&(a(function(){return c}),h());b[6]!==h||b[7]!==e?(k=function(){var a;a=!1;var b=function(){a||h()},c=e(b);h();return function(){a=!0,c()}},a=[h,e],b[6]=h,b[7]=e,b[8]=k,b[9]=a):(k=b[8],a=b[9]);i(k,a);return f}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","react-compiler-runtime","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function j(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){var b=d("react-compiler-runtime").c(4),e=a===void 0?500:a;b[0]!==e?(a=function(a){var b=c("throttle")(a,e);window.addEventListener("resize",b);return function(){window.removeEventListener("resize",b)}},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]!==a?(f={getCurrentValue:j,subscribe:a},b[2]=a,b[3]=f):f=b[3];return c("useSubscriptionValue")(f)}g["default"]=a}),98);
__d("useMWChatStateV2MaxTabCount",["useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useWindowSize")();b=b.innerWidth;if(b<1100||a)return 1;a=(b/2|0)-90|0;b=a/338;return b<1?1:Math.ceil(b)}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();if(b==null)return!1;var e=b.main;b=b.pushViewStack;b=b&&b.length>0?b[b.length-1]:e;if(a[0]!==((e=b.route)==null?void 0:e.tracePolicy)){e=d("MWChatVisibileRoutes").ROUTES.has((e=(e=b.route)==null?void 0:e.tracePolicy)!=null?e:"");a[0]=(b=b.route)==null?void 0:b.tracePolicy;a[1]=e}else e=a[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707320575986334"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RelayModernOrCometRelay",["cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1012418")}),98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},p!=null?{actor_id:p}:null,{search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a})}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4945240752198545"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7163385847088980",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.badge_info,f=a.direct_nav_result,g=a.disambiguation_result;a=a.high_confidence_result;var i=[],j,k,l;if(f!=null){i=["direct_nav"];var m=f.ent_id,n=f.entity_type,o=f.img_url,p=f.link_url,q=f.snippet,r=f.title;f=f.type;l=r;j={direct_nav_result:{ent_id:m,entity_type:n,img_url:o,link_url:p,snippet:q,title:r,type:f}};k={stsDirectNavEntityID:m,stsDirectNavEntityType:n,stsDirectNavType:f}}if(a!=null){i=["high_confidence"];o=a.hcm_id;p=a.picture_url;q=a.snippet;r=a.source_as_enum;m=a.text;l=m;j={high_confidence_result:{hcm_id:o,picture_url:p,snippet:q,source_as_enum:r,text:m}};k={stsHighConfidenceID:o,stsHighConfidenceSource:r}}if(g!=null){i=["disambiguation"];n=g.disambiguation_info_list;f=g.title;l=f;j={disambiguation_result:{disambiguation_info_list:n,title:f}};k={stsDisambiguationType:n[0].type}}return{badgeSnippet:(a=e==null?void 0:e.badge_text)!=null?a:void 0,entryKey:j!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(j):null,extraLoggingInfo:k,label:l,markers:i,structuredInfo:j}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.badgeSnippet,i=g.entryKey,j=g.extraLoggingInfo,k=g.label,l=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var m=b.default_key,n=b.keys;b=b.tier;return{key:(i=(i=i)!=null?i:g&&(a==null?void 0:a.default_key))!=null?i:f,label:(a=k)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},j,{loggingID:(i=d)!=null?i:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(l))},rawData:{badgeSnippet:h,structuredInfo:g,suggestion_keys:b!=null?{default_key:m,keys:n,tier:b}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;a===((e=f.rawData.structuredInfo)==null?void 0:(e=e.direct_nav_result)==null?void 0:e.ent_id)&&this.$2.remove(f)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7003676376365206"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.badgeSnippet,k=i.entryKey,l=i.extraLoggingInfo,m=i.label,n=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var o=b.default_key,p=b.keys;b=b.tier;return{key:(a=(k=(k=k)!=null?k:i&&(a==null?void 0:a.default_key))!=null?k:h)!=null?a:c("cometUniqueID")(),label:(a=(k=m)!=null?k:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},l,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(n))},rawData:{badgeSnippet:j,structuredInfo:i,suggestion_keys:b!=null?{default_key:o,keys:p,tier:b}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=function(){var a=e.prototype;a.$8=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?(i||(i=b("Promise"))).resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._(/*BTDS*/"__JHASH__0ioTgLFUb4g__JHASH__"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){this.$3=null;var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};a.refresh=function(){this.clear(),this.fetchNetwork({query:""})};return e}();g["default"]=a}),226);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"6951168598253150",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._(/*BTDS*/"__JHASH__QJCAJUEzrgs__JHASH__"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h.__typename==="%other")continue;var i=h.key,m=h.result;if(m==null||i==null)continue;m=m.header_text;if(h.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&m!=null){var n;d.push({entries:k((n=(n=a.viewer)==null?void 0:(n=n.recent_searches)==null?void 0:n.edges)!=null?n:[]),key:i,label:m,subtype:"recent_searches",type:"section"})}else if(h.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&m!=null)e={header_text:m,key:i};else if(h.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){n=e;m=n.header_text;i=n.key;d.push({entries:l(h),key:i,label:m,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{hasSecondaryAction:!0,key:n,label:(n=l)!=null?n:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")(((a=a)!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=(f=f)!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:((d=f)!=null?d:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),226);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.excludeSeeAllAndEcho;d=d===void 0?!1:d;var e=b.keyBuilder,f=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(f),d?null:c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:e,limit:f}),d?null:c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})].filter(Boolean))}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d=c.entries,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b(g);h=h!=null?a.get(h):null;h!=null&&g.type==="section"&&(g.entries=g.entries.slice(0,h))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,c){var d=new Map(),e=[];for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var j=d.get(h.key);j!=null?i({caller:c,dupeEntry:h,existingEntry:j,strategy:a}):(d.set(h.key,h),e.push(h))}return e}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(var a=a,k=Array.isArray(a),l=0,a=k?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=a.length)break;m=a[l++]}else{l=a.next();if(l.done)break;m=l.value}m=m;i.push(m)}for(m=b,l=Array.isArray(m),k=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=m.length)break;a=m[k++]}else{k=m.next();if(k.done)break;a=k.value}b=a;a=[];for(var n=0;n<i.length;n++){var o=i[n];o!=null&&f(o,b)&&a.push(n)}o=a[0];n=o!=null?i[o]:null;if(n!=null&&!j.has(n)){n=g(n,b);i[o]=n;for(o=0;o<a.length;o++){var p=a[o],q=i[p];q!=null&&q!==n&&q!==g(q,b)&&(i[p]=null)}}else i.push(b)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"__JHASH__EY5KKLiSk-O__JHASH__")})}g["default"]=a}),226);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){a=i(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,h=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return i(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:j,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:j,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:h}},relayEnvironment:k})},[l,e,f,g,k,h])}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","justknobx","react","react-compiler-runtime","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(51),f=a.config,g=a.recentDataSource,i=a.searchScopeEntityID;a=f.dataSources;var n=f.logging;f=f.view;var o=a.bootstrapKeywordsDataSourceParams;a=a.keywordDataSourceParams;var p=n.sessionContext,q=f.renderLimit,r=f.sectionLimits;n=d("CometRelay").useRelayEnvironment();e[0]!==o||e[1]!==q||e[2]!==n?(f=o!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},o,{limit:q,relayEnvironment:n})):null,e[0]=o,e[1]=q,e[2]=n,e[3]=f):f=e[3];o=f;var s=o;e[4]!==a||e[5]!==q||e[6]!==n?(f=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},a,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:q,onError:m,relayEnvironment:n})),e[4]=a,e[5]=q,e[6]=n,e[7]=f):f=e[7];o=f;var t=o;e[8]!==q?(a=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{excludeSeeAllAndEcho:(b=c("justknobx")._("1509"))!=null?b:!1,keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:q})},e[8]=q,e[9]=a):a=e[9];var u=a,v=l;e[10]!==s||e[11]!==g?(n=function(){s==null?void 0:s.bootstrap(),g==null?void 0:g.bootstrap()},e[10]=s,e[11]=g,e[12]=n):n=e[12];f=n;e[13]!==p||e[14]!==g||e[15]!==i?(o=function(a,b){if(g==null)return;if(i==null){g.add(a,p,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:i},markers:e.markers};c={hasSecondaryAction:!0,key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};g.add(c,p,b)},e[13]=p,e[14]=g,e[15]=i,e[16]=o):o=e[16];a=o;e[17]!==s||e[18]!==u||e[19]!==t||e[20]!==q||e[21]!==g||e[22]!==r?(n=function(a){var b=a.query;if(b===""&&g!=null){var d=g.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:k,limit:q,sectionLimits:r})}if(b==="")return{entries:[],params:a};if(s==null){e=t.fetchCache(a);return u(babelHelpers["extends"]({},e))}d=s.fetchCache(a);b=d.entries;e=d.params;if(b.length>=q)return u({entries:b,params:e});d=t.fetchCache(a);e=d.entries;a=d.params;d=v(b,e);return u({entries:d,params:a})},e[17]=s,e[18]=u,e[19]=t,e[20]=q,e[21]=g,e[22]=r,e[23]=n):n=e[23];o=n;e[24]!==s||e[25]!==u||e[26]!==t||e[27]!==q||e[28]!==g||e[29]!==r?(n=function(a){var d=a.query;if(d===""&&g!=null)return g.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:j,limit:q,sectionLimits:r})});if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});return s==null?t.fetchNetwork(a).then(function(a){return u(babelHelpers["extends"]({},a))}):t.fetchNetwork(a).then(function(b){var c=s.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=v(c,d);return u({entries:c,params:b})})},e[24]=s,e[25]=u,e[26]=t,e[27]=q,e[28]=g,e[29]=r,e[30]=n):n=e[30];n=n;var w;e[31]!==g?(w=function(a,b){g!=null&&g.remove(a,b)},e[31]=g,e[32]=w):w=e[32];w=w;var x;e[33]!==t?(x=function(){return t.clearQueryCache()},e[33]=t,e[34]=x):x=e[34];var y;e[35]!==g?(y=function(){return g==null?void 0:g.clear()},e[35]=g,e[36]=y):y=e[36];var z;e[37]!==s?(z=function(){return s},e[37]=s,e[38]=z):z=e[38];var A;e[39]!==g?(A=function(){return g==null?void 0:g.refresh()},e[39]=g,e[40]=A):A=e[40];var B;e[41]!==a||e[42]!==f||e[43]!==o||e[44]!==n||e[45]!==w||e[46]!==x||e[47]!==y||e[48]!==z||e[49]!==A?(B={addRecentEntry:a,bootstrap:f,clearQueryCache:x,clearRecentSearches:y,fetchCache:o,fetchNetwork:n,getBootstrapKeywordsDataSource:z,refreshRecentSearches:A,removeRecentEntry:w},e[41]=a,e[42]=f,e[43]=o,e[44]=n,e[45]=w,e[46]=x,e[47]=y,e[48]=z,e[49]=A,e[50]=B):B=e[50];a=B;return a}function j(a){return a.type==="section"?a.subtype:null}function k(a){return a.type==="section"?a.subtype:null}function l(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}function m(){return c("searchCometTypeaheadPushErrorToast")()}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder,e=a.mergeBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=e;this.$4=a}var b=a.prototype;b.add=function(a){var b=this;a.forEach(function(a){var c=b.$4(a),d=b.$1.get(c);b.$1.set(c,d!=null&&b.$3!=null?b.$3(a,d):a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){a=this.$4(a);this.$1.remove(a)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometRelayErrorHandling").markErrorAsHandled;f.markErrorAsHandled=a}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(h||(h=b("Promise")))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("XPlatReactRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("BaseTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};b.clearCache=function(){this.$2.clear()};return a}();g["default"]=a}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)return[];b=g(a,b);var c=b.entryIndex;b=b.entryUnionIndex;if(b===void 0)return a;a=a.slice(0,b+1);if(c!==void 0&&b!==void 0){b=a[b];b.type==="section"&&(b.entries=b.entries.slice(0,c+1))}return a}function g(a,b){b=b;for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=="section"){b--;if(b===0)return{entryUnionIndex:c}}else if(b<=d.entries.length)return{entryIndex:b-1,entryUnionIndex:c};else b-=d.entries.length}return{}}f["default"]=a}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.entries;return babelHelpers["extends"]({},b,{entries:c("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(d,a)})}}g["default"]=a}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d){var e=new Set(c("baseTypeaheadFlattenEntries")(b).map(function(b){return a(b)})),f=new Map();for(var g=b,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(j.type!=="section")continue;f.set(j.key,j)}j=d.map(function(b){if(b.type==="section"){var c=b.entries.filter(function(b){return!e.has(a(b))});if(c.length===0)return null;var d=f.get(b.key);if(d!=null){d.entries=[].concat(d.entries,c);return null}else{b.entries=c;return b}}else return e.has(a(b))?null:b}).filter(Boolean);return[].concat(b,j)}}g["default"]=a}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("BaseTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("baseTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});g["default"]=b}),98);
__d("CometTypeaheadCompositeDataSource",["BaseDataEntryKeyBuilder","Promise","baseTypeaheadDedupEntriesBuilder","baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.bootstrapDataSource,c=a.limit,d=a.networkDataSource;a=a.nullstateDataSource;this.$1=!1;this.$2=b;this.$3=c;this.$4=d;this.$5=a}var d=a.prototype;d.bootstrap=function(){if(this.$1)return;this.$2!=null&&this.$2.bootstrap();this.$5!=null&&void this.$5.fetchNetwork({query:""});this.$1=!0};d.fetchCache=function(a){var b=a.query;if(this.$5!=null&&b==="")return this.$5.fetchCache(a);if(b==="")return{entries:[],params:a};if(this.$2==null)return this.$4!=null?this.$4.fetchCache(a):{entries:[],params:a};b=this.$2.fetchCache(a);var d=b.entries,e=c("baseTypeaheadFlattenEntries")(d).length;if(e>=this.$3||this.$4==null)return b;e=this.$4.fetchCache(a);b=e.entries;a=e.params;e=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((e=d)!=null?e:[],(d=b)!=null?d:[]);return{entries:e,params:a}};d.fetchNetwork=function(a){var d=a.query;if(this.$5!=null&&d==="")return this.$5.fetchNetwork(a);if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});d=this.$2;if(d==null&&this.$4==null)return(h||(h=b("Promise"))).resolve({entries:[],params:a});if(d==null)return this.$4!=null?this.$4.fetchNetwork(a):(h||(h=b("Promise"))).resolve({entries:[],params:a});var e=d.fetchCache(a);return this.$4==null?(h||(h=b("Promise"))).resolve(e):this.$4.fetchNetwork(a).then(function(a){var b=e.entries,d=a.entries;a=a.params;d=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((b=b)!=null?b:[],(b=d)!=null?b:[]);return{entries:d,params:a}})};return a}();g["default"]=a}),98);
__d("baseTypeaheadContainsMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp(""+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp("^"+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadPrefixWithDocumentContainsMatchBuilder",["baseTypeaheadContainsMatchBuilder","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return a.key.includes("diff:")||a.key.includes("task:")||a.key.includes("gdocs:")||a.key.includes("quip:")||a.key.includes("notes:")||a.key.includes("wiki:")?c("baseTypeaheadContainsMatchBuilder")({query:b})(a):c("baseTypeaheadStartsWithMatchBuilder")({query:b})(a)}}g["default"]=a}),98);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){return a.replace(h," ")}function s(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return r(b)}function t(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d){var e=d[0];c.push(e);d=b.exec(a)}return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=s(e),h=a(g);c[e]={value:e,flatValue:g,tokens:t(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var u=d(b),v=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?v:u;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={collapse:r,flatten:s,parse:u,parseIncludingPunctuations:v,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:t};q=p;g["default"]=q}),98);
__d("baseTypeaheadQueryMatchBuilder",["TokenizeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return c("TokenizeUtil").isQueryMatch(b,a.label)}}g["default"]=a}),98);
__d("CometTypeaheadGraphQLBootstrapDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadContainsMatchBuilder","baseTypeaheadPrefixWithDocumentContainsMatchBuilder","baseTypeaheadQueryMatchBuilder","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={prefix:c("baseTypeaheadStartsWithMatchBuilder"),prefix_with_document_substring:c("baseTypeaheadPrefixWithDocumentContainsMatchBuilder"),substring:c("baseTypeaheadContainsMatchBuilder"),token:c("baseTypeaheadQueryMatchBuilder")};a=function(){function a(a){var b=a.bootstrapDataProvider,d=a.matchStrategy;d=d===void 0?"prefix":d;a=a.normalize;this.$2=!1;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:h[d]});this.$3=a;this.$4=b}var b=a.prototype;b.isBootstrapped=function(){return this.$2};b.bootstrap=function(){var a=this;c("promiseDone")(this.$4.fetch({query:""}).then(function(b){b=b.response;return a.$3(b)}).then(function(b){a.$1.add(b,null)}).then(function(){return a.$2=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$1.match(b);return{entries:b,params:a}};return a}();g["default"]=a}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.gqlQuery,d=a.normalize,e=a.options,f=a.queryVariablesBuilderFunction;a=a.relayEnvironment;var g=function(){return f};g=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(g);e=new(c("BaseTypeaheadDataProvider"))({options:e,query:b,queryVariablesBuilder:g,relayEnvironment:a});b=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:c("baseTypeaheadLabelSuffixBuilder")});this.$1=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,b,{normalizeFunc:d})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};b.clearCache=function(){this.$1.clearCache()};return a}();g["default"]=a}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j={root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",start:null,end:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(53),e=a.additionalEndContentOutsideOfPressable,f=a.children,g=a.cursorDisabled_SEARCH_ONLY,h=a.entry,l=a.isActive,m=a.isEmphasized,n=a.isDisabled,o=a.itemEndContent,p=a.itemStartContent,q=a.linkProps,r=a.onPressEntry,s=a.onPressEntryIn,t=a.overlayDisabled_SEARCH_ONLY,u=a.role,v=a.testid,w=a.xstyle,x=a.debugElement,y=a.focusable;a=a.itemEndContentKeyboardFocusable;g=g===void 0?!1:g;m=m===void 0?!1:m;n=n===void 0?!1:n;t=t===void 0?!1:t;w=w===void 0?j.root:w;y=y===void 0?!1:y;a=a===void 0?!1:a;var z=c("useCometInternalTypeaheadState")();z=z.secondaryActionHighlighted;var A;b[0]!==h||b[1]!==r?(A=function(a){r&&r(h,a)},b[0]=h,b[1]=r,b[2]=A):A=b[2];A=A;var B;b[3]!==h||b[4]!==s?(B=function(a){s&&s(h,a)},b[3]=h,b[4]=s,b[5]=B):B=b[5];B=B;var C=u==="row"?"gridcell":"none",D=a===!0&&C==="gridcell"?void 0:h.key;A=n?c("emptyFunction"):A;B=n?c("emptyFunction"):B;var E=a!==!0?C:"none",F=l&&k.contentRootHighlighted;z=l&&z!==!0&&k.contentRootFocused;m=m&&k.contentRootEmphasized;var G=e==null?k.pressable:k.pressableWithAdditionalEndContent,H;b[6]!==F||b[7]!==z||b[8]!==m||b[9]!==G||b[10]!==w?(H=[k.contentRoot,F,z,m,w,G],b[6]=F,b[7]=z,b[8]=m,b[9]=G,b[10]=w,b[11]=H):H=b[11];b[12]!==p?(F=p!=null?i.jsx(c("CometRowItem.react"),{children:i.jsx(d("react-strict-dom").html.div,{style:k.itemIcon,children:p})}):null,b[12]=p,b[13]=F):F=b[13];b[14]!==C||b[15]!==f||b[16]!==h.key||b[17]!==a?(z=a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key,role:C,children:f}):f,b[14]=C,b[15]=f,b[16]=h.key,b[17]=a,b[18]=z):z=b[18];b[19]!==z?(m=i.jsx(c("CometRowItem.react"),{expanding:!0,children:z}),b[19]=z,b[20]=m):m=b[20];b[21]!==C||b[22]!==h.key||b[23]!==o||b[24]!==a?(G=o!=null?i.jsx(c("CometRowItem.react"),{children:a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key+"-secondary-action",role:C,children:o}):o}):null,b[21]=C,b[22]=h.key,b[23]=o,b[24]=a,b[25]=G):G=b[25];b[26]!==F||b[27]!==m||b[28]!==G?(w=i.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[F,m,G]}),b[26]=F,b[27]=m,b[28]=G,b[29]=w):w=b[29];p=n&&k.contentRootDisabled;b[30]!==p?(f=i.jsx(d("react-strict-dom").html.div,{style:p}),b[30]=p,b[31]=f):f=b[31];b[32]!==e||b[33]!==g||b[34]!==h.label||b[35]!==y||b[36]!==n||b[37]!==q||b[38]!==t||b[39]!==A||b[40]!==B||b[41]!==E||b[42]!==H||b[43]!==w||b[44]!==f?(z=i.jsxs(c("CometPressable.react"),{cursorDisabled:g,disabled:n,display:"block",expanding:!0,focusable:y,label:h.label,linkProps:q,onPress:A,onPressIn:B,overlayDisabled:t,overlayFocusRingPosition:"inset",role:E,xstyle:H,children:[w,e,f]}),b[32]=e,b[33]=g,b[34]=h.label,b[35]=y,b[36]=n,b[37]=q,b[38]=t,b[39]=A,b[40]=B,b[41]=E,b[42]=H,b[43]=w,b[44]=f,b[45]=z):z=b[45];b[46]!==x||b[47]!==l||b[48]!==u||b[49]!==D||b[50]!==z||b[51]!==v?(C=i.jsxs(d("react-strict-dom").html.li,{"aria-selected":l,"data-testid":void 0,id:D,role:u,style:k.root,children:[x,z]}),b[46]=x,b[47]=l,b[48]=u,b[49]=D,b[50]=z,b[51]=v,b[52]=C):C=b[52];return C}g["default"]=a}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a;b.forEach(function(a){c=a(c)});return c}f["default"]=a}),66);
__d("cometTypeaheadCreateOrGetCachedCompositeDataSource",["CometLruCache","CometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(5);function a(a){var b=a.cacheKey_SEARCH_ONLY;a=babelHelpers.objectWithoutPropertiesLoose(a,["cacheKey_SEARCH_ONLY"]);b=i(b);var d=h.get(b);if(d!=null)return d;d=new(c("CometTypeaheadCompositeDataSource"))(a);h.set(b,d);return d}function i(a){switch(a.type){case"group_rules_mentions_intentful_datasource_cache_key":case"groups_mentions_intentful_datasource_cache_key":case"groups_mentions_non_intentful_datasource_cache_key":return a.type+"-"+a.groupID;case"feed_mentions_intentful_datasource_cache_key":return a.enableTypeSelection.toString()+"-"+a.type+"-"+a.mentionTypes.join(",");case"workplace_chat_composer_mentions_datasource_cache_key":return a.participants.toString()+"-"+a.type+"-"+a.threadID+"}";case"groups_post_mentions_intentful_datasource_cache_key":return a.type+"-"+a.groupID+"-"+a.postID;default:return String(a.type)}}g["default"]=a}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})+1:0;f===a.length&&(f=0);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function h(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})-1:a.length-1;f===-1&&(f=a.length-1);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function a(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0){d=a.findIndex(function(a){return a.key===b});c(a[d],!1)}else h(a,b,c,!0)}function b(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0)g(a,b,c,!1);else{d=a.findIndex(function(a){return a.key===b});c(a[d],!0)}}f.moveDown=g;f.moveUp=h;f.moveLeft=a;f.moveRight=b}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-network",c)})}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.dataSource;b[0]!==c?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=c.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");b(a);return a},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),e=a.dataSource;a=k(!1);var f=a[0],g=a[1],h=j(0),l=j(!1),m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){l.current=!1;return function(){l.current=!0}},m=[],b[0]=a,b[1]=m):(a=b[0],m=b[1]);i(a,m);b[2]!==e?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;h.current=h.current+1;var d=h.current,f=a.perfTraceAPI;g(!0);c("promiseDone")(e.fetchNetwork(a).then(function(a){!l.current&&d===h.current&&(b(a),f&&f.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!l.current&&d===h.current&&(h.current=0,g(!1))}))},b[2]=e,b[3]=a):a=b[3];m=a;b[4]!==f?(a={isLoading:f},b[4]=f,b[5]=a):a=b[5];b[6]!==m||b[7]!==a?(f=[a,m],b[6]=m,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;e=(a=e)!=null?a:c("emptyObject");a=e.renderLimit;var g=a===void 0?k:a;a=e.bypassCacheRenderLimitCheck;var h=a===void 0?!1:a;a=e.shouldDebounceNetwork;var l=a===void 0?!0:a;a=e.networkDebounceWaitDuration;e=e.requestFlow;var m=j(e),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});e=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=e[0].isLoading,p=e[1],q=c("useDebouncedComet")(p,{wait:a});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||f(b,{isTraceComplete:e,source:d})}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function i(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(m.current=f);if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:!h&&b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});f=f;f=f.entries;f=c("baseTypeaheadFlattenEntries")(f).length;if(!h&&f>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){f={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:m.current})};Boolean(l)?q(f):p(f)}}b!=null&&i(b);return function(){a=!0}}i(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadFetchContext"))}g["default"]=a}),98);
__d("useCometTypeaheadCompositeDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometTypeaheadCompositeDataSource","baseTypeaheadFetchPayloadDecorate","cometTypeaheadCreateOrGetCachedCompositeDataSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.bootstrapDataSource,d=a.cacheKey_SEARCH_ONLY,e=a.limit,f=a.networkDataSource,g=a.nullstateDataSource,h=a.payloadDecorators,k=i(function(a){return c("baseTypeaheadFetchPayloadDecorate")(a,[].concat((a=h)!=null?a:[],[c("BaseTypeaheadPayloadDecoratorAddLimit")(e)]))},[e,h]),l=j(function(){return{bootstrapDataSource:b,limit:e,networkDataSource:f,nullstateDataSource:g}},[b,e,f,g]),m=j(function(){return d!=null?c("cometTypeaheadCreateOrGetCachedCompositeDataSource")(babelHelpers["extends"]({},l,{cacheKey_SEARCH_ONLY:d})):new(c("CometTypeaheadCompositeDataSource"))(l)},[d,l]);return j(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))},fetchNetwork:function(a){return m.fetchNetwork(a).then(function(a){return k(a)})}}},[m,k])}g["default"]=a}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(a),e=b(d.current,a)?d.current:a;j(function(){d.current=e},[e]);return e}g["default"]=a}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("useCustomEqualityMemo")(a,h||(h=c("areEqual")))}g["default"]=a}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction,j=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(e)},[e]),k=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(h({query:""}));var l=i(function(){return new(c("CometTypeaheadGraphQLDataSource"))({gqlQuery:b,normalize:f,options:g,queryVariablesBuilderFunction:h,relayEnvironment:k})},[a,k]);return i(function(){return{clearCache:function(){l.clearCache()},fetchCache:function(a){return j(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return j(a)})}}},[l,j])}g["default"]=a}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.activeEntries;bb0:{a=a.length;if(a===0){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"__JHASH__n-kQyB08R28__JHASH__"),b[0]=c):c=b[0];c=c;break bb0}var e;b[1]!==a?(e=h._(/*BTDS*/"__JHASH__71Zs7ul5B_o__JHASH__",[h._plural(a,"number")]),b[1]=a,b[2]=e):e=b[2];c=e}return c}g["default"]=a}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(29),e=a.activeEntries,f=a.helperText,g=a.highlightedEntry,h=a.inputLabel,j=a.isOpened,k=a.secondaryActionHighlighted;a=a.viewRole;h=h===void 0?"":h;var l=i(),m=c("useCometInternalTypeaheadFetch")();m=m.isLoading;var n=i(),o;b[0]!==e?(o={activeEntries:e},b[0]=e,b[1]=o):o=b[1];o=c("useCometTypeaheadViewLabel")(o);var p;b[2]!==g||b[3]!==k?(p=g!=null?{"aria-activedescendant":k===!0?g.key+"-secondary-action":g.key}:{},b[2]=g,b[3]=k,b[4]=p):p=b[4];g=p;b[5]!==e.length||b[6]!==j||b[7]!==l?(k=j&&e.length>0?{"aria-controls":l}:null,b[5]=e.length,b[6]=j,b[7]=l,b[8]=k):k=b[8];p=k;b[9]!==n||b[10]!==f?(k=f!=null&&String(f).length>0?{"aria-describedby":n}:null,b[9]=n,b[10]=f,b[11]=k):k=b[11];f=k;b[12]!==m||b[13]!==l||b[14]!==o||b[15]!==a?(k={"aria-busy":m,"aria-label":o,id:l,role:a},b[12]=m,b[13]=l,b[14]=o,b[15]=a,b[16]=k):k=b[16];m=k;b[17]!==n?(l={id:n},b[17]=n,b[18]=l):l=b[18];o=e.length>0&&j;b[19]!==h||b[20]!==g||b[21]!==p||b[22]!==f||b[23]!==o?(a=babelHelpers["extends"]({},g,p,f,{"aria-autocomplete":"list","aria-expanded":o,"aria-label":h,role:"combobox"}),b[19]=h,b[20]=g,b[21]=p,b[22]=f,b[23]=o,b[24]=a):a=b[24];b[25]!==m||b[26]!==a||b[27]!==l?(k={ariaDescribedByProps:l,ariaInputProps:a,ariaViewProps:m},b[25]=m,b[26]=a,b[27]=l,b[28]=k):k=b[28];n=k;return n}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBIconCheckmarkCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.3 1078.26-3.718 4a.75.75 0 0 1-1.099 0l-1.79-1.925a.75.75 0 0 1 1.1-1.022l1.24 1.335 3.168-3.409a.75.75 0 0 1 1.098 1.022m-3.3-4.76c-3.308 0-6 2.69-6 6 0 3.308 2.692 6 6 6 3.31 0 6-2.692 6-6 0-3.31-2.69-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","err","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["youtube"],j=["image/png","image/jpeg","image/jpg"],k=2*1e3;function l(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function m(a){return(h||(h=b("Promise"))).race([a,l(k)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(s).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=(yield m(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b)));if(a==null||a instanceof Blob){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return p({fallbackUrl:e,rawResponse:a})}catch(a){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_e2ee_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}});return n.apply(this,arguments)}function f(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplEvent;a=a.xmaData;if(a==null)return(h||(h=b("Promise"))).resolve();var f=t(a.url);f=i.includes(f);if(f)return(h||(h=b("Promise"))).resolve();f=a==null?void 0:a.thumbnail_url;if(f==null||!Boolean(f)){e==null?void 0:e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return(h||(h=b("Promise"))).resolve()}a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(a==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){e==null?void 0:e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}f=(yield m(d("MAWOembedIframeContainer.react").requestUrl(f,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,a)));if(f instanceof Blob)return f;e==null?void 0:e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch image blob response. ");return(h||(h=b("Promise"))).resolve()});return o.apply(this,arguments)}function p(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("err")("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("err")("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function q(a){var b=r.some(function(b){return b.test(a)});return b?!0:Object.values(s).some(function(b){b=b.url;return a.startsWith(b)})}var r=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$")],s={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function t(a){return Object.keys(s).find(function(b){return s[b].schemes.some(function(b){return b.test(a)})})}g.allowedPreviewTypes=j;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=e;g.getImageBlobResponse=f;g.isAllowedRequestForFbsbx=q}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_e2ee_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=(d=d)!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null?void 0:a.beginListening();return k}if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null?void 0:b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null?void 0:(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;if(a!=null&&Object.keys(b).length>0){return b[a]!=null&&((b=b[a])==null?void 0:b.snippetStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingOfflineQueueSelector=a}),98);
__d("MWChatConfirmTabCloseDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._(/*BTDS*/"__JHASH__BpxPpP9rp8f__JHASH__"),confirm:h._(/*BTDS*/"__JHASH__CqytfJoYvSJ__JHASH__"),title:h._(/*BTDS*/"__JHASH__56tk0437PKy__JHASH__")};g.content=a}),226);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(23),f,g,h,j,k,l,m;e[0]!==a?(g=a.loggingEvent,k=a.size,l=a.tooltipLabel,m=a.tooltipPosition,f=a.color,h=a.onPress,j=babelHelpers.objectWithoutPropertiesLoose(a,["loggingEvent","size","tooltipLabel","tooltipPosition","color","onPress"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=j,e[5]=k,e[6]=l,e[7]=m):(f=e[1],g=e[2],h=e[3],j=e[4],k=e[5],l=e[6],m=e[7]);a=c("MessengerWebUXLogger").useLogOnPressInteraction();var n;e[8]!==a||e[9]!==g||e[10]!==h?(n=a(h,g),e[8]=a,e[9]=g,e[10]=h,e[11]=n):n=e[11];a=n;h=(g=k)!=null?g:28;e[12]!==f||e[13]!==a||e[14]!==b||e[15]!==j||e[16]!==h||e[17]!==l?(n=i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({color:f,label:l,onPress:a,ref:b,size:h,type:"deemphasized"},j)),e[12]=f,e[13]=a,e[14]=b,e[15]=j,e[16]=h,e[17]=l,e[18]=n):n=e[18];k=n;if(l==null)return k;f=(g=m)!=null?g:"above";e[19]!==k||e[20]!==f||e[21]!==l?(a=i.jsx(c("MWXTooltip.react"),{align:"middle",position:f,tooltip:l,children:k}),e[19]=k,e[20]=f,e[21]=l,e[22]=a):a=e[22];return a}e=b;g["default"]=e}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","gkx","react","react-compiler-runtime","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function m(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=d("react-compiler-runtime").c(23),e=a.children,f=a.disableAutoFocus,g=a.onBlur,i=a.onEscape,n=a.onFocus;a=a.xstyle;var o=k(null),p=c("useMWInboxPassiveContext")(),q=p.setIsPassive;p=d("MWChatFocusComposerContext").useMWChatFocusComposer();p=p.focusComposer;var r;r=p;f===!0&&(r=void 0);b[0]!==r?(p=function(){if(o.current!=null&&r!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||m()))return r()},b[0]=r,b[1]=p):p=b[1];r;f=p;b[2]!==g?(p=function(){return g==null?void 0:g()},b[2]=g,b[3]=p):p=b[3];var s;b[4]!==r||b[5]!==n||b[6]!==q?(s=function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(n==null?void 0:n());o.current!=null&&r!=null&&o.current===a.target&&r();if(c("gkx")("24041"))return q(!1)},b[4]=r,b[5]=n,b[6]=q,b[7]=s):s=b[7];var t;b[8]!==i?(t=function(){return i==null?void 0:i()},b[8]=i,b[9]=t):t=b[9];var u;b[10]!==a?(u=(h||(h=c("stylex"))).props(l.root,a),b[10]=a,b[11]=u):u=b[11];b[12]!==e||b[13]!==f||b[14]!==u?(a=j.jsx("div",babelHelpers["extends"]({},u,{onClick:f,ref:o,role:"none",tabIndex:-1,children:e})),b[12]=e,b[13]=f,b[14]=u,b[15]=a):a=b[15];b[16]!==t||b[17]!==a?(e=j.jsx(c("CometHideLayerOnEscape.react"),{onHide:t,children:a}),b[16]=t,b[17]=a,b[18]=e):e=b[18];b[19]!==p||b[20]!==s||b[21]!==e?(f=j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:p,onFocusWithin:s,children:e}),b[19]=p,b[20]=s,b[21]=e,b[22]=f):f=b[22];return f}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.delayMs;a=a.vcIgnore;var d=c("useIsMountedRef")();b=c("useDebouncedState")(function(){return!0},{debounceMS:b,doNotDebounce:!b});var e=b[0],f=b[1];b=j(function(){return{onHidden:function(){d.current&&f(!1)},onVisible:function(){d.current&&f(!0)}}},[d,f]);b=c("useVisibilityObserver")(b);return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:b,role:"row"},a===!0?c("CometVisualCompletionAttributes").IGNORE:{},{children:i.jsx("div",{role:"cell",children:e?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"__JHASH__h_m7dC6Kxvx__JHASH__");function a(a){var b,e=d("react-compiler-runtime").c(7),f=a.label,g=a.onPress;a=a.testid;var h=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),e[0]=i):i=e[0];b=(b=f)!=null?b:k;f=(f=f)!=null?f:k;e[1]!==g||e[2]!==h||e[3]!==b||e[4]!==f||e[5]!==a?(i=j.jsx(c("MWChatHeaderActionButton.react"),{color:i,icon:c("MWXIconCross"),iconRatio:"large",label:b,loggingEvent:"close_chat_tab",onPress:g,ref:h,testid:void 0,tooltipLabel:f}),e[1]=g,e[2]=h,e[3]=b,e[4]=f,e[5]=a,e[6]=i):i=e[6];return i}g["default"]=a}),226);
__d("MWV2HeaderContainer.react",["MDSRow.react","MWEditMessageOverlay.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.divider,f=a.endContent;a=a.startContent;e=e===void 0?!0:e;f=f===void 0?null:f;a=a===void 0?null:a;var g;b[0]!==e?(g=(h||(h=c("stylex"))).props(k.root,e?k.divider:!1),b[0]=e,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWEditMessageOverlay.react"),{}),b[2]=e):e=b[2];var i;b[3]!==a?(i=j.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:a}),b[3]=a,b[4]=i):i=b[4];b[5]!==f||b[6]!==g||b[7]!==i?(a=j.jsxs("div",babelHelpers["extends"]({},g,{children:[e,i,f]})),b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWV2ComposerHasContentContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useRef,l=e({hasContentRef:void 0});function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={hasContentRef:c},b[0]=c):c=b[0];c=c;c=c;b[1]!==a?(c=i.jsx(l.Provider,{value:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}function b(){return j(l)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("useMWV2CloseTab",["I64","LSContactListConversionAttributionStore","MWChatConfirmTabCloseDialog.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWV2ComposerHasContentContext.react","MessengerClickImpressionEventsLoggerImpl","emptyFunction","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=d("MWChatStateV2.react").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.react").useComposerHasContext(),h=g.hasContentRef,k=d("MessengerClickImpressionEventsLoggerImpl").useGetUniqueThreadID(a,(g=b.tabType.threadKeyDescriptor)==null?void 0:g.threadType);return j(function(){var g=function(){if(a!=null){var c,f=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));if(f!=null&&(((c=f.getTrace())==null?void 0:c.traceStatus)==null||((c=f.getTrace())==null?void 0:c.traceStatus)==="START")){c=!0;f.cancelTrace("close_tab",c)}}k!=null&&d("LSContactListConversionAttributionStore").resetAttribution(k);e(d("MWChatStateActions").closeTab(Date.now(),b.tabId))};if(a!=null&&(h==null?void 0:h.current)===!0)return f(d("MWChatConfirmTabCloseDialog.react").content,function(){g()},c("emptyFunction"));g()},[k,a,b,e,f,h])}g["default"]=a}),98);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={headerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",marginStart:"x17adc0v",width:"x1vz4e29",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.tab;a=c("useMWV2CloseTab")(a.tabType.type===d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab?a.tabType.threadKeyDescriptor.threadKey:void 0,a);var e;b[0]!==a?(e=i.jsx(c("MWV2HeaderCloseButton.react"),{onPress:a}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.headerGlimmer}),b[2]=a):a=b[2];b[3]!==e?(a=i.jsx(c("MWV2HeaderContainer.react"),{endContent:e,startContent:a}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(5),b=i(d("MAWEditMessageContext.react").Context),c=b.editMessageData,e=b.setEditMessageData;a[0]!==e?(b=function(){e(null)},a[0]=e,a[1]=b):b=a[1];b=b;c=c!=null;var f;a[2]!==b||a[3]!==c?(f={exitEditMessageMode:b,isEditMessageModeActive:c},a[2]=b,a[3]=c,a[4]=f):f=a[4];return f}g["default"]=a}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","gkx","react","react-compiler-runtime","stylex","useMWPEditMessageExit","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={defaultHeight:{height:"x1rgmuzj",maxHeight:"x85a59c","@media (min-height: 1280px)_height":"xbbk1sx",$$css:!0},defaultHeightResponsive:{height:"x1rgmuzj",maxHeight:"x13vwxbo","@media (max-width: 1400px)_maxHeight":"x1yni0do","@media (min-height: 875px)_height":"xaihbs0",$$css:!0},tabContainer:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x6prxxf",lineHeight:"xvq8zen",marginStart:"x17adc0v",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},tabContainerFocused:{boxShadow:"x1eqhsl0",$$css:!0},tabContainerUnfocused:{boxShadow:"x6l8u58",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.ariaBusy,f=a.ariaLabel,g=a.children,i=a.domRef,l=a.style,m=a.tab,n=a.tabIndex;a=a.threadKey;var o=d("MWChatStateV2.react").useDispatch();a=c("useMWV2CloseTab")(a,m);var p;b[0]!==m.tabId?(p=function(a){return a.focusedTabId===m.tabId},b[0]=m.tabId,b[1]=p):p=b[1];p=d("MWChatStateContext").useChatState(p);var q=c("useMWPEditMessageExit")(),r=q.exitEditMessageMode;q=q.isEditMessageModeActive;var s;b[2]!==o?(s=function(){return o(d("MWChatStateActions").blurTab())},b[2]=o,b[3]=s):s=b[3];q=q?r:a;b[4]!==o||b[5]!==m.tabId?(r=function(){return o(d("MWChatStateActions").focusTab(m.tabId))},b[4]=o,b[5]=m.tabId,b[6]=r):r=b[6];a=p?k.tabContainerFocused:k.tabContainerUnfocused;b[7]!==a?(p=(h||(h=c("stylex")))(k.tabContainer,c("gkx")("7155")?k.defaultHeightResponsive:k.defaultHeight,a),b[7]=a,b[8]=p):p=b[8];b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==p||b[15]!==n?(a=j.jsx("div",{"aria-busy":e,"aria-label":f,className:p,"data-testid":void 0,ref:i,style:l,tabIndex:n,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=i,b[13]=l,b[14]=p,b[15]=n,b[16]=a):a=b[16];b[17]!==s||b[18]!==q||b[19]!==r||b[20]!==a?(e=j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsx(c("MWChatTabFocusHandler"),{onBlur:s,onEscape:q,onFocus:r,children:a})}),b[17]=s,b[18]=q,b[19]=r,b[20]=a,b[21]=e):e=b[21];return e}g["default"]=a}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","react-compiler-runtime","useCometLoadingStateTracker","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13);a=a.tab;var e=c("useCometLoadingStateTracker")();e=e[1];var f=l(null),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i;b[0]!==g?(i=function(){if(g){var a=f.current;a!=null&&a.focus()}},b[0]=g,b[1]=i):i=b[1];var m;b[2]!==g||b[3]!==e?(m=[g,e],b[2]=g,b[3]=e,b[4]=m):m=b[4];k(i,m);i=c("useMergeRefs")(e,f);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"__JHASH__SxkfHU6fYt9__JHASH__").toString(),b[5]=m):m=b[5];b[6]!==a?(e=j.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:a}),b[6]=a,b[7]=e):e=b[7];var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),b[8]=n):n=b[8];b[9]!==i||b[10]!==e||b[11]!==a?(m=j.jsxs(c("MWV2TabContainer"),{ariaBusy:!0,ariaLabel:m,domRef:i,tab:a,tabIndex:0,children:[e,n]}),b[9]=i,b[10]=e,b[11]=a,b[12]=m):m=b[12];return m}g["default"]=a}),226);
__d("MWXIconCheckmarkCircle",["MWXSvgIcon","SVGIcon","cr:12361","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12361")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorThreadJid",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWJids","ReQL","WAJids","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useState;function a(a,b){var e=d("react-compiler-runtime").c(7),f=(h||(h=c("useReStore")))(),g=k(null),j=g[0],l=g[1];e[0]!==b?(g=b!=null?d("LSMessagingThreadTypeUtil").isGroup(b):!1,e[0]=b,e[1]=g):g=e[1];var m=g;e[2]!==f||e[3]!==m||e[4]!==a?(b=function(){if(a==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.mi_act_mapping_table).getKeyRange(a)),function(a){if(a!=null){a=(i||(i=d("I64"))).to_string(a.jid);a=m===!0?d("WAJids").toGroupJid(a):d("MAWJids").toUserJid(a);l(a)}})},g=[f,l,a,m],e[2]=f,e[3]=m,e[4]=a,e[5]=b,e[6]=g):(b=e[5],g=e[6]);d("Int64Hooks").useEffectInt64(b,g);return j}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicator",["Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","react-compiler-runtime","useCometRouterState","useMAWOfflineQueueLoadingIndicatorThreadJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(4);a=a===void 0?!1:a;var g=e===void 0?d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector:e,h=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b==null?void 0:b.threadKey,b==null?void 0:b.threadType);e=c("useCometRouterState")();var i;f[0]!==g||f[1]!==h?(b=function(){return g(h)},i=[g,h],f[0]=g,f[1]=h,f[2]=b,f[3]=i):(b=f[2],i=f[3]);f=d("Int64Hooks").useMemoInt64(b,i);b=d("MAWStateContext.react").useMAWSelector(f);i=e==null?void 0:e.main.route.tabKey;return b&&(i==="messenger"||!a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloReceiveWriteDbSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5721");b=d("FalcoLoggerInternal").create("armadillo_receive_write_db_success",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupTaskSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5727");b=d("FalcoLoggerInternal").create("encrypted_backup_task_skipped",a);e=b;g["default"]=e}),98);
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71,READ_IGGK:72,GET_RUN_MODE:73,STR_TRIM:74,STR_REPLACE:75,JOIN:76,STR_LIKE:77,LENGTH:78,IN:79,IN_VEC:80,SUB:81,MUL:82,DIV:83,MOD:84,I64_SUB:85,I64_MUL:86,I64_DIV:87,I64_MOD:88,I64_IN:89,I64_IN_VEC:90,BITWISE_LEFT_SHIFT:91,BITWISE_RIGHT_SHIFT:92,ARITHMETIC_RIGHT_SHIFT:93,BITWISE_AND:94,BITWISE_OR:95,BITWISE_XOR:96,TERNARY:97,XOR:98,NULLISH_COALESE:99,READ_COLUMN:100,READ_COLUMN_REF:101,READ_GROUP_COUNT:102,COMMENT:103,IMPORT:104,LOOP:105,QUERY_COMPARISON_EQUAL:106,QUERY_COMPARISON_NOT_EQUAL:107,QUERY_COMPARISON_GREATER_THAN:108,QUERY_COMPARISON_GREATER_THAN_OR_EQUAL:109,QUERY_COMPARISON_LESS_THAN:110,QUERY_COMPARISON_LESS_THAN_OR_EQUAL:111,QUERY_MERGE_CONSTRAINTS:112,QUERY_FETCH_ROWS:113,QUERY_FILTER_ROWS:114,QUERY_SORT_ROWS_BY:115,QUERY_DELETE_ROWS:116,QUERY_SLICE_ROWS:117,QUERY_COUNT_ROWS:118,QUERY_PEEK_NEXT_ROW_ID:119,QUERY_UPDATE_ROWS:120,QUERY_INSERT_ROWS:121,QUERY_PUT_ROWS:122,QUERY_FOREACH_ROW:123,QUERY_SELECT_MATCH_ROW:124,QUERY_CURSOR_SLICE:125,QUERY_GROUP_BY:126,SUB_STRING:127});c=a;f["default"]=c}),66);
__d("LSMaybeDeferredImports",["LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h(a)}function b(a){return h(a)}function h(b){var a=null;return{load:function(){return a==null?b.load().then(function(b){a=b;return a}):d("LSSynchronousPromise").maybeMakeSynchronousPromise(a)}}}g.wrapReqDeferredMaybeSync=a;g.wrapJSResourceForInteractionMaybeSync=b}),98);
__d("LSSelectOrder",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ASC","DESC"]);c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","JSResourceForInteraction","LS","LSMaybeDeferredImports","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}var k=d("LSMaybeDeferredImports").wrapJSResourceForInteractionMaybeSync(c("JSResourceForInteraction")("LSLocalize").__setRef("LSDatascriptJSONEval"));function l(a,b,d){if((h||(h=c("isPromise")))(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=[];this.$6=null;this.$7=function(a){return l(f.$8(a),function(a){return a},function(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var d=a.prototype;d.eval=function(){return this.$2==null?this.$1.resolveGuaranteeAsync([]):this.$1.resolveGuaranteeAsync(this.$7(this.$2.step))};d.$8=function(a){var d=this;if(!Array.isArray(a))return a;var e=a[0];a=a.slice(1);var f=a;switch(e){case 8:return f.map(this.$7);case 2:return this.$4[f[0]];case 3:return l(this.$7(f[1]),function(a){return d.$4[f[0]]=a});case 4:return l(this.$7(f[2]),function(a){var b=f[0],c=f[1];for(var e=0;e<c;e++,b++)d.$4[b]=a[e];return a});case 12:a=f[0];e=f[1];var g=[];for(a=a;a<e;a++)g[a]=this.$4[a];return g;case 1:var h;a=function(a){h=l(h,function(){return d.$7(f[a])})};for(e=0;e<f.length;e++)a(e);return h;case 5:return(g=this.$1).storedProcedure.apply(g,f.map(this.$7));case 6:return(e=this.$1).nativeTypeOperation.apply(e,f.map(this.$7));case 7:return(a=this.$1).nativeOperation.apply(a,f.map(this.$7));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$7(f[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$7(f[0]));case 15:return this.$1.blobs.of_string(this.$7(f[0]));case 16:return this.$1.blob(this.$7(f[0]));case 17:return this.$1.i64.of_float(this.$7(f[0]));case 18:g=this.$7(f[0]);return g!=null?this.$1.i64.to_float(g):void 0;case 19:return this.$1.i64.from_string(this.$7(f[0]));case 70:return this.$1.i64.cast(this.$7(f[0]));case 20:return this.$1.i64.to_string(this.$7(f[0]));case 21:return(e=this.$3)==null?void 0:(a=e.gk)==null?void 0:a[f[0]];case 22:var m;g=f[0];e=f[1];a=f[2];var n=f[3];m=(m=this.$3)==null?void 0:(m=m.qe)==null?void 0:(m=m[g])==null?void 0:(g=m[e])==null?void 0:g[a];if(m==null)return m;switch(n){case"BOOL":case"STR":return m;case"I64":if(typeof m!=="object")throw c("FBLogger")("messenger_web_product").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(m.toString())}return;case 23:if(this.$7(f[0]))return this.$7(f[1]);else if(f[2]!=null)return this.$7(f[2]);return;case 24:return this.$7(f[0])||this.$7(f[1]);case 25:return this.$7(f[0])&&this.$7(f[1]);case 26:return!this.$7(f[0]);case 27:return this.$7(f[0])==null;case 28:return this.$1.notnull(this.$7(f[0]));case 29:return this.$7(f[0])===this.$7(f[1]);case 30:return this.$1.i64.eq(this.$7(f[0]),this.$7(f[1]));case 31:return this.$1.blobs.eq(this.$7(f[0]),this.$7(f[1]));case 32:return this.$7(f[0])!==this.$7(f[1]);case 33:return this.$1.i64.neq(this.$7(f[0]),this.$7(f[1]));case 34:return this.$1.blobs.neq(this.$7(f[0]),this.$7(f[1]));case 35:return this.$7(f[0])>this.$7(f[1]);case 36:return this.$1.i64.gt(this.$7(f[0]),this.$7(f[1]));case 37:return this.$1.blobs.gt(this.$7(f[0]),this.$7(f[1]));case 38:return this.$7(f[0])>=this.$7(f[1]);case 39:return this.$1.i64.ge(this.$7(f[0]),this.$7(f[1]));case 40:return this.$1.blobs.ge(this.$7(f[0]),this.$7(f[1]));case 41:return this.$7(f[0])<this.$7(f[1]);case 42:return this.$1.i64.lt(this.$7(f[0]),this.$7(f[1]));case 43:return this.$1.blobs.lt(this.$7(f[0]),this.$7(f[1]));case 44:return this.$7(f[0])<=this.$7(f[1]);case 45:return this.$1.i64.le(this.$7(f[0]),this.$7(f[1]));case 46:return this.$1.blobs.le(this.$7(f[0]),this.$7(f[1]));case 47:return this.$1["throw"](f[0]);case 48:return this.$1.print(this.$7(f[0]));case 49:e=this.$7(f[0]);g=f[1];a=this.$1.logger(e);switch(g){case"mustfix":return a.mustfix(e);case"info":return a.info(e);case"warn":return a.warn(e);case"debug":return a.debug(e);default:throw c("FBLogger")("messenger_web_product").mustfixThrow("Invalid logger level %s",g)}case 50:return f.length===0?this.$1.createArray():(n=this.$1).createArrayWithElements.apply(n,this.$7(f[0]));case 51:m=this.$7(f[0]);m.push(this.$7(f[1]));return m;case 52:return this.$1.i64.of_int32(this.$7(f[0]).length);case 53:return new this.$1.Map();case 54:return this.$7(f[0]).get(this.$7(f[1]));case 55:return this.$7(f[0]).set(this.$7(f[1]),this.$7(f[2]));case 56:return this.$7(f[0]).keys();case 57:return this.$7(f[0])["delete"](this.$7(f[1]));case 58:return this.$7(f[0]).has(this.$7(f[1]));case 59:return this.$7(f[0]).join(this.$7(f[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$7(f[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return k.load().then(function(a){a=a.localizeV1Async;return a(d.$7(f[0]),d.$7(f[1]))});case 66:return k.load().then(function(a){a=a.localizeV2Async;return a(d.$7(f[0]),d.$7(f[1]))});case 68:return this.$7(f[0])+this.$7(f[1]);case 69:return this.$1.i64.add(this.$7(f[0]),this.$7(f[1]));case 71:return(a=this.$3)==null?void 0:(e=a.justknob)==null?void 0:e[f[0]];case 72:return(g=this.$3)==null?void 0:(n=g.iggk)==null?void 0:n[f[0]];case 100:return this.$5[f[0]][f[1]];case 101:if(this.$6==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attempting to read column ref when none exist!");return this.$6[f[0]];case 102:return this.$5[this.$7(f[0])].group_count;case 73:return this.$1.rm;case 74:return this.$7(f[0]).trim();case 75:return this.$7(f[0]).split(this.$7(f[1])).join(this.$7(f[2]));case 76:return f.map(this.$7).join("");case 77:return this.$1.like(this.$7(f[0]),this.$7(f[1]));case 78:return[0,this.$7(f[0]).length];case 79:m=f.map(this.$7);a=m[0];e=m.slice(1);return e.includes(a);case 80:return this.$7(f[1]).includes(this.$7(f[0]));case 81:return this.$7(f[0])-this.$7(f[1]);case 82:return this.$7(f[0])*this.$7(f[1]);case 83:return this.$7(f[0])/this.$7(f[1]);case 84:return this.$7(f[0])%this.$7(f[1]);case 91:return this.$1.i64.lsl_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 92:return this.$1.i64.lsr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 93:return this.$1.i64.asr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 94:return this.$1.i64.and_(this.$7(f[0]),this.$7(f[1]));case 95:return this.$1.i64.or_(this.$7(f[0]),this.$7(f[1]));case 96:return this.$1.i64.xor(this.$7(f[0]),this.$7(f[1]));case 85:return this.$1.i64.sub(this.$7(f[0]),this.$7(f[1]));case 86:return this.$1.i64.mul(this.$7(f[0]),this.$7(f[1]));case 87:return this.$1.i64.div(this.$7(f[0]),this.$7(f[1]));case 88:return this.$1.i64.mod_(this.$7(f[0]),this.$7(f[1]));case 89:g=f.map(this.$7);var o=g[0];n=g.slice(1);return n.some(function(a){return d.$1.i64.eq(o,a)});case 90:var p=this.$7(f[0]);return this.$7(f[1]).some(function(a){return d.$1.i64.eq(p,a)});case 97:return this.$7(f[0])?this.$7(f[1]):this.$7(f[2]);case 98:m=this.$7(f[0]);e=this.$7(f[1]);return(m||e)&&!(m&&e);case 99:return(a=this.$7(f[0]))!=null?a:this.$7(f[1]);case 103:return;case 104:return b.call(null,f[0]);case 105:g=function(){var b=d.$7(f[0]),e=f[1],g=c("LS").n,a,h=function(b){a=l(a,function(){d.$4[e]=b;return d.$7(f[2])})};for(var k=g(j());d.$1.i64.lt(k,b);k=d.$1.i64.add(k,g(i())))h(k);return{v:a}}();if(typeof g==="object")return g.v;case 106:return this.$7(f[0]);case 107:throw c("FBLogger")("messenger_web_product").mustfixThrow("not equal query comparison operator not supported");case 108:return{gt:this.$7(f[0])};case 109:return{gte:this.$7(f[0])};case 110:return{lt:this.$7(f[0])};case 111:return{lte:this.$7(f[0])};case 112:return f.length===1?this.$7(f[0]):(n=this.$1).merge.apply(n,f.map(this.$7));case 113:m=f[0];e=f[1];a=f.slice(2);g=a.map(this.$7);switch(e){case"ASC":return(n=this.$1.db.table(m)).fetch.apply(n,g);case"DESC":return(a=this.$1.db.table(m)).fetchDesc.apply(a,g)}return;case 114:return this.$1.filter(this.$7(f[0]),function(a){d.$6=a;a=d.$7(f[1]);d.$6=null;return a});case 115:return(e=this.$1).sortBy.apply(e,f.map(this.$7));case 116:return this.$1.forEach(this.$7(f[0]),function(a){return a["delete"]()});case 117:return this.$1.islc(this.$7(f[0]),0,this.$7(f[1]));case 118:return this.$1.count(this.$7(f[0]));case 119:return this.$1.db.table(f[0]).peekNextAutoIncrementId();case 120:return this.$1.forEach(this.$7(f[0]),function(a){var b=a.item;a=a.update;var c={};d.$6=b;for(b=1;b<f.length;b+=2)c[f[b]]=d.$7(f[b+1]);d.$6=null;return a(c)});case 121:n=f[0];m={};for(a=1;a<f.length;a+=2)m[f[a]]=this.$7(f[a+1]);return this.$1.db.table(n).add(m);case 122:g=f[0];e={};for(a=1;a<f.length;a+=2)e[f[a]]=this.$7(f[a+1]);return this.$1.db.table(g).put(e);case 123:return this.$1.forEach(this.$7(f[0]),function(a){a=a.item;d.$5[f[1]]=a;return d.$7(f[2])});case 124:return this.$7(f[0]).next().then(function(a){var b=a.done;a=a.value;if(b)return d.$7(f[3]);else{b=f[1];if(b!=null){d.$5[b]=a.item;return d.$7(f[2])}}return 0});case 125:return this.$7(f[0]).slice(0,this.$7(f[1]));case 126:return this.$1.groupBy(this.$7(f[0]),f[1]).forEach(function(a){d.$5[f[2]]=a;return d.$7(f[3])});case 127:return this.$7(f[0]).substr(this.$1.i64.to_int32(this.$7(f[1])),this.$1.i64.to_int32(this.$7(f[2])))}};return a}();g["default"]=a}),98);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var i=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&(h||(h=c("Env"))).useTrustedTypes){var f=i.createScript.apply(i,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=i;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]};g.ig=function(b){var c;return a==null?void 0:(c=a.iggk)==null?void 0:c[b]};var h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e;e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction((e=c("TrustedTypesNoOpPolicy_DO_NOT_USE")).createScript("gkx"),e.createScript("qex"),e.createScript("justknobx"),e.createScript("return "+b));return e(g,f,h)(c("LSFactory")(a,{dynamic:!0}))}}var i=function(a){return c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow('Received a sync script with an illegal target of "%s"',(a=a)!=null?a:-1)};function j(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},iggk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a,{dynamic:!0}),e).eval()}}function k(a,b,d){if(!c("justknobx")._("3078"))return l(a,b,d);if(d==null)throw i(d);switch(d){case 3:return j(a,b);default:throw i(d)}}function l(a,b,d){if(d==null){c("FBLogger")("lightspeed","null_target").mustfix("Received <null> target field for sync script!");return h(a,b)}switch(d){case 3:return j(a,b);case 2:return h(a,b);case 1:throw c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!")}}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_comet").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var g=e.experiments,h=e.priority,i=e.syncScript,j=e.target;e=e.taskNames;g=g!=null?JSON.parse(g):null;try{var l=k(g,i,j);return b.runInTransaction(function(b){a&&a();return l(b)},"readwrite",h,{taskNames:e,type:"sync_script"},f.id+":231")}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web_product").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g.default=a}),98);
__d("XPlatReactVoprf.shared",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.VoprfWasmError=a}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case-1:return new h();case 1:return new i();case 2:return new j();case 3:return new k();case 4:return new l();default:return new m()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfUnknownError";return a}return a}((b=d("XPlatReactVoprf.shared")).VoprfWasmError),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect buffer length encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfBufferLengthError";return a}return a}(b.VoprfWasmError),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing curve operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfCurveOperationError";return a}return a}(b.VoprfWasmError),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing hash operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfHashOperationError";return a}return a}(b.VoprfWasmError),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing proof operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfProofError";return a}return a}(b.VoprfWasmError),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b.VoprfWasmError);g.mapVoprfWasmError=a;g.VoprfUnknownError=h;g.VoprfBufferLengthError=i;g.VoprfCurveOperationError=j;g.VoprfHashOperationError=k;g.VoprfProofError=l;g.UnknownErrorCode=m}),98);
__d("LSVoprfWasmBuilder",["FBLogger","Promise","asyncToGeneratorRuntime","err","mapVoprfWasmError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(d){var e=d.locateFile!=null?{locateFile:d.locateFile}:{instantiateWasm:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=(yield d.getWasmModule());e=(yield WebAssembly.instantiate(e,a));b(e);return{}}catch(a){c("FBLogger")("LSVoprfWasmBuilder").mustfix("instantiateWasm failed with error: %s",a.toString());return!1}});function e(b,c){return a.apply(this,arguments)}return e}()};return i(e,a)}}function i(a,e){return new(h||(h=b("Promise")))(function(b,f){e(a).then(function(a){var e=a._sodiumInit();e!==0&&f(c("err")("Failed to initialize Sodium!"));b({createCurveRistretto:function(){var b;try{b=a._curve_create();a._curve_init_ristretto(b);return b}catch(c){b!=null&&a._curve_free(b);throw c}},freeCurve:function(b){a._curve_free(b)},createVoprfExpTwohashdh:function(b){var c;try{c=a._voprf_create();a._voprf_init_exp_twohashdh(c,b);return c}catch(b){c!=null&&a._voprf_free(c);throw b}},freeVoprf:function(b){a._voprf_free(b)},getCurveBytes:function(b){return a._get_curve_element_bytes(b.curvePtr)},getCurveScalarBytes:function(b){return a._get_curve_scalar_bytes(b.curvePtr)},blind:function(b,c){var e,f,g;try{var h=a._get_curve_element_bytes(b.curvePtr),i=a._get_curve_scalar_bytes(b.curvePtr);e=a._malloc(h);f=a._malloc(i);g=k(a,c);b=a._blind(b.voprfPtr,e,h,f,i,g,c.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,e,h);b=j(a,f,i);return{blindedElement:c,blindingFactor:b}}finally{[e,f,g].forEach(function(b){b!=null&&a._free(b)})}},verifiableUnblind:function(b,c,e,f,g,h,i,l){var m,n,o,p,q,r,s;try{m=c?k(a,c):null;n=e?k(a,e):null;o=k(a,h);p=k(a,f);q=k(a,g);r=k(a,i);var t=a._get_curve_element_bytes(b.curvePtr);s=a._malloc(t);b=a._verifiable_unblind(b.voprfPtr,s,t,m,c?c.length:0,n,e?e.length:0,p,f.length,q,g.length,o,h.length,r,i.length,+l);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,s,t);return{unblindedElement:c}}finally{[m,n,o,p,q,r,s].forEach(function(b){b!=null&&a._free(b)})}},clientFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_client_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},setup:function(b){var c,e;try{var f=a._get_curve_scalar_bytes(b.curvePtr),g=a._get_curve_element_bytes(b.curvePtr);c=a._malloc(f);e=a._malloc(g);b=a._voprf_setup(b.voprfPtr,e,g,c,f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);b=j(a,e,g);g=j(a,c,f);return{sk:b,pk:g}}finally{[c,e].forEach(function(b){b!=null&&a._free(b)})}},evaluate:function(b,c,e,f){var g,h,i,l,m;try{var n=a._get_curve_element_bytes(b.curvePtr);g=a._malloc(n);var o=f?a._get_curve_scalar_bytes(b.curvePtr):0;h=o>0?a._malloc(o):null;var p=f?a._get_curve_scalar_bytes(b.curvePtr):0;i=p>0?a._malloc(p):null;l=k(a,e);m=k(a,c);b=a._voprf_evaluate(b.voprfPtr,g,n,h,o,i,p,m,c.length,l,e.length,+f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=h!==null?j(a,h,o):null;e=i!==null?j(a,i,p):null;f=j(a,g,n);return{proofC:c,proofS:e,evaluatedElement:f}}finally{[g,h,i,l,m].forEach(function(b){b!=null&&a._free(b)})}},serverFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_server_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},wasmMemory:(e=a.wasmMemory)!=null?e:void 0})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function j(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function k(a,b){var c=b.length;c=a._malloc(c);a.writeArrayToMemory(b,c);return c}g["default"]=a}),98);
__d("LSVoprfWasm",["LSVoprfWasmBuilder","bx","ls_voprf_utils_v2"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("30933"));a=function(){return h};b=c("LSVoprfWasmBuilder")(c("ls_voprf_utils_v2"));g.locateFile=a;g.LSVoprfWasm=b}),98);
__d("WASmaxInPreKeysRotateSignedResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrors").parseRequestErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrors:b.value}))}g.parseRotateSignedResponseRequestError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseRotateSignedResponseServerError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseSuccess",["WASmaxInPreKeysIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRotateSignedResponseSuccess=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseValidationError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(c.value,"text");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(c.value,"code",400,499);if(!f.success)return f;c=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(c.value);if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorText:e.value,errorCode:f.value,errorIdentityKeyMixin:c.value},a.value))}g.parseRotateSignedResponseValidationError=a}),98);
__d("WASmaxOutPreKeysRotateSignedRequest",["WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WASmaxOutPreKeysSignedPreKeyMixin"],(function(a,b,c,d,e,f,g){function a(a){a=a.signedPreKeyMixinArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"set"},d("WASmaxOutPreKeysSignedPreKeyMixin").mergeSignedPreKeyMixin(d("WASmaxJsx").smax("rotate",null),a)));return a}g.makeRotateSignedRequest=a}),98);
__d("WASmaxPreKeysRotateSignedRPC",["WAComms","WASmaxInPreKeysRotateSignedResponseRequestError","WASmaxInPreKeysRotateSignedResponseServerError","WASmaxInPreKeysRotateSignedResponseSuccess","WASmaxInPreKeysRotateSignedResponseValidationError","WASmaxOutPreKeysRotateSignedRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=d("WASmaxOutPreKeysRotateSignedRequest").makeRotateSignedRequest(a);b=(yield d("WAComms").sendSmaxStanza(a,b));var c=d("WASmaxInPreKeysRotateSignedResponseSuccess").parseRotateSignedResponseSuccess(b,a);if(c.success)return{name:"RotateSignedResponseSuccess",value:c.value};var e=d("WASmaxInPreKeysRotateSignedResponseValidationError").parseRotateSignedResponseValidationError(b,a);if(e.success)return{name:"RotateSignedResponseValidationError",value:e.value};var f=d("WASmaxInPreKeysRotateSignedResponseRequestError").parseRotateSignedResponseRequestError(b,a);if(f.success)return{name:"RotateSignedResponseRequestError",value:f.value};b=d("WASmaxInPreKeysRotateSignedResponseServerError").parseRotateSignedResponseServerError(b,a);if(b.success)return{name:"RotateSignedResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RotateSigned",{Success:c,ValidationError:e,RequestError:f,ServerError:b}))});return h.apply(this,arguments)}g.sendRotateSignedRPC=a}),98);
__d("WARotateSignedPreKeyProtocol",["WACryptoManager","WAErrorMessage","WAGlobals","WAHandleFailureUtils","WAMakeSignedPreKeyMixin","WAResultOrError","WASmaxPreKeysRotateSignedRPC","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["successfully rotated new skey"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServerError: "," ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["RequestError: "," ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ValidationError: "," ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["generated skey. Start rotating skey..."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["start generating skey..."]);m=function(){return a};return a}var n=d("WATagsLogger").TAGS(["rotateSignedPreKeyProtocol"]);function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){n.LOG(m());try{var a=(yield d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WACryptoManager").generateSignedPreKey(a)},{operationType:"generate_signed_prekey",flush:!0,afterInit:!0}));n.LOG(l());a=(yield d("WASmaxPreKeysRotateSignedRPC").sendRotateSignedRPC({signedPreKeyMixinArgs:d("WAMakeSignedPreKeyMixin").makeSignedPreKeyMixin(a)}));switch(a.name){case"RotateSignedResponseValidationError":var b=a.value,c=b.errorCode,e=b.errorText;b=b.errorIdentityKeyMixin;n.ERROR(k(),c,e);return d("WAResultOrError").makeError({type:"validation-error",identity:b.elementValue});case"RotateSignedResponseRequestError":c=a.value.errorRequestErrors.value.code;e=a.value.errorRequestErrors.name;n.ERROR(j(),c,e);return d("WAResultOrError").makeError({type:"request-error"});case"RotateSignedResponseServerError":b=a.value.errorServerErrors.value.code;c=a.value.errorServerErrors.name;n.ERROR(i(),b,c);return d("WAResultOrError").makeError({type:"server-error"});default:a.name;n.LOG(h());return d("WAResultOrError").makeResult()}}catch(a){e=d("WAErrorMessage").maybeGetMessageFromError(a);if(e.includes("No lastSignedPrekeyId and registration")){yield d("WAHandleFailureUtils").reregisterPhone();return d("WAResultOrError").makeError({type:"no-prekey-reregistered"})}throw a}});return o.apply(this,arguments)}g.rotateSignedPreKeyProtocol=a}),98);
__d("WARotateSignedPreKey",["Promise","WAGenerateAndUploadPreKeys","WALoggerTag","WARotateSignedPreKeyProtocol","WATagsLogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["rotateSignedPreKey failed."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while generating and uploading prekeys: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Signed prekey failed server validation. need to upload all keys."]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekeyRotation,c("WALoggerTag").SignedPrekey]);function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WARotateSignedPreKeyProtocol").rotateSignedPreKeyProtocol());if(a.success||a.error.type==="no-prekey-reregistered")return;if(a.error.type==="validation-error"){l.ERROR(k());d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys(null,{reason:"signed prekey failed server validation"})["catch"](function(a){l.ERROR(j(),a)});return(h||(h=b("Promise"))).resolve()}l.ERROR(i());throw c("err")("rotateSignedPreKey RPC failed: "+a.error.type)});return m.apply(this,arguments)}g.rotateSignedPreKey=a}),98);/*FB_PKG_DELIM*/
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(c("Deferred"))();a=function(a){void a.then(function(a){return i.resolve(a)})};b=(h||(h=d("PromiseAnnotate"))).setDisplayName(i.getPromise(),"LSDatabaseSingletonAfterInitSync");g.resolveInitSync=a;g.LSDatabaseAfterInitSyncSingleton=b}),98);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));e=h;var i=e.useEffect,j=e.useState;function a(a){var e=d("react-compiler-runtime").c(7),f=a.children;a=a.fallback;var g=j(null),h=g[0],k=g[1],l;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=b("cr:7070")&&b("cr:7070").subscribe(function(a){k(a)});return function(){a&&a()}},l=[],e[0]=g,e[1]=l):(g=e[0],l=e[1]);i(g,l);if(e[2]!==h){l=(g=b("cr:7070")==null?void 0:b("cr:7070").lastError())!=null?g:h;e[2]=h;e[3]=l}else l=e[3];g=l;if(c("MetaConfig")._("66")&&g!=null&&a!=null){e[4]!==g||e[5]!==a?(h=a(g),e[4]=g,e[5]=a,e[6]=h):h=e[6];return h}else return f}g["default"]=a}),98);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("LSSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,NONCONTACT:2,GROUP:3,PAGE:4,INTEGRATED_MESSAGE_SEARCH_THREAD:5,IG_CONTACT_FOLLOWING:6,IG_CONTACT_NONFOLLOWING:7,IG_NONCONTACT_FOLLOWING:8,IG_NONCONTACT_NONFOLLOWING:9,IG_BUSINESS:10,TAM_CONTACT:11,TAM_THREAD:12,COMMUNITY_MESSAGING_THREAD:13,PUBLIC_CHANNEL:14,SECTION_HEADER:15,AI_BOT:16,COMMUNITY:17,MEDIA:18,ATTACHMENT:19,LINK:20,LOCATION:21,META_AI_TYPEAHEAD:22,USER_GENERATED_CHARACTER_BOT:23});f["default"]=a}),66);
__d("isArmadilloUI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("564")===!0}g["default"]=a}),98);
__d("MWThreadListSupportedThreadTypes",["LSIntEnum","MetaConfig","isArmadilloUI","isCommunityContainersEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(1),h.ofNumber(201),h.ofNumber(2),h.ofNumber(5),h.ofNumber(6),h.ofNumber(3),h.ofNumber(23),h.ofNumber(18),h.ofNumber(19)].concat(c("isArmadilloUI")()?[(h||(h=d("LSIntEnum"))).ofNumber(15),(h||(h=d("LSIntEnum"))).ofNumber(16)]:[],c("MetaConfig")._("42")?[(h||(h=d("LSIntEnum"))).ofNumber(150)]:[],c("MetaConfig")._("36")?[(h||(h=d("LSIntEnum"))).ofNumber(154)]:[],c("MetaConfig")._("32")?[(h||(h=d("LSIntEnum"))).ofNumber(152)]:[],c("isCommunityContainersEnabled")()?[(h||(h=d("LSIntEnum"))).ofNumber(17)]:[]);b=a;g["default"]=b}),98);
__d("mwCMIsThreadBumped",["I64","mwCMIsAnyCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.secondaryParentThreadKey;a=a.threadType;return c("mwCMIsAnyCMThread")(a)&&b!=null&&(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).of_int32(0))}g["default"]=a}),98);
__d("MWChatBadgeCountUpdates.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWPIsThreadUnread","MWThreadListSupportedThreadTypes","MWXacGating","ReQL","ReQLSuspense","ServerTime","isMWXacGroupThread","mwCMIsThreadBumped","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(i||d("react")).useMemo;var l=15;function m(a){if(!(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(2))||d("MWXacGating").isGroupsEnabled())return!0;else return!c("isMWXacGroupThread")(a)}function n(a,b){var c=d("react-compiler-runtime").c(10);if(c[0]!==b){var e;e=(e=b)!=null?e:(k||(k=d("LSIntEnum"))).ofNumber(0);c[0]=b;c[1]=e}else e=c[1];var g=e;b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.folder_metadata).getKeyRange(g)},[a,g],f.id+":56")||{};e=b.lastSeenRequestTimestampMs;c[2]!==a.tables.threads?(b=function(){return d("ReQL").fromTableAscending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).take(l)},c[2]=a.tables.threads,c[3]=b):b=c[3];var h;c[4]!==a?(h=[a],c[4]=a,c[5]=h):h=c[5];b=d("ReQLSuspense").useFirst(b,h,f.id+":62")!=null;c[6]!==b||c[7]!==e||c[8]!==g?(h={hasProbablyFinishedInitSync:b,maybeFolderLastSeenTimestamp:e,parentFolderToUse:g},c[6]=b,c[7]=e,c[8]=g,c[9]=h):h=c[9];return h}function o(a){if((j||(j=d("I64"))).equal(a.muteExpireTimeMs,(j||(j=d("I64"))).neg_one))return!0;else return(j||(j=d("I64"))).gt(a.muteExpireTimeMs,j.of_float(d("ServerTime").getMillis()))}function a(a,b){var e=d("react-compiler-runtime").c(17),g=(h||(h=c("useReStore")))(),i=n(g,a),s=i.hasProbablyFinishedInitSync,t=i.maybeFolderLastSeenTimestamp,u=i.parentFolderToUse,v=(b==null?void 0:b.ignoreParentFolderSeenState)===!0?(j||(j=d("I64"))).zero:(i=t)!=null?i:(j||(j=d("I64"))).zero;e[0]!==g.tables.community_folders?(b=function(){return d("ReQL").fromTableAscending(g.tables.community_folders)},e[0]=g.tables.community_folders,e[1]=b):b=e[1];e[2]!==g?(i=[g],e[2]=g,e[3]=i):i=e[3];b=d("ReQLSuspense").useArray(b,i,f.id+":103");e[4]!==b?(i=new Set(b.filter(r).map(q)),e[4]=b,e[5]=i):i=e[5];b=i;var w=b;e[6]!==g.tables.threads||e[7]!==u||e[8]!==v?(i=function(){return d("ReQL").fromTableDescending(g.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(u).bounds({gt:d("ReQL").key(v)}).take(l).filter(p).filter(m)},b=[g.tables.threads,u,v],e[6]=g.tables.threads,e[7]=u,e[8]=v,e[9]=i,e[10]=b):(i=e[9],b=e[10]);i=d("ReQLSuspense").useArray(i,b,f.id+":117");var x;e[11]!==g.tables.threads||e[12]!==w||e[13]!==u||e[14]!==v?(b=function(){return!(j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(0))?d("ReQL").empty():d("ReQL").fromTableDescending(g.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(u).bounds({gt:d("ReQL").key(v)}).take(l).filter(function(a){if(d("MWPIsThreadUnread").isThreadUnread(a)&&!(c("mwCMIsThreadBumped")(a)&&w.has((j||(j=d("I64"))).to_string(a.parentThreadKey)))){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);return!(o(a)||a.isHidden===!0&&!b)}else return!1}).filter(m)},x=[g.tables.threads,w,u,v],e[11]=g.tables.threads,e[12]=w,e[13]=u,e[14]=v,e[15]=b,e[16]=x):(b=e[15],x=e[16]);e=d("ReQLSuspense").useArray(b,x,f.id+":155");b=i.length+e.length;if(a==null)return;return s?b:t!=null?b:void 0}function p(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(j||(j=d("I64"))).equal(a.threadType,b)}))return!1;if(d("MWPIsThreadUnread").isThreadUnread(a))return!o(a);else return!1}function q(a){return(j||(j=d("I64"))).to_string(a.folderId)}function r(a){return a.isHidden}function s(a,b){var e=d("react-compiler-runtime").c(8),g=(h||(h=c("useReStore")))(),i;e[0]!==b||e[1]!==g.tables.threads||e[2]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(a).take(l).filter(t).bounds({gt:d("ReQL").key(b)}).filter(m)},e[0]=b,e[1]=g.tables.threads,e[2]=a,e[3]=i):i=e[3];var j;e[4]!==b||e[5]!==g||e[6]!==a?(j=[b,g,a],e[4]=b,e[5]=g,e[6]=a,e[7]=j):j=e[7];e=d("ReQLSuspense").useFirst(i,j,f.id+":217");return e}function t(a){if(d("MWPIsThreadUnread").isThreadUnread(a))return!o(a);else return!1}function b(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(k||(k=d("LSIntEnum"))).ofNumber(-14),a[0]=e):e=a[0];b=n(b,e);e=b.hasProbablyFinishedInitSync;b=b.maybeFolderLastSeenTimestamp;b=(b=b)!=null?b:(j||(j=d("I64"))).zero;var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=(k||(k=d("LSIntEnum"))).ofNumber(18),a[1]=f):f=a[1];f=s(f,b);var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=(k||(k=d("LSIntEnum"))).ofNumber(23),a[2]=g):g=a[2];g=s(g,b);var i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=(k||(k=d("LSIntEnum"))).ofNumber(21),a[3]=i):i=a[3];a=s(i,b);if(e)if(f!=null||g!=null)return!0;else return a!=null;else return!1}g.minSyncedThreads=l;g.useUnseenThreadCount=a;g.useHasUnseenCommunityThreads=b}),98);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a==null?!1:(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))}g.isUserContact=a}),98);
__d("SearchStandardResultType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37,CONTACT_INVITE:38,UGC_BOT:39,META_AI_SNIPPET:40,META_AI_SNIPPET_PROMPT:41,META_AI_VOICE:42,MARKETPLACE_THREAD:43,PHOTO:44,VIDEO:45,MARKETPLACE_FOLDER:46,META_AI_RENDER_SNIPPET_COMPLETE:47});c=a;f["default"]=c}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.contactType,e=a.contactViewerRelationship;a=a.contactTypeExact;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return 33;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))){if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return 2;return(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7}return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))?9:7}function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP)))return 3;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return 9;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return 16;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return 14;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)))return 18;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY)))return 34;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING)))return 4;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))?5:7}function k(a){if(d("LSMessagingThreadTypeUtil").isOneToOne(a))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153)))return 22;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152)))return 23;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))return 21;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155)))return 20;return d("LSMessagingThreadTypeUtil").isGroup(a)?3:7}function b(a,b){a=k(a);if(a===7)return j(b);else return a}g.mapContactToSearchStandardResultType=a;g.mapLSSearchTypeToSearchStandardResultType=j;g.mapThreadTypeToSearchStandardResultType=k;g.mapServerSearchResultToSearchStandardResultType=b}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;return{key:(h||(h=d("I64"))).to_string(a.id),label:a.name,rawData:{displayName:a.name,id:h.to_string(a.id),imageUrl:a.profilePictureUrl,isAiBot:h.equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:d("MWPIsUserContact").isUserContact(a),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:h.equal(a.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:d("LSContactBitOffset").has(95,a),isRestrictedByViewer:d("LSContactBitOffset").has(66,a),isTTLCClipEnabled:d("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,a),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,a,!0),reachabilityStatus:a.contactReachabilityStatusType,resultType:c("MWChatSearchResultType").USER,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),secondaryImageUrl:(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:i.ofNumber(1)},type:"entry"}}g.convertContactToSearchTypeaheadDataEntry=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWNavigationContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e=j.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}c=a;g.context=j;g.Provider=c}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("26380")===!0}g["default"]=a}),98);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=(a=b("cr:6999"))!=null?a:b("cr:7350");e=function(){i!=null&&(c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")())&&(h.debug("Starting MAW main thread logger setup..."),i.setupMainWaLogger(),h.debug("Starting MAW main thread logger setup success"))};g.maybeSetupMAWMainThreadLogger=e}),98);
__d("searchCometGlobalTypeahead.config",[],(function(a,b,c,d,e,f){"use strict";a=8;b={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a,sectionLimits:new Map([["other",a],["recent_searches",a]])}};f["default"]=b}),66);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","react-compiler-runtime","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useShouldRenderFullTopNav")(),f=i(c("CometPassiveGetRouterStateContext")),g;b[0]!==a||b[1]!==f||b[2]!==e?(g=function(){var b=f==null?void 0:f(),d=b==null?void 0:b.main;b=b==null?void 0:b.pushViewStack;b=b&&b.length>0?b[b.length-1]:d;return c("ShouldShowMessagingEntrypoint")(b==null?void 0:b.route,a,e)},b[0]=a,b[1]=f,b[2]=e,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","react-compiler-runtime","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),e=b==="Inbox"?"inboxNewMessage":"jewelNewMessage",f=c("useMWChatOpenNewTab")(e),g=d("MWThreadListNewMessageState.react").useDispatchIfStateExists(),h=c("useCometRouterDispatcher")();a[0]!==h||a[1]!==g||a[2]!==e||a[3]!==f?(b=function(a,b){if(e==="jewelNewMessage")f(!0,a);else if(h!=null){b=b.length>0?b:a.map(d("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);g==null?void 0:g({entries:b,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});a=d("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});h.go(a,{})}},a[0]=h,a[1]=g,a[2]=e,a[3]=f,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","cr:6961","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=h||d("react");e.useCallback;var l=e.useContext,m=e.useMemo,n=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function o(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateV2.react").useDispatch(),e=c("useCometFeedNoRoutingNavigationEventLogger")(),f=c("useMWChatOpenTabTraceProvider")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,g,h,j){e(Date.now(),"","messenger");return f(function(e,f){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(a.threadKey),e);c("dispatchOpenChatTabTraceLogging")(f,a,"useMWNavigation");(j==null?void 0:j.subEntrypoint)!=null&&f.addAnnotation("sub_entrypoint",j.subEntrypoint);return b(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:h!==!0},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(a.threadType),g,a.threadKey,a.isUnread)},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}function p(a,e,f,g,h,j){return function(k){k=(i||(i=d("I64"))).to_string(k);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k}):d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,k],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:j,thread_key:k});default:return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k})}}}function q(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=l(d("MWNavigationContext").context),g=l(c("CometPassiveGetRouterStateContext")),h=o(),r=d("CometRelay").useRelayEnvironment(),s=b("cr:6961")(),t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),u=t.setVisibleMessage,v=c("useMAWComposeSecureThreadThenNavigate")(),w=c("useAsyncReStore")();return m(function(){var b=function(a,b,d,e,h){var i,j=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),k=j==null?void 0:j.entity_type;j=c("getGroupThreadViewParams")(j,g==null?void 0:g());i=(i=f)!=null?i:p(b,k,j,d,e,h);return i(a)},l=function(a,f,g){var h=a.isUnread,j=a.searchQuery,k=a.threadKey,l=a.threadLinkHash;a=a.threadType;if(e!=null){var m=d("MessengerWebEntryPointsUtil").cast(f),n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);l=b(k,a,l,j,g);n&&!l.includes("e2ee")&&c("FBLogger")("e2ee_thread_navigation").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&u(void 0);e.go(l,{traceParams:{TLTV:"true",entrypoint:m,hasBadge:h!=null?h.toString():"",inboxEntrypoint:f,isSecure:n?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:i.to_string(a)}})}},m=function(a,f){var g=a.isUnread,h=a.searchQuery,k=a.threadKey,l=a.threadLinkHash,m=a.threadType;if(e!=null){var o=d("MessengerWebEntryPointsUtil").cast(f),p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m),q=b(k,m,l,h);p&&!q.includes("e2ee")&&c("FBLogger")("e2ee_thread_navigation").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&u(void 0);n.onReady(function(a){c("promiseDone")(a.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,r,k,void 0,null).then(function(n){switch(n){case"cutover":c("promiseDone")(a.getCutoverThread((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,k).then(function(a){a=a?a.serverThreadKey:k;var c=b(a,m,l,h);e.go(c,{traceParams:{TLTV:"true",entrypoint:o,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:"true",thread_id:(i||(i=d("I64"))).to_string(a),thread_type:i.to_string(m)}})}));break;case"default_e2ee":c("promiseDone")(w,function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(k)).then(function(a){a!=null?v([a],[]):c("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:e.go(q,{traceParams:{TLTV:"true",entrypoint:o,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:p?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:(i||(i=d("I64"))).to_string(m)}});break}}))})}};return{getUrlFromThreadKey:b,openInbox:function(a,b,c,e,f){c===void 0&&(c=(k||(k=d("LSIntEnum"))).ofNumber(54));q(a,b);return s({damagingActionsEntryPoint:c,onProceed:function(){b==="contactShareMessage"?m(a,b):l(a,b,f),e==null?void 0:e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,g,i){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(54));q(b,c);if(a())return s({damagingActionsEntryPoint:f,onProceed:function(){h(b,c,e,g),i==null?void 0:i()},threadKey:b.threadKey});else return s({damagingActionsEntryPoint:f,onProceed:function(){l(b,c),i==null?void 0:i()},threadKey:b.threadKey})}}},[g,f,e,u,w,v,s,a,h])}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h={instance:null};function a(a){a=c("useSearchCometTypeaheadCompositeDataSource")(a);h.instance==null&&(h.instance=a);return h.instance}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={fetchSearchBadge:Boolean(!0),filter:"all",nullStateSurface:"GLOBAL"},a[0]=b):b=a[0];return c("useSearchCometRecentSearchDataSource")(b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("CometToast.react").__setRef("CometToastDeferred"));b=a;g["default"]=b}),98);
__d("FBIconCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSIssueCommunityThreadBlockedContactsFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"get_blocked_contacts_in_community_thread",c.i64.cast([0,499]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityThreadBlockedContactsFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure",["LSIssueCommunityThreadBlockedContactsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueCommunityThreadBlockedContactsFetch"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,0]):(b=a.item,d[0]=b.capabilities)})},function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}),function(a){var b=a.update;a.item;return b({capabilities:c.i64.and_(d.capabilities==null?c.i64.cast([0,0]):d.capabilities,c.i64.cast([-1,4227858431]))})}))})},function(e){return d[2]=new c.Map(),d[2].set("blockee_id",a[0]),d[2].set("request_id",a[1]),d[2].set("capabilities",d[0]==null?c.i64.cast([0,0]):d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"pseudo_unblock",c.i64.cast([0,194]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactOptimisticPseudoUnblockStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSOptimisticPseudoUnblockStoredProcedure",["LSOptimisticPseudoUnblock","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticPseudoUnblock"),e.blockeeId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadViewStoredProcedureDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSVerifyThreadViewStoredProcedure").__setRef("LSVerifyThreadViewStoredProcedureDeferred");a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return a.apply(void 0,b)})};b=a;g["default"]=b}),98);
__d("MAWMiActBulkCreateThreadInActWithMiData",["ExecutionEnvironment","FBLogger","I64","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWJids","MAWMIC","MAWThreadMappingQPL","MAWTrackPendingOccamadilloThreads","MWCookieUtil","ODS","Promise","WABridgedAPI","WAJids","WALoggerDeferred","asyncToGeneratorRuntime","cr:9609","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] queryGroups failed in bulkCreateThread. ",", groupJid: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Querying WA server for group: ",""]);m=function(){return a};return a}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=c("gkx")("10838")?p(a):a;var f=a.map(function(a){var b=a.fbid,c=a.instanceKey,e=a.isGroupThread,f=a.jid,g=a.lastActivityTimestampMs;a=a.lastReadWatermarkTimestampMs;f=(k||(k=d("I64"))).to_string(f);f=e?d("WAJids").toGroupJid(f):d("MAWJids").toUserJid(f);return{authoritativeThreadKey:k.to_string(b),chatJid:f,instanceKey:c,lastActivityTimestampMs:k.to_float(g),lastReadWatermarkTimestampMs:k.to_float(a),numOfMsgsToLoad:o({fbid:b,isGroupThread:e})}});a=a.map(function(a){var b=a.instanceKey;a=a.jid;return b!=null?{instanceKey:b,intJid:a}:null}).filter(Boolean);if((j||(j=c("ExecutionEnvironment"))).isInWorker){var g=f.map(function(a){return{status:"fulfilled",value:{chatJid:a.chatJid,isCreated:!1,shouldQueryForGroup:!1}}});return(h||(h=b("Promise"))).resolve(g)}else b("cr:9609")!=null&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&void b("cr:9609").prePopulateSnippetsFromMawDbInUI(f.map(function(a){return{jid:a.chatJid,threadKey:(k||(k=d("I64"))).of_string(a.authoritativeThreadKey)}}));(i||(i=d("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+e);g=(yield q(f,a,e));e==="init_sync"&&d("MAWMIC").addPoint("thread_mapping_received");yield (h||(h=b("Promise"))).all(g.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.status==="rejected")throw a.reason;var b=a.value.chatJid,e=d("WAJids").interpretAsGroupJid(b)!=null;if(e){e=d("WAJids").toGroupJid(b);if(a.value.isCreated||a.value.shouldQueryForGroup){c("promiseDone")(d("WALoggerDeferred").DEV(m(),e));try{yield c("WABridgedAPI").queryGroups({groups:[e],type:"array"})}catch(b){a=b instanceof Error?b.message:"unknown";c("FBLogger")("maw_threads").warn("[Occamadillo] queryGroups failed in bulkCreateThread. %s",a);c("promiseDone")(d("WALoggerDeferred").WARN(l(),a,e));a=b instanceof Error&&b.message.includes('"errorCode":403');if(!a)throw b}d("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:b})}else d("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:e})}c("promiseDone")(d("MAWTrackPendingOccamadilloThreads").removePendingThread(b))});return function(b){return a.apply(this,arguments)}}()));return g});return n.apply(this,arguments)}function o(a){var b=a.fbid;a=a.isGroupThread;var e=1,f=10,g=10,h=20,i=d("MWCookieUtil").getAutoChatTabFromCookie();i=i?(k||(k=d("I64"))).equal(i.threadKey,b):!1;f=i?f:e;f=c("gkx")("33030")&&!i&&!a?g:f;e=location.pathname.split("/");c("gkx")("2316")&&e.indexOf((k||(k=d("I64"))).to_string(b))>-1&&(f=h);return f}function p(a){var b=new Set(),e=a.reduce(function(a,d){var e=a.get(d.fbid);if(e==null)a.set(d.fbid,d);else{d.instanceKey!=null&&b.add(d.instanceKey);e=e.lastActivityTimestampMs===d.lastActivityTimestampMs&&e.lastReadWatermarkTimestampMs===d.lastReadWatermarkTimestampMs;c("FBLogger")("messenger_e2ee_web").mustfix("MAWMiActBulkCreateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",e?"true":"false")}return a},new Map()).values().toArray();a.forEach(function(b){b=b.instanceKey;return b!=null&&d("MAWThreadMappingQPL").addAnnotations({"int":{mawBulkCreateThreads:a.length,mawBulkCreateUniqueThreads:e.length}},b)});b.forEach(function(a){d("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",a)});return e}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=new Map();c.forEach(function(a){var b=a.instanceKey;a=a.intJid;f.set(a,b);d("MAWThreadMappingQPL").addPoint("create_in_maw_start",b)});d("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");e=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateThread",{reason:e,threads:a,withoutSnippetRecalculation:b("cr:9609")!=null}));var g=e.reduce(function(a,b){if(b.status==="fulfilled"){var c=d("WAJids").threadIdForChatJid(b.value.chatJid);a.set(c,b.value.isCreated)}return a},new Map());c.forEach(function(a){var b=a.instanceKey;a=a.intJid;a=g.get((k||(k=d("I64"))).to_string(a));a==null?d("MAWThreadMappingQPL").endFailure("create_in_maw_failed",b):(d("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:a}},b),d("MAWThreadMappingQPL").addPoint("create_in_maw_success",b))});return e});return r.apply(this,arguments)}g.miActBulkCreateThreadInActWithMiData=a;g.getNumberOfMessagesToLoad=o}),98);
__d("MAWMiActLoadExistingThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActBulkCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","WALoggerDeferred","asyncToGeneratorRuntime","emptyFunction","promiseDone","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Running verify thread exists sproc for state "," threadKey: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Retry ACT thread creation for threadKey: ",""]);k=function(){return a};return a}function l(a,b,e,g,i){var j=c("LSAuthorityLevel").AUTHORITATIVE;d("MAWThreadMappingQPL").addPoint("running_verify_thread_exists_start",g);d("MAWThreadMappingQPL").addAnnotations({"int":{sprocAuthLevel:j,sprocThreadType:i}},g);return a.runInTransaction(function(a){return d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(j),threadKey:b,threadType:h.ofNumber(i)},e).then(function(){d("MAWThreadMappingQPL").addPoint("running_verify_thread_exists_end",g),d("MAWThreadMappingQPL").endSuccessWithoutVerifyingResult(g)})},"readwrite",void 0,void 0,f.id+":56")}function m(a,b,e){return d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData([{description:b,fbid:a.serverThreadKey,instanceKey:e,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType),jid:a.jidInt64,lastActivityTimestampMs:a.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:a.thread.lastReadWatermarkTimestampMs}],"load_existing_thread").then(c("emptyFunction"))}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateAndThreadType(a.tables,b,"loadExistingThread")),h=g.miActThreadState;g=g.threadType;f!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{miActThreadState:h.type.toString()}});f=d("MAWThreadMappingQPL").getInstanceKeyForThreadKey(b);d("MAWThreadMappingQPL").start({instanceKey:f,isExpectedThreadMissingInLsdb:g==null,jid:h==null?void 0:h.jid,threadKey:b,threadState:h.type,trigger:"loadExistingThread_in_"+e});switch(h.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b)));return m(h,e,f);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:c("promiseDone")(d("WALoggerDeferred").LOG(j(),h.type,(i||(i=d("I64"))).to_string(b)));g==null&&c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] No thread in LS DB when calling existing thread load",(i||(i=d("I64"))).to_string(b));return l(a,b,e,f,(a=g)!=null?a:15);default:h.type;d("MAWThreadMappingQPL").endFailure("unhandled_state_in_load_existing_thread",f);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping][miActLoadExistingThread] Unreachable miActThreadState.type: %s",h.type)}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","react-compiler-runtime","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(1);a=a.messageId;var e=c("useMAWEditMessageData")(),f=e!=null;a=a!=null&&a===(e==null?void 0:e.messageId);if(!f||a)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("div",{className:"xyl4keb x5yr21d x17qophe x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"}),b[0]=e):e=b[0];return e}g["default"]=a}),98);
__d("MWGetBlockedUsersInThreadQuery",["I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=d("MWCMThreadTypes.react").isBroadcastThread(e);e=(e=d("ReQL")).union(e.mergeJoin(e.fromTableAscending(a.tables.participants).getKeyRange(b),e.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED))),d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange(h.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)))).filter(function(a){var b=a[0];a=a[1];if(f!=null&&!(i||(i=d("I64"))).equal(a.id,f))if(!g||b.isAdmin===!0)return!0;else return b.isModerator===!0;else return!1});return e}g.MWGetBlockedUsersInThreadQuery=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","react-compiler-runtime","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect;b.useMemo;f={isPassive:!1,setIsPassive:c("emptyFunction")};var m=e(f);function n(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=d("react-compiler-runtime").c(13),c=a.children,e=a.isPassive,f=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);var g;b[0]!==a?(g=n(a),b[0]=a,b[1]=g):g=b[1];a=g;b[2]!==f?(g=function(){f(!1)},b[2]=f,b[3]=g):g=b[3];var h;b[4]!==f||b[5]!==a?(h=[f,a],b[4]=f,b[5]=a,b[6]=h):h=b[6];l(g,h);b[7]!==e||b[8]!==f?(a={isPassive:e,setIsPassive:f},b[7]=e,b[8]=f,b[9]=a):a=b[9];g=a;h=g;b[10]!==c||b[11]!==h?(e=j.jsx(m.Provider,{value:h,children:c}),b[10]=c,b[11]=h,b[12]=e):e=b[12];return e}g.MWInboxPassiveContext=m;g.MWInboxPassiveContextProvider=a}),98);
__d("getCSAMBlockQuery",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.thread_limits).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).map(function(a){var b=a[0];a=a[1];return{thread:a,threadLimit:b}});return a}g["default"]=a}),98);
__d("getWarningCardStorageKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"__BlockOrRestrictUserInterstitial."+a+"__"}f["default"]=a}),66);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useBlockedUserInterstitial",["JSResourceForInteraction","LSFactory","LSIssueCommunityThreadBlockedContactsFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWGetBlockedUsersInThreadQuery","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect,k=e.useRef;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){c("mwCMIsAnyCMThread")(e)&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"blocked_contacts_fetch"));var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));a=d("MWGetBlockedUsersInThreadQuery").MWGetBlockedUsersInThreadQuery(a,b,e,f).map(function(a){a[0];a=a[1];return a});return a});return m.apply(this,arguments)}function n(a,b,e){e=d("LSMessagingThreadTypeUtil").isGroup(e);var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=!b&&a!=null&&a.length>0&&e;return f}function a(){var a=d("react-compiler-runtime").c(6),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var f=e[0],g=c("useAsyncReStore")(),i=k(p),m;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){i.current()}},m=[],a[1]=e,a[2]=m):(e=a[1],m=a[2]);j(e,m);a[3]!==g||a[4]!==f?(e=function(a){var e=a.onOptIn,j=a.onProceed,k=a.onShow,m=a.shouldSubscribe,p=a.thread,q=a.threadKey,r=m===void 0?!1:m;c("promiseDone")(g,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(p==null)return j();a=(yield l(a,q,p.threadType));var b=function(a){if(a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(q),g=n(a,q,p.threadType);if(!g)return j();g=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_wellbeing");e&&e();return j()};r&&i.current();k&&k();return f({blockees:a||[],onOptIn:g,thread:p},o)};r&&(i.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},a[3]=g,a[4]=f,a[5]=e):e=a[5];return e}function o(){}function p(){}g.getBlockedUserQuery=l;g.shouldShowBlockedUserInterstitial=n;g.useBlockedUserInterstitial=a}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","ReQL","getCSAMBlockQuery","promiseDone","react","react-compiler-runtime","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(){var a=d("react-compiler-runtime").c(6),b=c("useAsyncReStore")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var f=e[0],g=j(k),h;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){g.current()}},h=[],a[1]=e,a[2]=h):(e=a[1],h=a[2]);i(e,h);a[3]!==b||a[4]!==f?(e=function(a){var e=a.onProceed,h=a.onShow,i=a.shouldSubscribe,j=a.threadKey,k=i===void 0?!1:i;c("promiseDone")(b,function(a){a=c("getCSAMBlockQuery")(a,j);var b=function(a){a=a||{};var b=a.thread;a=a.threadLimit;if(b==null||a==null)return e&&e();var d=c("shouldApplyCSAMBlock")(a);if(!d)return e&&e();k&&g.current();h&&h();return f({thread:b,threadLimit:a})};k&&(g.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b(c.value)}));c("promiseDone")(d("ReQL").firstAsync(a),b)})},a[3]=b,a[4]=f,a[5]=e):e=a[5];return e}function k(){}g["default"]=a}),98);
__d("usePseudoBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticPseudoUnblockStoredProcedure","ReQL","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");e.useCallback;var j=e.useEffect,k=e.useRef;function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(i||(i=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(26,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return m.apply(this,arguments)}function n(a,b){b=d("LSMessagingThreadTypeUtil").isOneToOne(b);a=a!=null&&b;return a}function a(){var a=d("react-compiler-runtime").c(6),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatPseudoBlockWarningCardDialog.react").__setRef("usePseudoBlockedUserInterstitial"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var g=e[0],h=c("useAsyncReStore")(),i=k(p),m;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){i.current()}},m=[],a[1]=e,a[2]=m):(e=a[1],m=a[2]);j(e,m);a[3]!==h||a[4]!==g?(e=function(a){var e=a.damagingActionsEntryPoint,j=a.onOptIn,k=a.onProceed,m=a.onShow,p=a.shouldSubscribe,q=a.thread,r=a.threadKey,s=p===void 0?!1:p;c("promiseDone")(h,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a,r)),h=function(b){if(q==null||b==null)return k();var d=n(b,q.threadType);if(!d)return k();d=function(d){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticPseudoUnblockStoredProcedure")(c("LSFactory")(a),{blockeeId:b.id,requestId:d})},"readwrite",void 0,void 0,f.id+":118"),function(){k(),j&&j()},function(){k(),j&&j()})};s&&i.current();m&&m();return g({contact:b,entryPoint:e,onOptIn:d,thread:q},o)};s&&(i.current=b.subscribe(function(a,b){if(b.operation==="delete")return;h(b.value)}));c("promiseDone")(d("ReQL").firstAsync(b),h)});return function(b){return a.apply(this,arguments)}}())},a[3]=h,a[4]=g,a[5]=e):e=a[5];return e}function o(){}function p(){}g.getPseudoBlockedQuery=l;g.shouldShowPseudoBlockedInterstitial=n;g.usePseudoBlockedUserInterstitial=a}),98);
__d("useRestrictedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","promiseDone","react","react-compiler-runtime","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");e.useCallback;var k=e.useEffect,l=e.useRef;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(j||(j=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return n.apply(this,arguments)}function o(a,b,e){var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=d("LSMessagingThreadTypeUtil").isGroup(e);e=!b&&a.length>0&&f;return e}function a(){var a=d("react-compiler-runtime").c(6),e=c("useAsyncReStore")(),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWChatRestrictedUserInterstitialDialog.react").__setRef("useRestrictedUserInterstitial"),a[0]=f):f=a[0];f=c("useMWXLazyDialog")(f);var g=f[0],i=l(q),j;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return function(){i.current()}},j=[],a[1]=f,a[2]=j):(f=a[1],j=a[2]);k(f,j);a[3]!==e||a[4]!==g?(f=function(a){var f=a.onOptIn,j=a.onProceed,k=a.onShow,l=a.shouldSubscribe,n=a.thread,q=a.threadKey,r=l===void 0?!1:l;c("promiseDone")(e,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield m(a,q));var b=function(a){if(n==null||a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(q),e=o(a,q,n.threadType);if(!e)return j();e=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for RestrictedUserInterstitial","messenger_web_wellbeing");f&&f();return j()};r&&i.current();k&&k();return g({onOptIn:e,restrictedUsers:a,thread:n},p)};r&&(i.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},a[3]=e,a[4]=g,a[5]=f):f=a[5];return f}function p(){}function q(){}g.getRestrictedUserQuery=m;g.shouldShowRestrictednterstitial=o;g.useRestrictedUserInterstitial=a}),98);
__d("useIntegrityBlockInterstitial",["ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","useBlockedUserInterstitial","useMaybeShowCSAMBlockAsync","usePseudoBlockedUserInterstitial","useRestrictedUserInterstitial"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(6),b=d("usePseudoBlockedUserInterstitial").usePseudoBlockedUserInterstitial(),e=d("useBlockedUserInterstitial").useBlockedUserInterstitial(),f=d("useRestrictedUserInterstitial").useRestrictedUserInterstitial(),g=c("useMaybeShowCSAMBlockAsync")(),h=c("useAsyncReStore")(),i;a[0]!==h||a[1]!==e||a[2]!==g||a[3]!==b||a[4]!==f?(i=function(a){var i=a.damagingActionsEntryPoint,j=a.onProceed,k=a.onShow,l=a.threadKey;c("promiseDone")(h,function(a){return c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(l)),function(a){return g({onProceed:function(){return b({damagingActionsEntryPoint:i,onProceed:function(){return e({onProceed:function(){return f({onProceed:j,onShow:k,thread:a,threadKey:l})},onShow:k,thread:a,threadKey:l})},onShow:k,thread:a,threadKey:l})},onShow:k,threadKey:l})})})},a[0]=h,a[1]=e,a[2]=g,a[3]=b,a[4]=f,a[5]=i):i=a[5];return i}g["default"]=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[];function l(a){return function(){while(k.length>0)(j||(j=c("ErrorGuard"))).applyWithGuard(o,null,[a,k.shift(),!0])}}var m=!1;function n(a,b){k.push(b),m||(d("LSPlatformLsInitLog").onCompleteOrFail(l(a)),m=!0)}function o(a,e,f){e._mentionedJids;var g=e.actor,j=e.additionalTags,k=e.attachmentFbids,l=e.attachmentType,m=e.backend,o=e.ephemeralDurationInSec,p=e.hasReply,q=e.igdTargetType,r=e.initatingSource,s=e.isInstamadilloTTLC,t=e.messagingThreadId,u=e.msgTtl,v=e.offlineThreadingId,w=e.sendType,x=e.source,y=e.threadKey,z=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(y).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(b){var i=b[0];b=b[1];if(i==null){var A=d("LSPlatformLsInitLog").isPending();if(A&&f!==!0){n(a,e);return}f===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var B=i.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});A=d("LSMessagingThreadTypeUtil").isOneToOne(z)&&(i==null?void 0:i.length)===0;A&&B.push((h||(h=d("I64"))).to_string(g));var C=t!=null?t:(h||(h=d("I64"))).to_string(y),D=u!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(u)):void 0,E=[b===!0?19:null,o!=null?15:null,s===!0?37:null].filter(Boolean);(C==null||C===""||(h||(h=d("I64"))).le(y,(h||(h=d("I64"))).zero))&&(e.waGroupJid!=null?c("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(y),t,w):c("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(y),t,w));c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:j,backend:m,event_type:w,feature_tags:E,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:q,igd_verb:void 0,initiating_app_id:void 0,initiating_source:r,is_reply:p,message_attachment_fbids:k.map(String),message_id:void 0,message_type:l,messaging_thread_fbid:C,messaging_thread_type:(h||(h=d("I64"))).to_int32(z),msg_ttl:D,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:B,send_attribution:h.to_int32(x),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:e.waGroupJid}})})})())}g.log=o}),98);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentUser","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWEBSwitch","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","err","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map();e=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]);var r=new Set([25312150,25313100,1056840931,25299294]),s=function(){return(n||(n=c("performanceAbsoluteNow")))()-Date.now()},t=s();function u(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var v={handleMessageSendResult:function(a){a.success&&d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(a.report)},log:function(a){var b=a.logLevel,c=a.logString,d=a.tags;switch(b){case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,d)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,d)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,d)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,e=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,e,a+"."+(c("CurrentUser").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendAppData":var b=a.originalArgs,e=a.result;(b=b.args.contents.actions)==null?void 0:b.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||e.type!=="not_sent")return;q.set(e.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;var f=q.get(b);q["delete"](b);if(f!=null&&f.type==="deleteMsgForMe"&&a.result.type==="success"){var g=f.chatJid,h=f.externalId,j=d("MAWThreadUtils").getLSThreadTypeFromJid(g);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,g,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(k||(k=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:k.to_string(b),offlineThreadingId:h,sendType:3,source:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:j})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.performanceAndDateSkew,n=a.timeoutInMs;a=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var o=k||0;k=f==null?void 0:(k=f.string)==null?void 0:k.jid;k=k!=null?d("WAJids").validateChatJid(k):void 0;k=r.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&k!=null?u(k,j,o):(h||(h=b("Promise"))).resolve();var q=a!=null&&l!=null&&c("gkx")("8334")?a+l-t+s():a;switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("8483"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,isM1M2OverrideUser:c("gkx")("24022"),isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:o,timeoutInMs:n,timestamp:q});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:o});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMIC").addPoint(e.name,q):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:o,timestamp:q});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(l=f)!=null?l:{},{instanceKey:o});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:e.name}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:o,timestamp:q})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:o});break;default:throw c("err")("Bridge sends unreachable qplEvent action type")}}},w=function(a,b){a.push(b);return a};f=function(a){var e=a.customizeEventHandlers;a=a.worker;d("MAWInit").MAWInit.logPoint("bridge_setup_start");var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},v,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend","mps"],w,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:c("justknobx")._("3092"),useLRUCache:c("gkx")("6949")});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var i=d("WACrossWorkerPortal").attachPortal(g,["backend"],w,c("pageID")),j=d("WACrossWorkerPortal").attachPortal(g,["devtool","mawDbDevTool"],w,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){i.setPort(a.port1)});j.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}d("MAWMIC").addPoint("bridge_setup_done");d("MAWInit").MAWInit.logPoint("bridge_setup_end");return(h||(h=b("Promise"))).resolve(f)};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=e;g.initBridge=f}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){if(f)return 43;if(a==="revokeMsg")return 26;if(g!=null)return g;if(c)return 3;if(e&&h===!1)return 13;if(i===!0)return 13;f=b!=null?d("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(b):null;return(a=f)!=null?a:0}g.getAttachmentTypeForSendWrittenMsg=a}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","WAJids","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MAWChatJid").toThreadKey(a.tables,b,"MAWCommonSetupBridge::sendWrittenMsg"));return a}catch(a){if(c("gkx")("10750")){c("FBLogger")("messenger_e2ee_web_send").warn("MAWCommonSetupBridge::sendWrittenMsg failed to get threadKey. With error: %s",a);return(h||(h=d("I64"))).zero}throw a}});return l.apply(this,arguments)}function m(a){var e,f=a.externalId,g=null,l=!1,m=!1;switch(a.messageType){case"editMsg":l=!0;break;case"revokeMsg":f=a.referencedExternalId;break;case"sendMsg":m=a.specialTextSize!=null;break;case"reactionMsg":g=a.reaction!=null?20:27;break;case"bumpMsg":break;case"sendPoll":break;case"fixMe":return;default:a.messageType}var n=null;a.fileType!=null&&(n=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.fileType).mediaType);var o=a.xmaMessageType!=null,p=a.quote!=null||d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType);e=c("URLMatcher").match(d("MAWVault").unvault((e=a.content)!=null?e:""));e=e!=null&&e.length>0;var q=d("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(a.messageType,n,m,o,l,g,p,e),r=d("MAWThreadUtils").getLSThreadTypeFromJid(a.chatJid);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(a==null?void 0:a.source)!=null?a.source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),g=(yield k(b,a.chatJid)),i=d("WAJids").validateGroupJid(a.chatJid);d("MWLogSend").log(b,{actor:(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:q,backend:1,hasReply:p,initatingSource:a==null?void 0:a.initiatingSource,messagingThreadId:h.to_string(g),msgTtl:(b=a.ephemeralSetting)==null?void 0:b.ephemeralExpirationInSec,offlineThreadingId:f,sendType:1,source:e,threadKey:g,threadType:r,waGroupJid:c("gkx")("10750")&&i!=null?d("WAJids").threadIdForChatJid(i):void 0})});return function(a){return e.apply(this,arguments)}}()))}function a(a){if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;m(a)}g.reportSendMessageSuccessResultFn=m;g.reportSendMessageSuccessResult=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(null),e=c[0];c=c[1];b[0]!==e?(c={editMessageData:e,setEditMessageData:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}var k=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=k}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=(yield j.load());e=(yield e());b=(b=b)!=null?b:yield d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b)));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedTs!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedTs)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}});return l.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5248437728509060"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MWChatThreadId",["I64","LSIntEnum","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a.NAME){case"Group":case"User":case"Page":case"UserSecret":return a.VAL}}function b(a){switch(a.NAME){case"Group":return"g."+a.VAL;case"Page":return"p."+a.VAL;case"User":return"u."+a.VAL;case"UserSecret":throw c("unrecoverableViolation")("Not supported","messenger_web_product")}}function e(a){switch(a.targetType){case"GROUP":return{NAME:"Group",VAL:a.targetID};case"PAGE":return{NAME:"Page",VAL:a.targetID};case"USER":return{NAME:"User",VAL:a.targetID};default:throw c("unrecoverableViolation")("Invalid id","messenger_web_product")}}function f(a){return a.NAME==="User"}function j(a){return a.NAME==="UserSecret"}function k(a){if(a==null)return;a=a.split(":");if(a.length!==2)return;var b=a[0];a=a[1];switch(b){case"thread":return{NAME:"Group",VAL:a};case"user":return{NAME:"User",VAL:a};default:return}}function l(a){a=a.NAME;if(a==="Group")return(h||(h=d("LSIntEnum"))).ofNumber(2);return a==="User"||a==="Page"?(h||(h=d("LSIntEnum"))).ofNumber(1):(h||(h=d("LSIntEnum"))).ofNumber(7)}function m(a){return(i||(i=d("I64"))).of_string(a.VAL)}g.getFBID=a;g.serializeFuture=b;g.fromJs=e;g.isUser=f;g.isSecret=j;g.deserializeFromLegacyThreadId=k;g.getMessagingThreadType=l;g.toThreadKey=m}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;b.useCallback;b.useMemo;var k=b.useState,l=c("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),m=e({clearReply:c("emptyFunction"),reply:void 0,setReply:c("emptyFunction")});function n(a){try{return JSON.parse(a)}catch(a){return}}function a(a){var b=d("react-compiler-runtime").c(17),c=a.children,e=a.clearThreadReply,f=a.getRepliesState,g=a.persistRepliesState,h=a.senderId;a=a.threadKey;var o;b[0]!==f||b[1]!==a?(o=f!=null&&a!=null?n(f((i||(i=d("I64"))).to_string(a))):void 0,b[0]=f,b[1]=a,b[2]=o):o=b[2];f=o;a=k(f);var p=a[0],q=a[1];b[3]!==e||b[4]!==p?(o=function(a,b){l.onReady(function(c){c.logClearReply(b,a,p!=null)});q();if(e!=null)return e((i||(i=d("I64"))).to_string(a))},b[3]=e,b[4]=p,b[5]=o):o=b[5];f=o;b[6]!==g||b[7]!==p||b[8]!==h?(a=function(a,b){l.onReady(function(c){c.logSetReply(p,a,b)});q(a);if(g!=null)return g({messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,senderId:h,sendStatusV2:a.sendStatusV2,threadKey:(i||(i=d("I64"))).to_string(b),timestampMs:a.timestampMs})},b[6]=g,b[7]=p,b[8]=h,b[9]=a):a=b[9];o=a;b[10]!==f||b[11]!==p||b[12]!==o?(a={clearReply:f,reply:p,setReply:o},b[10]=f,b[11]=p,b[12]=o,b[13]=a):a=b[13];f=a;o=f;b[14]!==c||b[15]!==o?(a=j.jsx(m.Provider,{value:o,children:c}),b[14]=c,b[15]=o,b[16]=a):a=b[16];return a}g.MWPReplyContext=m;g.MWPReplyContextProvider=a}),98);
__d("MWV2IsTabFocusedContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.isFocused;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWXDeferredPopoverTrigger.react",["cr:4346","cr:7154","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:4346")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:4346"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:7154")!=null){c[2]!==a?(e=i.jsx(b("cr:7154"),babelHelpers["extends"]({},a)),c[2]=a,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("useMWFamilyCenterContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext;e={currentActiveScheduledBreakInterval:null,hasActiveMsgrFamilyCenterEnforcement:!1,isAllowedRoute:!1,shouldHideSidebar:!1,shouldShowDailyTimeLimit:!1,supervisorData:{supervisionStatus:null,supervisor:null,thread:null}};var j=c({familyCenterData:e,setFamilyCenterData:function(){}});function a(){return i(j)}g.emptyFamilyCenterData=e;g.FamilyCenterContext=j;g.useMWFamilyCenterEnforcementsContext=a}),98);/*FB_PKG_DELIM*/
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":17").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSRequestType",[],(function(a,b,c,d,e,f){a=Object.freeze({INIT_SYNC:1,RESUME_SYNC:2,TASK_BATCH:3,FIRE_FORGET:4,RESUME_SYNC_BATCH:5});f["default"]=a}),66);
__d("LSPlatformDGWTransport",["DGWClient","DGWExponentialBackoff","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","Promise","Random","asyncToGeneratorRuntime","err","gkx","promiseDone","setTimeout","unrecoverableViolation","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("3218"),k=c("gkx")("2659"),l=0,m=!1,n={connectionStatusChangeHandler:null,current:null,publishBuffer:new Map(),reconnectHandler:null,status:"Disconnected",subscribers:new Map()},o=null,p=!1;function q(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function r(a,b){var e;if(p){var f;(f=n.current)==null?void 0:f.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","deviceId:"+a);return}p=!0;f=q(l++);var g="deviceId:"+a+", reconnectMs:"+f+", attempt:"+l;(e=n.current)==null?void 0:e.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect",g);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");c("setTimeout")(function(){s(a,b),p=!1},f)}function s(a,b){var e={deviceId:a,keepAliveMs:15e3,loggingId:c("uuidv4")(),serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:j};d("MessengerWebRegion").regionNullable!=null&&(e.regionHint=d("MessengerWebRegion").regionNullable);var f={onStreamGroupError:function(b){var c;n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected","Stream Group Error"));(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),r(a,"reconnect_on_streamgrouperror")):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){var c;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",b,"deviceId:"+a);r(a,"reconnect_on_streamgroupmustdrain")},onStreamGroupTransportClose:function(){var b;n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected","Stream Group Close"));(b=n.current)==null?void 0:b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a)}};n.status="Connecting";f=c("DGWClient")().createStreamGroup(f,e);f.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116"))+", endpoint:"+c("MqttConfig").endpoint+", reason:"+b);c("promiseDone")(f.initTransport(),function(b){d("LSLogHistory").log("StreamGroupTransport Connected","debug");n.status!=="Connected"&&(n.status="Connected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Connected"));m&&(n.reconnectHandler&&n.reconnectHandler());m=!0;(b=n.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","deviceId:"+a);(b=n.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed",String(n.publishBuffer.size));l=0;n.publishBuffer.forEach(function(a,b,c){a.resolve(),n.publishBuffer["delete"](b)})},function(b){var c;d("LSLogHistory").log("StreamGroupTransport onError","debug");n.publishBuffer.clear();n.status!=="Disconnected"&&(n.status="Disconnected",n.connectionStatusChangeHandler&&n.connectionStatusChangeHandler("Disconnected",b));(c=n.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");b!==d("DGWStream").StreamError.UNAUTHORIZED&&r(a,"reconnect_on_streamgrouptransportonerror")});n.current=f;return n.current}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=n.current;if(b==null)throw c("unrecoverableViolation")("LS Stream Group not initialized","ls_web_init");var e=new TextDecoder(),f={LSRequestType:"SYNC",method:"LightSpeed","xrs-stream-handler":"LSDGWStreamHandler"};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(f["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{b=(yield b.establishStream({groupedStreamHeaders:f,loggingId:c("uuidv4")(),verboseLoggingEnabled:j},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=e.decode(a);n.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}}));d("LSLogHistory").log("Stream Connected","debug");return b}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}});return u.apply(this,arguments)}var v="Disconnected";e=function(){return v};function a(a,b){o||(o=w(a,b,"init_single_transport_instance"));return o}function w(a,e,f){var g=new TextEncoder();s(e,f);return{cleanup:function(){var a;(a=n.current)==null?void 0:a.close();n.reconnectHandler=null;n.connectionStatusChangeHandler=null;n.publishBuffer.clear();n.subscribers.clear()},logEvent:function(a){var b;(b=n.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){n.connectionStatusChangeHandler=a;return function(){n.connectionStatusChangeHandler=null}},onReconnect:function(a){n.reconnectHandler=a;return function(){n.reconnectHandler=null}},publish:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=(i||(i=d("LSIntEnum"))).toNumber(e);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(i||(i=d("LSIntEnum"))).toNumber(e));n.status!=="Connected"&&(yield x().then(function(){})["catch"](function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+f);(a=n.current)==null?void 0:a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(f));return new(h||(h=b("Promise")))(function(a,b){return b({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})})}));var j=function(){return t(f)};j=k?yield d("DGWExponentialBackoff").callWithExponentialBackoff(j):yield t(f);try{4===(i||(i=d("LSIntEnum"))).unwrapIntEnum(e)?j.sendAndForget(g.encode(a)):yield j.send(g.encode(a))}catch(a){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"sendFailure."+f);throw a}}catch(a){if(a.message==="Max number of stream IDs reached"){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+f);(e=n.current)==null?void 0:e.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",f.toString())}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+f);(j=n.current)==null?void 0:j.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",f.toString());c("FBLogger")("messenger_web_product").catching(typeof a==="string"?c("err")(a):a).warn("Failed to create DGW stream and send payload %s",String(a));return new(h||(h=b("Promise")))(function(b,c){return c(a)})}});function e(b,c){return a.apply(this,arguments)}return e}(),subscribe:function(a){n.subscribers.set(a,a);return function(){n.subscribers["delete"](a)}}}}function x(){var a={reject:function(){},resolve:function(){}},c=d("Random").uint32(),e=new(h||(h=b("Promise")))(function(b,c){a.resolve=b,a.reject=c});n.publishBuffer.set(c,a);return e}g.getStatusForDebugging=e;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","Promise","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="LSPlatformGraphQLTransport.ServerError";function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=null;try{m=(yield k(a,e,g,(i||(i=d("I64"))).to_int32(f)))}catch(a){k=c("FBLogger")("messenger_web_product");a instanceof Error&&(l.error("Error sending Graphql Request. Type: "+(i||(i=d("I64"))).to_string(f)+" Message: "+(a.message!=null?a.message:"None")),k=k.catching(a),k.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw k.mustfixThrow(j)}a=c("nullthrows")(m);e=a.dependencies;g=a.experiments;l=a.payload;var n=a.target;f=c("nullthrows")(l);k=e==null?(h||(h=b("Promise"))).resolve():d("LSDynamicDependencies").downloadRelayDependencies(e);m=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===n});return[k,f,g,m]});return k.apply(this,arguments)}g.ServerError=j;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),m=!d("CurrentMessengerUser").isWorkUser()&&!d("IGDWebUtils").isOnInstagramWeb(),n=[1,l?95:null,m?104:null].filter(Boolean);function o(a){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(k||(k=b("Promise"))).all(n.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b),taskQueueName:""})}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":62").then(function(){return(k||(k=b("Promise"))).resolve()})}function p(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function q(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all(n.map(function(c){return p(a,c).then(function(c){return c!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName}):(k||(k=b("Promise"))).resolve()})})).then(function(){})},"readwrite","ui",void 0,f.id+":97")}function r(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield p(a,1));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":130");else return(k||(k=b("Promise"))).resolve()}function s(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function t(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b)))}function u(a,b,e,f){return new(c("LSDict"))().set("database",(j||(j=d("LSIntEnum"))).ofNumber(a)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",e).set("sync_params",(a=f)!=null?a:"{}").set("version",i.of_string(b))}function v(a){var b=0,c=0,e=function(e){c++;c===a&&d("LSPlatformLsInitLog").addPoint("gql_fetch_end");b===0&&d("LSPlatformLsInitLog").addPoint("gql_deps_start");return e.then(function(){b===0&&(d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),d("LSPlatformLsInitLog").LsSync.markStart()),b++,b===a&&d("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return e}var w=function(){return[(k||(k=b("Promise"))).resolve(),"",void 0,void 0]};function a(a,b,c,d){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){try{var i=d("CurrentMessengerUser").isWorkUser();yield q(f);var n=[1,l?95:void 0,m?104:void 0];n=(yield (k||(k=b("Promise"))).all(n.map(function(a){return a!=null?t(f,a):void 0})));var p=n[0],x=n[1];n=n[2];p=p==null?void 0:p.currentCursor;x=x==null?void 0:x.currentCursor;n=n==null?void 0:n.currentCursor;var y=u(1,a.schemaVersion,p,a.syncParams.mailbox),z=u(95,a.schemaVersion,x,a.syncParams.e2ee),A=u(104,a.schemaVersion,n,a.syncParams.communityExclusive),B={string:{mailboxSync:p!=null?"resume":"init"}};i&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),B);d("LSPlatformLsInitLog").addPoint("ls_sync_start",B);d("LSPlatformArmadilloUtils").reportSyncStart();d("LSPlatformLsInitLog").addPoint("gql_fetch_start");s("start_contact");s("start_mailbox");var C=v(1+(l?1:0)+(m?1:0));i=d("LSPlatformGraphQLTransport").publish(g,0,p!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){s("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");yield C(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync mailbox");return w()});B=l?d("LSPlatformGraphQLTransport").publish(g,2,x!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(z),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");yield C(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync e2ee mailbox");return w()}):(k||(k=b("Promise"))).resolve(w());y=m?d("LSPlatformGraphQLTransport").publish(g,3,n!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(A),a.executeGraphQLLightSpeedRequest).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end");yield C(a[0]);return a});return function(b){return a.apply(this,arguments)}}())["catch"](function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync Community Exclusive mailbox");return w()}):(k||(k=b("Promise"))).resolve(w());if(c("gkx")("10695"))yield (k||(k=b("Promise"))).all([B,i,y].map(function(a){return a.then(function(a){a[0];var b=a[1],c=a[2];a=a[3];if(b==="")return;return e({experiments:c,priority:"ui",syncScript:b,target:a})})}));else{x=(yield (k||(k=b("Promise"))).all([i,B,y]));for(z of x){z[0];g=z[1];n=z[2];A=z[3];if(g==="")continue;yield e({experiments:n,priority:"ui",syncScript:g,target:A})}}p!=null&&(yield r(f));d("LSPlatformLsInitLog").LsSync.markEnd();s("sync_completed");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");d("LSPlatformArmadilloUtils").reportSyncEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_end");l&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success");d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(k.resolve(f))}catch(b){a=c("getErrorSafe")(b);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");s("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(a)}catch(a){}c("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an error while performining preloaded init sync request via graphql");return o(f)}});return x.apply(this,arguments)}g.sendHardcodedInitSync=a}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","isReceiverFetchReceivingEnabled","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g;if(((g=Notification)==null?void 0:g.permission)!=="granted")return;g=(yield (k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e.threadKey,e.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(e.threadKey,e.messageId))]));var h=g[0],j=g[1],l=g[2];g=g[3];if(h==null||j==null||l==null)return;var p=d("LSMessagingThreadTypeUtil").isGroup(h.threadType);p=m(p,h.threadName,l.nickname,j.name);l=n(e,g);g=(yield o(g,d("LSMessagingThreadTypeUtil").isArmadilloSecure(h.threadType)));h=new Notification(p,{body:l,icon:(l=(p=c("getLSMediaThreadPictureUrl")(h))!=null?p:c("getLSMediaContactProfilePictureLargeUrl")(j))!=null?l:c("getLSMediaContactProfilePictureUrl")(j),image:g,tag:e.messageId,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)});h.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e.threadKey)),function(a){a!=null&&f.openInbox({threadKey:e.threadKey,threadType:a.threadType},"desktopNotification")})}});return l.apply(this,arguments)}function m(a,b,c,d){c=(c=c)!=null?c:d;return a&&b!=null?h._(/*BTDS*/"__JHASH__cqgiOO8XKBD__JHASH__",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._(/*BTDS*/"__JHASH__hBJ7Pa73DC9__JHASH__",[h._param("senderName",c)]).toString():c}function n(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.length===0)return;a=a[0];if(!e)return d("LSMediaUrlAttachment").previewUrl(a);e=a.attachmentFbid;var f=a.attachmentType,g=a.authorityLevel;if(e===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0))return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MWDesktopNotifications")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlobNonOptional(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}}});return p.apply(this,arguments)}g.triggerLocalNotification=a}),226);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","fbicon","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useRef;function a(){var a=d("react-compiler-runtime").c(10),e=l(null),f=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),g=f.startFlow;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:6570")?k.jsx(b("cr:6570"),{color:"primary",icon:d("fbicon")._(i("538038"),24)}):void 0,a[0]=f):f=a[0];var j=f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:1376")?new(b("cr:1376"))(i("685423"),32,32):void 0,a[1]=f):f=a[1];var m=f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("BaseToasterStateManager").getInstance(),a[2]=f):f=a[2];var n=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){if(e.current==null)return;n.expire(e.current);e.current=null},a[3]=f):f=a[3];var o=f;a[4]!==g?(f=function(){o(),e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"__JHASH__r8S_Fbcoj5v__JHASH__"),icon:{comet:j,mds:m},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),g({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},a[4]=g,a[5]=f):f=a[5];f=f;var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(),d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"__JHASH__w8j4IGt-9Wa__JHASH__")})},a[6]=p):p=a[6];p=p;var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=b("cr:6570")?k.jsx(b("cr:6570"),{icon:d("fbicon")._(i("477815"),24)}):void 0,f=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;o();e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"__JHASH__75ZoIDN05wr__JHASH__"),icon:{comet:a,mds:f},testid:"mw-chat-encrypted-backups-restore-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},a[7]=q):q=a[7];q=q;a[8]!==f?(p={hideToast:o,showErrorToast:p,showInProgressToast:f,showSuccessToast:q},a[8]=f,a[9]=p):p=a[9];return p}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),l=d("MessengerLogHistory").getInstance("client_init"),m=c("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",n={c:{},d:c("MqttWebDeviceID").clientID,s:k.NOT_SYNCING,u:c("pageID")};function o(a){function b(a){d("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(a),window.location.hostname)}var e=c("Cookie").get(m);if(e==null){var f;b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f));return}f=JSON.parse(e);if(f.u==null){b(babelHelpers["extends"]({},f,(e={},e[d("CurrentMessengerUser").getIDorEIMU()]=a,e)))}else{b((f={},f[d("CurrentMessengerUser").getIDorEIMU()]=a,f))}}function a(){c("Cookie").clear(m)}function p(a){if(typeof a!=="object")return null;if(a==null)return null;var b=a.c,c=a.d,d=a.s;a=a.u;d=typeof d==="string"?k.cast(d):null;b=typeof b==="object"&&b!=null?Object.entries(b).reduce(function(a,b){var c=b[0];b=b[1];if(a==null||typeof b!=="string")return null;a[c]=b;return a},{}):null;if(typeof c!=="string")return null;if(d==null)return null;if(b==null)return null;return typeof a!=="string"?null:{c:b,d:c,s:d,u:a}}function q(){var a=c("Cookie").get(m);if(c("isStringNullOrEmpty")(a))return n;a=JSON.parse(a);var b=d("CurrentMessengerUser").getIDorEIMU(),e=p(a);a=typeof a==="object"&&a!=null?p(a[b]):null;return(a=(b=a)!=null?b:e)!=null?a:n}function r(a){var b=q();if(b.u!==c("pageID"))return;var e={};a.forEach(function(a){a[0];a=a[1];var b=a.currentCursor;a=a.groupId;b!=null&&(e[(i||(i=d("I64"))).to_string(a)]=b)});l.debug("Updated sync cookie to set syncing=false, saving latest cursors");o(babelHelpers["extends"]({},b,{c:e,s:k.NOT_SYNCING}))}var s=[1,2,d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function e(a){var b=d("SortedAsyncIterable").toArray(d("ReQL").union.apply(void 0,s.map(function(b){return b==null?d("ReQL").empty():d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b))})));if((h||(h=c("isPromise")))(b)){c("promiseDone")(b.then(function(a){r(a)}));return}r(b)}function f(){try{var a=q();l.debug("Updated sync cookie to set syncing=true");o(babelHelpers["extends"]({},a,{s:k.SYNCING,u:c("pageID")}))}catch(a){c("FBLogger")("ls_web_init").catching(a).warn("Failed to sync cookie")}}g.Status=k;g.DEFAULT_COOKIE=n;g.clear=a;g.get=q;g.syncBeforeUnload=e;g.setSyncing=f}),98);
__d("LSDatabaseProviderType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.persistenceTypes)}function g(a){return a.includes("indexeddb")}f.isProviderPersisted=a;f.hasPersistentType=g}),66);
__d("LSDedicatedMqttChannel",["FBMqttChannel","cr:1232"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:1232")!=null&&b("cr:1232").shutdownAndClear()}function d(a,d,e,f,g){return function(h){if(b("cr:1232")!=null)return b("cr:1232").getInstance(h,a,d,e,f,g);else return c("FBMqttChannel")}}g.shutdownAndClear=a;g.getInstance=d}),98);
__d("LSGetOpenEpochKeys",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteBackupOnClient","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Beginning execution."),d[11]="Querying latest epoch keys with authority level: ",a[0]?d[1]="OPTIMISTIC":d[1]="AUTHORITATIVE",d[2]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[2],d[11],d[2],d[1]].join("")),c.resolve()},function(e){return a[0]?d[3]="OPTIMISTIC":d[3]="AUTHORITATIVE",c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2842]),c.i64.cast([0,2]),void 0,d[3]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2844]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(b){return d[4]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(b){return a[0]||c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[16]=(d[4].push(c.blobs.to_string(a.epochAnonIdBlob)),d[4])})},function(a){return d[5]=c.i64.of_int32(d[4].length),c.i64.gt(d[5],c.i64.cast([0,0]))?c.sequence([function(a){return d[16]=c.i64.of_int32(d[4].length),c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2845]),c.i64.cast([0,2]),void 0,c.i64.to_string(d[16])):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[22]=!0:d[22]=!1,d[22]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[23]=c.createArray(),void 0!==void 0?d[24]=(d[23].push(void 0),d[23]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[23],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],d[18]=a[1],a})},function(a){return d[19]=d[17],d[20]=c.i64.of_int32(d[4].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(a){return d[21]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[21]).then(function(a){return a=a,d[22]=a[0],d[23]=a[1],a})},function(a){return c.i64.eq([0,d[19].length],[0,d[22].length])?(d[19]===d[22]?d[25]=d[19]:(d[19]>d[22]?d[26]=d[19]:d[26]=d[22],d[25]=d[26]),d[24]=d[25]):(c.i64.gt([0,d[19].length],[0,d[22].length])?d[25]=d[19]:d[25]=d[22],d[24]=d[25]),d[19]=d[24]}])}):c.resolve()},function(a){return d[6]=d[19]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Epoch anon ID list is empty."),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Epoch anon ID list is empty.",d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2846]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]=void 0}])},function(a){return d[6]!==void 0?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2863]),c.i64.cast([0,2]),void 0,d[6]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}]):c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2864]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.blobs.of_string(d[6]),c.blobs.neq(d[12],void 0)?c.sequence([function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2847]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[19]=!0:d[19]=!1,d[19]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.filter(c.db.table(169).fetch(),function(a){return c.blobs.eq(a.epochAnonIdBlob,d[12])}).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction."),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","Found a most recent epoch anon ID, but unable to locate it again in the table. This can really only happen if the tablesomehow changed in the middle of our transaction.",d[18],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2848]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!0:d[20]=!1,d[20]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[21],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]=void 0}]):(e=a.item,c.sequence([function(a){return d[22]=e.epochAnonIdBlob,d[20]="Using latest epoch: ",d[21]=c.blobs.to_string(d[22]),d[18]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[18],d[20],d[18],d[21]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("epoch_id",e.epochId),d[19].set("epoch_root_key",e.epochRootKeyBlob),d[19].set("epoch_anon_id",d[22]),d[16]=d[19]}]))})},function(a){return d[7]=d[16]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client."),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure","No epochs whatsoever on client! This should absolutely never happen. Deleting backup from client.",d[16],c.i64.cast([0,3]))},function(a){return c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,2843]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,"get_open_epoch_keys",!0,void 0,"Attempted to fetch epoch keys when there are no epochs on the client.",!1)},function(a){return d[7]=void 0}])},function(a){return d[8]=c.i64.of_float(Date.now()),d[9]=c.i64.random(),d[13]="Finishing execution. Execution time: ",d[14]=c.i64.to_string(c.i64.sub(d[8],d[0])),d[15]=" ms",d[10]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGetOpenEpochKeysStoredProcedure] ",d[10],d[13],d[10],d[14],d[10],d[15]].join("")),c.i64.eq(c.i64.mod_(d[9],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[16]=",",d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGetOpenEpochKeysStoredProcedure",[d[13],d[16],d[14],d[16],d[15]].join(""),d[17],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGetOpenEpochKeysStoredProcedure";a.__tables__=["secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSMqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvInitializer","MqttLogger","Random","clearTimeout","qex","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a={initialize:function(a,b,e,f){var g=c("qex")._("789"),h=g!=null&&g!=="default"?g:null;d("MqttEnv").Env.initialize(c("Random").random,(g=a)!=null?g:d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance(h)},function(a){return b!=null&&b[a]!=null?b[a]:c("MqttEnvInitializer").genGk(a)},null,null,null,(a=e)!=null?a:d("MqttEnvConfigStorage").configRead,(g=f)!=null?g:d("MqttEnvConfigStorage").configWrite)}};b=a;g["default"]=b}),98);
__d("LSMqttChannel",["LSMqttEnvInitializer","MqttChannel","MqttConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e,f,g){c("LSMqttEnvInitializer").initialize(b,d,e,f);return new(c("MqttChannel"))({appId:(b=g)!=null?b:c("MqttConfig").appID,capabilities:c("MqttConfig").capabilities,chatVisibility:c("MqttConfig").chatVisibility,clientCapabilities:c("MqttConfig").clientCapabilities,deviceId:a,endpoint:c("MqttConfig").endpoint,initialSubscribedTopics:c("MqttConfig").subscribedTopics,phpOverride:c("MqttConfig").hostNameOverride,pollingEndpoint:c("MqttConfig").pollingEndpoint,userFbid:c("MqttConfig").fbid})}var i=null;function a(a,b,c,d,e,f){if(i==null){i=h(a,b,c,d,e,f);return i}else return i}function b(){i!=null&&(i.shutdown(),i=null)}d={getInstance:a,shutdownAndClear:b};g["default"]=d}),98);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("emptyFunction")}function d(){return(h||(h=b("Promise"))).resolve()}e={cleanup:c("emptyFunction"),logEvent:function(a){},onConnectionStatusChange:a,onReconnect:a,publish:d,subscribe:a};g["default"]=e}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(c("gkx")("21118"))return c("MqttWebDeviceID").clientID;else return c("ChannelClientID").getID()}b=h();function a(a){a==null&&c("FBLogger")("messenger_browser_clients").info("Missed provider type for deviceId");return a==="persisted"?d("LSCookie").get().d:h()}g.deviceId=b;g.getDeviceIdForProviderType=a}),98);
__d("MessengerPWAVersionForUserAgent",["isMessengerPWA","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("3005"))return void 0;var a=c("isMessengerPWA")();if(!a)return void 0;a=(a=new URL(window.location.href).searchParams.get("__pwa"))!=null?a:"1.0.0";return a}g["default"]=a}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","MessengerPWAVersionForUserAgent","Promise","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e="LSPlatformRealtimeTransport.NotConnected";var k="LSPlatformRealtimeTransport.Timeout";function l(a){var b=new Map();return{getAll:function(){return Array.from(b.values())},getOrStart:function(c){var d=c.toString(),e=b.get(d);e==null&&(e=a(c),b.set(d,e));return e}}}function m(){}function a(a,e,f){var g=new Map(),n={contents:m},o=new Set(),p=new Map(),q=[],r=l(function(b){b=a(b,f);q.push(b.subscribe(function(a){var b=JSON.parse(a),e=d("LSDynamicDependencies").downloadBootloaderDependencies(b.sp,b.nop,b.ntop);a=b.request_id;var f;if(a!=null){var h=g.get(a);h==null?f=!1:(c("clearTimeout")(h.timeoutId),h.resolve({downloadTask:e,payload:b,type:"taskresponse"}),g["delete"](a),f=!0)}else f=!1;if(!f){Array.from(p.entries()).forEach(function(a){return a[1](e,b)});return}}));q.push(b.onReconnect(function(){return n.contents()}));q.push(b.onConnectionStatusChange(function(a){o.forEach(function(b){return b(a)})}));return b});r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(d("LSMailboxInitialSyncCursor").syncChannel));return{cleanup:function(){q.forEach(function(a){return a()}),r.getAll().forEach(function(a){return a.cleanup()})},logEvent:function(a){r.getAll().forEach(function(b){return b.logEvent(a)})},onConnectionStatusChange:function(a){o.add(a);return function(){o["delete"](a)}},onReconnect:function(a){n.contents=a;return function(){n.contents=m}},publish:function(a){var f=a.payload,l=a.queueName,m=a.requestId,n=a.syncChannel,o=a.type_;return new(h||(h=b("Promise")))(function(a,b){var h=r.getOrStart((j||(j=d("LSIntEnum"))).unwrapIntEnum(n));if((i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(3))){var p=c("setTimeout")(function(){h.logEvent("Timeout");var a=g.get(m);a!=null&&(g["delete"](m),a.reject({RE_EXN_ID:k}));return b({RE_EXN_ID:k})},3e4);g.set(m,{queueName:l,reject:b,resolve:a,timeoutId:p,timestamp:Date.now()})}p=c("MessengerPWAVersionForUserAgent")();c("promiseDone")(h.publish(d("LSJson").stringify(d("LSShape").ofRecord(babelHelpers["extends"]({app_id:e,payload:f},p!=null?{pwa_version:p}:{},{request_id:m,type:o}))),o),function(){if(!(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(3)))return a({type:"noresponseexpected"})},function(a){return b(a)})})},subscribeToNonTaskResponses:function(a){var b={};p.set(b,a);return function(){p["delete"](b)}}}}g.NotConnected=e;g.Timeout=k;g.LSPlatformRealtimeTransport=a}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM&&!(h||(h=c("ExecutionEnvironment"))).isInWorker}g["default"]=a}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function l(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(j||(j=b("Promise")))(function(a,b){f.contents=a})},k={onMQTTStateChanged:function(a){a==="Connected"?f.contents():a==="Disconnected"&&e.contents==="Connected"&&(g.contents=new(j||(j=b("Promise")))(function(a,b){f.contents=a})),e.contents=a}};e.contents==="Connected"&&f.contents();a.subscribeChannelEvents(k);return[function(){a.unsubscribeChannelEvents(k)},function(e,f){return g.contents.then(function(){return new(j||(j=b("Promise")))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}},qos:(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport").Timeout});else return g(a)})})})}]}var m={contents:void 0};function a(a,b,d){if(c("shouldStubUnderlyingTransport")())return c("LSPlatformDefaultUnderlyingApi");var e=d.getInstance(b),f={getPublishMessages:function(){return k(a)}};e.registerExtraConnectPayloadProvider(f);var g={onMQTTStateChanged:function(a){var b=m.contents;if(b!=null)return b(a)}};e.subscribeChannelEvents(g);var h=e.subscribe("/ls_foreground_state",function(){});b=l(e);var i=b[0];b=b[1];return{cleanup:function(){e.unregisterExtraConnectPayloadProvider(f),d.shutdownAndClear(),e.unsubscribeChannelEvents(g),h(),i()},logEvent:function(a){},onConnectionStatusChange:function(a){m.contents=a;return function(){m.contents=void 0}},onReconnect:function(a){var b={contents:e.getConnectionState()},c={contents:b.contents==="Connected"},d={onMQTTStateChanged:function(d){d==="Connected"&&(c.contents&&b.contents!=="Connected"&&a(),c.contents=!0),b.contents=d}};e.subscribeChannelEvents(d);return function(){e.unsubscribeChannelEvents(d)}},publish:b,subscribe:function(a){return e.subscribe("/ls_resp",function(b){return a(b)})}}}g["default"]=a}),98);
__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveBlindedTokensStoredProcedure";a.__tables__=["secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSVoprfLoggingUtils",["Env","MemoryUtils","QPLUserFlow","justknobx","mergeDeep","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;return{"int":{usedJSHeapSizeStart:a}}}function k(a){var b=d("MemoryUtils").getCurrentMemory(),c=b.deviceMemory,e=b.jsHeapSizeLimit,f=b.totalJSHeapSize;b=b.usedJSHeapSize;return{"int":{deviceMemory:c,jsHeapSizeLimit:e,totalJSHeapSize:f,usedJSHeapSize:b,wasmMemorySize:a}}}function l(a){return(h||(h=c("performanceAbsoluteNow")))()-a}function a(a){var b=Math.floor(Math.random()*1e6);return{addPoint:function(d){c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},addTimeSinceCreationAnnotation:function(){},addVoprfLoadedPoint:function(d){c("QPLUserFlow").addPoint(a,"loaded_xplat_react_voprf",{instanceKey:b}),c("QPLUserFlow").addAnnotations(a,{"int":{timeSinceVoprfInstanceCreationNs:l(d)}},{instanceKey:b})},endFailure:function(d){var e=d.error;d=d.wasmMemorySize;c("QPLUserFlow").addAnnotations(a,k(d));c("QPLUserFlow").endFailure(a,e.name,{error:e,instanceKey:b})},endSuccess:function(d){d=d.wasmMemorySize;c("QPLUserFlow").addAnnotations(a,k(d),{instanceKey:b});c("QPLUserFlow").endSuccess(a,{instanceKey:b})},start:function(){c("QPLUserFlow").start(a,{instanceKey:b,onFlowTimeout:function(d,e){c("QPLUserFlow").addAnnotations(a,k(),{instanceKey:b})},timeoutInMs:6e4}),c("QPLUserFlow").addAnnotations(a,c("mergeDeep")(j(),{string:{brsid:c("justknobx")._("3105")&&(i||(i=c("Env"))).brsid!=null?String((i||(i=c("Env"))).brsid):void 0}}),{instanceKey:b})}}}g.getMemoryAnnotationsStart=j;g.getMemoryAnnotationsEnd=k;g.getTimeSinceInstanceCreationNs=l;g.getAcsQplEventLogger=a}),98);
__d("XPlatReactVoprf",["Promise","WAWasmModuleCache","asyncToGeneratorRuntime","performanceAbsoluteNow","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSVoprfWasm").__setRef("XPlatReactVoprf");function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield j.load()),b=a.LSVoprfWasm,e=a.locateFile;a=(yield b({getWasmModule:function(){return d("WAWasmModuleCache").loadWasmModule(e())}}));var f,g;try{f=a.createCurveRistretto();g=a.createVoprfExpTwohashdh(f);b={voprfInfo:{curvePtr:f,voprfPtr:g},voprfWasm:a};return{instanceCreationTimestampNs:(i||(i=c("performanceAbsoluteNow")))(),voprfInstance:b}}catch(b){f!=null&&a.freeCurve(f);g!=null&&a.freeVoprf(g);throw b}});return l.apply(this,arguments)}function a(){return(h||(h=b("Promise"))).resolve(k())}function e(a){var b=a.voprfInfo;a=a.voprfWasm;var c=b.curvePtr;b=b.voprfPtr;a.freeCurve(c);a.freeVoprf(b)}g.loadXPlatReactVoprf=a;g.freeVoprfInstance=e}),98);/*FB_PKG_DELIM*/
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[54])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51],latestThreadId:a[52],latestThreadActivityTimestampMs:a[53]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[47],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],restrictionType:a[45],waConnectStatus:a[46],isEmployee:!1,pageType:a[48]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";a.__tables__=["network_requests"];e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";a.__tables__=["data_trace_meta","network_requests","sync_groups"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],void 0,void 0,c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("ADD_PLACEHOLDER_OR_LABEL_FIXME",[],(function(a,b,c,d,e,f){"use strict";a=null;f["default"]=a}),66);
__d("CometHomeRightRailUnit.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var c=d("react-compiler-runtime").c(12),e=a.children,f=a.hasBottomDivider,g=a.header;a=a.testid;f=f===void 0?!0:f;var h;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x1n2onr6"},c[0]=h):h=c[0];var j;c[1]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"xwib8y2 x1y1aw1k"},c[1]=j):j=c[1];c[2]!==e?(j=i.jsx("div",babelHelpers["extends"]({},j,{children:e})),c[2]=e,c[3]=j):j=c[3];c[4]!==f?(e=f?i.jsx("div",{className:"x14nfmen xqmqy1e xjm9jq1 x92rtbv x16q8cke x10l6tqk"}):null,c[4]=f,c[5]=e):e=c[5];c[6]!==g||c[7]!==b||c[8]!==j||c[9]!==e||c[10]!==a?(f=i.jsxs("div",babelHelpers["extends"]({},h,{"data-testid":void 0,ref:b,children:[g,j,e]})),c[6]=g,c[7]=b,c[8]=j,c[9]=e,c[10]=a,c[11]=f):f=c[11];return f}c=b;g["default"]=c}),98);
__d("FDSUnit.react",["CometColumn.react","CometColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={0:{paddingBottom:"x18d9i69",$$css:!0},8:{paddingBottom:"xwib8y2",$$css:!0},12:{paddingBottom:"xsag5q8",$$css:!0},16:{paddingBottom:"x1l90r2v",$$css:!0},20:{paddingBottom:"xx6bls6",$$css:!0}},k={primary:{backgroundColor:"x1jx94hy",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(21),f,g,h,l,m,n;e[0]!==a?(f=a.children,h=a.header,l=a.paddingBottom,m=a.spacing,n=a.type,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","header","paddingBottom","spacing","type"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=l,e[5]=m,e[6]=n):(f=e[1],g=e[2],h=e[3],l=e[4],m=e[5],n=e[6]);a=l===void 0?20:l;l=m===void 0?8:m;m=n===void 0?"primary":n;n=j[a];a=k[m];e[7]!==n||e[8]!==a?(m=[n,a],e[7]=n,e[8]=a,e[9]=m):m=e[9];e[10]!==h?(n=i.jsx(c("CometColumnItem.react"),{children:h}),e[10]=h,e[11]=n):n=e[11];e[12]!==f?(a=i.jsx(c("CometColumnItem.react"),{children:f}),e[12]=f,e[13]=a):a=e[13];e[14]!==g||e[15]!==b||e[16]!==l||e[17]!==m||e[18]!==n||e[19]!==a?(h=i.jsxs(c("CometColumn.react"),babelHelpers["extends"]({},g,{ref:b,spacing:l,xstyle:m,children:[n,a]})),e[14]=g,e[15]=b,e[16]=l,e[17]=m,e[18]=n,e[19]=a,e[20]=h):h=e[20];return h}e=b;g["default"]=e}),98);
__d("FDSUnitHeader.react",["BaseView.react","CometColumn.react","CometColumnItem.react","CometFocusTableContext","CometPressable.react","FDSIcon.react","FDSText.react","FDSTextPairing.react","IconSource","SVGIcon","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var aa=b.useContext,ba=b.useState,ca=8,j={action:{backgroundColor:"x1k74hu9",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",display:"x1rg5ohu",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x3ajldb",$$css:!0},actionButton:{color:"x1fey0fg",cursor:"x1ypdohk",$$css:!0},actionHidden:{opacity:"xg01cxk",$$css:!0},hairline:{backgroundColor:"x14nfmen",height:"xjm9jq1",marginBottom:"x1jyxor1",$$css:!0},root:{paddingBottom:"xjkvuk6",$$css:!0},showActionOnHover:{visibility:"xlshs6z","@media (pointer: coarse)_visibility":"xwtlbus",$$css:!0}},da={0:{paddingTop:"xexx8yu",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(142),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W;b[0]!==a?(m=a.action_DEPRECATED,e=a.actionAccessibilityLabel,H=a.actionDisabled,N=a.actionHidden,f=a.actionIcon,g=a.actionLabel,h=a.actionLinkProps,k=a.actionRef,n=a.actiontestid,l=a.actionWrapper,o=a.addOn_DEPRECATED,p=a.body,O=a.bodyColor,P=a.bodyLineLimit,r=a.disabled,Q=a.hasTopDivider,s=a.headline,R=a.headlineColor,t=a.headlineId,S=a.iconColor,T=a.iconSize,U=a.isSemanticHeading,u=a.level,v=a.linkProps,w=a.meta,I=a.metaColor,x=a.metaLocation,y=a.metaTestID,z=a.onActionHoverIn,A=a.onActionHoverOut,B=a.onActionPress,C=a.onActionPressIn,D=a.onActionPressOut,E=a.onPress,F=a.onPressIn,G=a.onPressOut,J=a.paddingHorizontal,K=a.paddingTop,L=a.showActionOnHover,V=a.testOnly_actionPressed,W=a.testOnly_pressed,M=a.useFocusCell,q=babelHelpers.objectWithoutPropertiesLoose(a,["action_DEPRECATED","actionAccessibilityLabel","actionDisabled","actionHidden","actionIcon","actionLabel","actionLinkProps","actionRef","actiontestid","actionWrapper","addOn_DEPRECATED","body","bodyColor","bodyLineLimit","disabled","hasTopDivider","headline","headlineColor","headlineId","iconColor","iconSize","isSemanticHeading","level","linkProps","meta","metaColor","metaLocation","metaTestID","onActionHoverIn","onActionHoverOut","onActionPress","onActionPressIn","onActionPressOut","onPress","onPressIn","onPressOut","paddingHorizontal","paddingTop","showActionOnHover","testOnly_actionPressed","testOnly_pressed","useFocusCell"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J,b[31]=K,b[32]=L,b[33]=M,b[34]=N,b[35]=O,b[36]=P,b[37]=Q,b[38]=R,b[39]=S,b[40]=T,b[41]=U,b[42]=V,b[43]=W):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30],K=b[31],L=b[32],M=b[33],N=b[34],O=b[35],P=b[36],Q=b[37],R=b[38],S=b[39],T=b[40],U=b[41],V=b[42],W=b[43]);a=H===void 0?!1:H;H=N===void 0?!1:N;N=O===void 0?"secondary":O;O=P===void 0?3:P;P=Q===void 0?!1:Q;Q=R===void 0?"primary":R;R=S===void 0?"primary":S;S=T===void 0?16:T;T=U===void 0?!0:U;U=I===void 0?"secondary":I;I=J===void 0?16:J;J=K===void 0?20:K;K=L===void 0?!1:L;L=M===void 0?!1:M;M=ba(!1);var X=M[0];M=M[1];var Y=aa(c("CometFocusTableContext"));Y=Y.FocusCell;var Z;V=(V=V)!=null?V:!1;var $;b[44]!==a||b[45]!==h||b[46]!==n||b[47]!==z||b[48]!==A||b[49]!==B||b[50]!==C||b[51]!==D||b[52]!==V?($={disabled:a,linkProps:h,onHoverIn:z,onHoverOut:A,onPress:B,onPressIn:C,onPressOut:D,testid:n,testOnly_pressed:V},b[44]=a,b[45]=h,b[46]=n,b[47]=z,b[48]=A,b[49]=B,b[50]=C,b[51]=D,b[52]=V,b[53]=$):$=b[53];h=$;if(f!=null){b[54]!==e||b[55]!==f||b[56]!==h||b[57]!==k||b[58]!==R?(n=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},h,{"aria-label":e,color:R,icon:f,ref:k})),b[54]=e,b[55]=f,b[56]=h,b[57]=k,b[58]=R,b[59]=n):n=b[59];Z=n}else if(g!=null){A=(z=e)!=null?z:g;B=H&&!X&&j.actionHidden;C=K&&j.showActionOnHover;b[60]!==B||b[61]!==C?(D=[j.actionButton,j.action,B,C],b[60]=B,b[61]=C,b[62]=D):D=b[62];V=a?"disabled":"blueLink";$=u===2?"body2":"body3";b[63]!==g||b[64]!==V||b[65]!==$?(f=i.jsx(c("FDSText.react"),{color:V,numberOfLines:1,type:$,children:g}),b[63]=g,b[64]=V,b[65]=$,b[66]=f):f=b[66];b[67]!==h||b[68]!==k||b[69]!==A||b[70]!==D||b[71]!==f?(n=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{"aria-label":A,onFocusVisibleChange:M,overlayOffset:ca,overlayRadius:4,ref:k,xstyle:D,children:f})),b[67]=h,b[68]=k,b[69]=A,b[70]=D,b[71]=f,b[72]=n):n=b[72];Z=n}else if(m!=null)if(m instanceof c("IconSource")){b[73]!==e||b[74]!==h||b[75]!==k||b[76]!==m||b[77]!==R?(z=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},h,{"aria-label":e,color:R,icon:m,ref:k})),b[73]=e,b[74]=h,b[75]=k,b[76]=m,b[77]=R,b[78]=z):z=b[78];Z=z}else if(m instanceof d("SVGIcon").SVGIcon){b[79]!==e||b[80]!==h||b[81]!==k||b[82]!==m||b[83]!==R||b[84]!==S?(B=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},h,{"aria-label":e,color:R,icon:m,ref:k,size:S})),b[79]=e,b[80]=h,b[81]=k,b[82]=m,b[83]=R,b[84]=S,b[85]=B):B=b[85];Z=B}else{g=(C=e)!=null?C:m;V=H&&!X&&j.actionHidden;$=K&&j.showActionOnHover;b[86]!==V||b[87]!==$?(A=[j.actionButton,j.action,V,$],b[86]=V,b[87]=$,b[88]=A):A=b[88];D=a?"disabled":"blueLink";f=u===2?"body2":"body3";b[89]!==m||b[90]!==D||b[91]!==f?(n=i.jsx(c("FDSText.react"),{color:D,numberOfLines:1,type:f,children:m}),b[89]=m,b[90]=D,b[91]=f,b[92]=n):n=b[92];b[93]!==h||b[94]!==k||b[95]!==g||b[96]!==A||b[97]!==n?(z=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{"aria-label":g,onFocusVisibleChange:M,overlayOffset:ca,overlayRadius:4,ref:k,xstyle:A,children:n})),b[93]=h,b[94]=k,b[95]=g,b[96]=A,b[97]=n,b[98]=z):z=b[98];Z=z}else if(o!=null){b[99]!==o?(R=i.jsx(d("react-strict-dom").html.div,{style:j.action,children:o}),b[99]=o,b[100]=R):R=b[100];Z=R}if(l!=null){S=l.component;b[101]!==S||b[102]!==Z||b[103]!==l.props?(B=i.jsx(S,babelHelpers["extends"]({},l.props,{children:Z})),b[101]=S,b[102]=Z,b[103]=l.props,b[104]=B):B=b[104];Z=B}if(L===!0&&Y!=null){b[105]!==Y||b[106]!==Z?(e=i.jsx(Y,{children:Z}),b[105]=Y,b[106]=Z,b[107]=e):e=b[107];Z=e}H=(C=x)!=null?C:"below";b[108]!==Z||b[109]!==p||b[110]!==N||b[111]!==O||b[112]!==s||b[113]!==Q||b[114]!==t||b[115]!==T||b[116]!==u||b[117]!==w||b[118]!==U||b[119]!==y||b[120]!==H?(X=i.jsx(c("FDSTextPairing.react"),{body:p,bodyColor:N,bodyLineLimit:O,headline:s,headlineAddOn:Z,headlineColor:Q,headlineId:t,headlineLineLimit:2,isSemanticHeading:T,level:u,meta:w,metaColor:U,metaLineLimit:1,metaLocation:H,metaTestID:y}),b[108]=Z,b[109]=p,b[110]=N,b[111]=O,b[112]=s,b[113]=Q,b[114]=t,b[115]=T,b[116]=u,b[117]=w,b[118]=U,b[119]=y,b[120]=H,b[121]=X):X=b[121];K=X;V=P?0:I;$=da[J];b[122]!==$?(a=[j.root,$],b[122]=$,b[123]=a):a=b[123];if(b[124]!==k||b[125]!==r||b[126]!==K||b[127]!==v||b[128]!==E||b[129]!==F||b[130]!==G||b[131]!==W){D=i.jsx(c("CometColumnItem.react"),{children:E!=null?i.jsx(c("CometPressable.react"),{disabled:r,linkProps:v,onPress:E,onPressIn:F,onPressOut:G,overlayDisabled:!0,ref:k,testOnly_pressed:(m=W)!=null?m:!1,children:K}):K});b[124]=k;b[125]=r;b[126]=K;b[127]=v;b[128]=E;b[129]=F;b[130]=G;b[131]=W;b[132]=D}else D=b[132];b[133]!==q||b[134]!==V||b[135]!==a||b[136]!==D?(f=i.jsx(c("CometColumn.react"),babelHelpers["extends"]({},q,{paddingHorizontal:V,xstyle:a,children:D})),b[133]=q,b[134]=V,b[135]=a,b[136]=D,b[137]=f):f=b[137];M=f;if(P){b[138]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("BaseView.react"),{xstyle:j.hairline})}),b[138]=h):h=b[138];b[139]!==M||b[140]!==I?(g=i.jsxs(c("CometColumn.react"),{paddingHorizontal:I,children:[h,M]}),b[139]=M,b[140]=I,b[141]=g):g=b[141];return g}return M}g["default"]=a}),98);
__d("MagnifyingGlassFilled16.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M10.743 2.257a6 6 0 1 1-8.485 8.486 6 6 0 0 1 8.485-8.486zm-1.06 1.06a4.5 4.5 0 1 0-6.365 6.364 4.5 4.5 0 0 0 6.364-6.363z",transform:"translate(448 544)"}),i.jsx("path",{d:"M10.39 8.75a2.94 2.94 0 0 0-.199.432c-.155.417-.23.849-.172 1.284.055.415.232.794.54 1.103a.75.75 0 0 0 1.112-1.004l-.051-.057a.39.39 0 0 1-.114-.24c-.021-.155.014-.356.09-.563.031-.081.06-.145.08-.182l.012-.022a.75.75 0 1 0-1.299-.752z",transform:"translate(448 544)"}),i.jsx("path",{d:"M9.557 11.659c.038-.018.09-.04.15-.064.207-.077.408-.112.562-.092.08.01.143.034.198.077l.041.036a.75.75 0 0 0 1.06-1.06 1.881 1.881 0 0 0-1.103-.54c-.435-.058-.867.018-1.284.175-.189.07-.336.143-.433.2a.75.75 0 0 0 .624 1.356l.066-.027.12-.061z",transform:"translate(448 544)"}),i.jsx("path",{d:"m13.463 15.142-.04-.044-3.574-4.192c-.599-.703.355-1.656 1.058-1.057l4.191 3.574.044.04c.058.059.122.137.182.24.249.425.249.96-.154 1.41l-.057.057c-.45.403-.986.403-1.411.154a1.182 1.182 0 0 1-.24-.182zm.617-.616.444-.444a.31.31 0 0 0-.063-.052c-.093-.055-.263-.055-.35.024l.208.232.207-.206.006.007-.22.257-.026-.024.033-.034.025.027-.257.22-.007-.007zm-.027-.415c-.078.088-.078.257-.023.35a.31.31 0 0 0 .051.063l.205-.204-.233-.209z",transform:"translate(448 544)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MagnifyingGlassFilled16IconSvg.react",["MagnifyingGlassFilled16.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("MagnifyingGlassFilled16.svg.react"));g["default"]=a}),98);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(a){if(!(a instanceof TypeError))throw a}return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2){var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("useMenuButtonVisibilityState",["FocusManager","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;var i=b.useReducer,j={btnFocused:!1,btnHovered:!1,itemFocused:!1,itemHovered:!1,menuOpened:!1};function k(a,b){switch(b.type){case"menubtnhover":return babelHelpers["extends"]({},a,{btnHovered:b.value});case"menubtnfocus":return babelHelpers["extends"]({},a,{btnFocused:b.value});case"listitemhover":return babelHelpers["extends"]({},a,{itemHovered:b.value},!b.value&&{btnFocused:!1});case"listitemfocus":return babelHelpers["extends"]({},a,{itemFocused:b.value});case"menuopen":return!b.value?{btnFocused:a.btnFocused,btnHovered:!1,itemFocused:a.itemFocused,itemHovered:!1,menuOpened:!1}:babelHelpers["extends"]({},a,{menuOpened:b.value});default:return a}}function a(a){var b=d("react-compiler-runtime").c(13),c=a===void 0?!1:a;a=i(k,j);var e=a[0],f=a[1];a=e.btnFocused;var g=e.btnHovered,h=e.itemFocused,l=e.itemHovered;e=e.menuOpened;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){f({type:"menubtnhover",value:a})},b[0]=m):m=b[0];m=m;var n;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){f({type:"listitemhover",value:a})},b[1]=n):n=b[1];n=n;var o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){f({type:"menuopen",value:a})},b[2]=o):o=b[2];o=o;var p;b[3]!==c?(p=function(a){a?(c||!d("FocusManager").isFocusingWithoutUserIntent())&&f({type:"menubtnfocus",value:!0}):f({type:"menubtnfocus",value:!1})},b[3]=c,b[4]=p):p=b[4];p=p;var q;b[5]!==c?(q=function(a){a?(c||!d("FocusManager").isFocusingWithoutUserIntent())&&f({type:"listitemfocus",value:!0}):f({type:"listitemfocus",value:!1})},b[5]=c,b[6]=q):q=b[6];q=q;a=a||g||l||h||e;b[7]!==q||b[8]!==p?(g={setListItemFocused:q,setListItemHovered:n,setMenuBtnFocused:p,setMenuBtnHovered:m,setMenuOpened:o},b[7]=q,b[8]=p,b[9]=g):g=b[9];b[10]!==a||b[11]!==g?(l=[a,g],b[10]=a,b[11]=g,b[12]=l):l=b[12];h=l;return h}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDRouteProvider.react",["I64","react","react-compiler-runtime","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;f=e.createContext;var k=e.useContext;function l(a){try{return(i||(i=d("I64"))).of_string(a)}catch(a){return}}function m(a){if(a==null)return;a=a.params.thread_key;if(a!=null&&typeof a==="string")return l(a)}var n=f();function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var e=c("useCurrentRoute")(),f;b[0]!==e?(f=m(e),b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==a||b[3]!==e?(f=j.jsx(n.Provider,{value:e,children:a}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function b(){return k(n)}g.IGDRouteContextProvider=a;g.useThreadKeyFromCurrentRoute=b}),98);
__d("IGDInteractionTraceAnnotations",["I64","IGDInstamadilloUtils","IGDRouteProvider.react","IGDThreadTTLCUtils","Int64Hooks","InteractionTracing","LSIntEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function a(a){return babelHelpers["extends"]({},d("IGDThreadTTLCUtils").getTTLCBooleanAnnotations(a),{is_dm:d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),is_instamadillo:d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),is_instamadillo_tlc:d("IGDInstamadilloUtils").isInstamadilloCutover(a)})}function l(a,b){var c=d("IGDInstamadilloUtils").isInstamadilloCutover(a),e=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),f=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);b.addAnnotationBoolean("is_instamadillo",e);b.addAnnotationBoolean("is_instamadillo_tlc",c);b.addAnnotationBoolean("is_dm",f);b.addAnnotationBoolean("is_instamadillo_ttlc",(e=d("IGDThreadTTLCUtils")).isIGDTTLCEnabledForThread(a));b.addAnnotationBoolean("is_instamadillo_ttlc_audio",e.isInstamadilloTTLCAudioEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_clip",e.isInstamadilloTTLCClipEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_generic_xma",e.isInstamadilloTTLCGenericXmaEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_image",e.isInstamadilloTTLCImageEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_link",e.isInstamadilloTTLCLinkEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_media_share",e.isInstamadilloTTLCMediaShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_profile",e.isInstamadilloTTLCProfileEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_reel_share",e.isInstamadilloTTLCReelShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_story_share",e.isInstamadilloTTLCStoryShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_text",e.isInstamadilloTTLCTextEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_video",e.isInstamadilloTTLCVideoEnabled(a))}function b(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){c("InteractionTracing").getPendingInteractions().forEach(function(b){l(a,b)})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);d("Int64Hooks").useEffectInt64(e,f)}var m=new Set();function e(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a.consistentThreadFbid||b[1]!==a.threadKey||b[2]!==a.threadSubtype||b[3]!==a.threadType?(e=function(){var b=(i||(i=d("I64"))).to_string(a.threadKey);c("InteractionTracing").getPendingInteractions().forEach(function(c){var e=m.has(b);c.addAnnotationBoolean("is_thread_visited",e);c.addAnnotation("thread_key",(i||(i=d("I64"))).to_string(a.threadKey));a.consistentThreadFbid!=null&&c.addAnnotation("consistent_thread_fbid",(i||(i=d("I64"))).to_string(a.consistentThreadFbid));c.addAnnotationInt("thread_type",(j||(j=d("LSIntEnum"))).toNumber(a.threadType));a.threadSubtype!=null&&c.addAnnotation("thread_subtype",(i||(i=d("I64"))).to_string(a.threadSubtype))});return function(){m.add(b)}},b[0]=a.consistentThreadFbid,b[1]=a.threadKey,b[2]=a.threadSubtype,b[3]=a.threadType,b[4]=e):e=b[4];var f;b[5]!==a?(f=[a],b[5]=a,b[6]=f):f=b[6];d("Int64Hooks").useEffectInt64(e,f)}function f(){var a=d("react-compiler-runtime").c(5),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e;a[0]!==b?(e=b!=null?(i||(i=d("I64"))).to_string(b):null,a[0]=b,a[1]=e):e=a[1];var f=e;a[2]!==f?(b=function(){c("InteractionTracing").getPendingInteractions().forEach(function(a){if(f==null){a.addAnnotationInt("rendered_direct_null_state",1);a.addAnnotationInt("has_thread_key",0);return}a.addAnnotationInt("has_thread_key",1);a.addAnnotationInt("rendered_direct_null_state",0)})},e=[f],a[2]=f,a[3]=b,a[4]=e):(b=a[3],e=a[4]);k(b,e)}g.getInstamadilloBooleanAnnotations=a;g.addInstamadilloAnnotationsToInteractionTrace=l;g.useAddInstamadilloAnnotationsToInteractionTraces=b;g.useAddThreadAnnotationToInteractionTraces=e;g.useAddThreadRouteAnnotations=f}),98);
__d("LSThreadAttributionTypeUtil",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){b=d("LSThreadAttributionStore").getSource({type:"MWLSEntrypoint",value:b},(h||(h=d("I64"))).to_string(a));if(b.type==="LSThreadAttribution")return b.value;a=b.value;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_OVERFLOW);else if(a==="hovercard"||a==="feedDynamicHoverCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="pageResponsivenessCard")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else if(a==="igdChatTabsThreadView")return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").IGD_WEB_CHAT_TAB_IN_THREAD);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=d("MWChatInteraction").get((h||(h=d("I64"))).to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;e=(b=e==null?void 0:(b=e.annotations.string)==null?void 0:b.inboxEntrypoint)!=null?b:e==null?void 0:(b=e.annotations.string)==null?void 0:b.entrypoint;if(e!=null&&e!=="unknown")return e;b=d("MWChatInteraction").get("inbox_init");if(b!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(b)))return"initInbox";e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b=e!=null?(b=c("InteractionTracingMetrics").get(e))==null?void 0:(e=b.annotations.string)==null?void 0:e.thread_id:null;return b===(h||(h=d("I64"))).to_string(a)?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLogSendToSentFailedError",["FBLogger","QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e,f){var g=a.qplEventType;a=a.qplInstanceKey;g=(h||(h=c("QuickPerformanceLogger"))).getMarker(g,a);a=g==null?void 0:(a=g.annotations)==null?void 0:(a=a.bool)==null?void 0:a.is_secure;c("FBLogger")("messenger_web_messaging","send_to_sent_failed").blameToPreviousFrame().blameToPreviousFrame().warn("send_to_sent failed with reason: %s. Caught error message: %s. Additional description: %s. Secure? %s. Error Code: %s. Application Error: %s.",b,(b=d==null?void 0:d.message)!=null?b:"",(g=(d=g==null?void 0:(d=g.annotations)==null?void 0:(b=d.string)==null?void 0:b.error_description)!=null?d:g==null?void 0:(b=g.annotations)==null?void 0:(d=b.string)==null?void 0:d.errorType)!=null?g:"",a===!0?"secure":a===!1?"open":"unknown",(b=e==null?void 0:e.toString())!=null?b:"",(d=f==null?void 0:f.toString())!=null?d:"")}g["default"]=a}),98);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","IGDInteractionTraceAnnotations","LSIntEnum","LSMessagingThreadTypeUtil","MAWEBSwitch","MWGetOriginalEntrypoint","MWMsgMediaTypeLogUtils","MWSharedS2SBaseAnnotations","MultipleTabsLogger","asyncToGeneratorRuntime","cr:6985","gkx","isArmadillo","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({Send:"send",Reaction:"reaction",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply",Unsend:"unsend",GroupInvite:"group-invite",SenderKeyDistribution:"sender-key-distribution",EphemeralSetting:"ephemeral-setting"}),k=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var i=b("cr:6985")!=null?yield b("cr:6985").isCutoverThreadKey(a.threadKey):!1;e=(yield d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(e,f,g));return{bool:babelHelpers["extends"]({},e.bool,d("IGDInteractionTraceAnnotations").getInstamadilloBooleanAnnotations(a),{is_community_event:a.eventStartTimestampMs!=null,is_cutover:c("isArmadillo")()&&i,is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_secure:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}),"int":babelHelpers["extends"]({},e["int"]),string:babelHelpers["extends"]({},e.string,{consistent_thread_fbid:a.consistentThreadFbid!=null?(h||(h=d("I64"))).to_string(a.consistentThreadFbid):null,original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?(h||(h=d("I64"))).to_string(a.threadSubtype):null,thread_type:h.to_string(a.threadType)})}});return l.apply(this,arguments)}function e(a,e,f,g){var i=e.hasFile;i=i===void 0?!1:i;var l=e.hasGif;l=l===void 0?!1:l;var m=e.hasHotEmoji;m=m===void 0?!1:m;var n=e.hasImage;n=n===void 0?!1:n;var o=e.hasLinks;o=o===void 0?!1:o;var p=e.hasReply;p=p===void 0?!1:p;var q=e.hasShare;q=q===void 0?!1:q;var r=e.hasSticker;r=r===void 0?!1:r;var s=e.hasStoryReply;s=s===void 0?!1:s;var t=e.hasText;t=t===void 0?!1:t;var u=e.hasVideo;u=u===void 0?!1:u;var v=e.hasVoiceClip;v=v===void 0?!1:v;var w=e.isAttachmentsGrouped,x=e.numberOfAttachments;x=x===void 0?0:x;e=e.numberOfGroupedAttachments;e=e===void 0?0:e;var y=j.Send;p?y=j.Reply:s&&(y=j.StoryReply);p=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:i,hasGif:l,hasHotEmoji:m,hasImage:n,hasLinks:o,hasShare:q,hasSticker:r,hasVideo:u,hasVoiceClip:v,numberOfAttachments:x,numberOfGroupedAttachments:e});s=t&&(!p||p===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?k.Text:k.NonText;d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",p);a.addAnnotation("action_type",y);a.addAnnotation("message_type",s);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(f.threadKey));g!=null&&a.addAnnotation("root_component",g);a.addAnnotationInt("number_of_attachments",x);w!=null&&a.addAnnotationBoolean("is_attachments_grouped",w);a.addAnnotation("thread_id",(h||(h=d("I64"))).to_string(f.threadKey));f.consistentThreadFbid!=null&&a.addAnnotation("consistent_thread_fbid",(h||(h=d("I64"))).to_string(f.consistentThreadFbid));a.addAnnotation("thread_type",h.to_string(f.threadType));f.threadSubtype!=null&&a.addAnnotation("thread_subtype",(h||(h=d("I64"))).to_string(f.threadSubtype));b("cr:6985")!=null&&c("promiseDone")(b("cr:6985").isCutoverThreadKey(f.threadKey),function(b){a.addAnnotationBoolean("is_cutover",b)});d("IGDInteractionTraceAnnotations").addInstamadilloAnnotationsToInteractionTrace(f,a);a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb",Boolean(c("gkx")("8483")))}function f(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2)))return"media";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4)))return"audio";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728)))return"sticker";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384)))return"gif";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64)))return"file";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1)))return"text";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(536870912)))return"XMA";else return"unknown"}g.ActionType=j;g.MsgType=k;g.getSendToSentAnnotations=a;g.addSendMessageMetadataForInteractionTrace=e;g.getMessageTypeFromDisplayedContentType=f}),98);
__d("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EE").__setRef("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred");g["default"]=a}),98);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f["default"]=a}),66);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function(a,b,c,d,e,f,g,h){var i,j={},k=["Webkit","ms","Moz","O"],l=new RegExp("^("+k.join("|")+")"),m=(i||(i=c("ExecutionEnvironment"))).canUseDOM?document.createElement("div").style:{};function n(a){for(var b=0;b<k.length;b++){var c=k[b]+a;if(c in m)return c}return null}function o(a){switch(a){case"lineClamp":return c("UserAgent").isEngine_DEPRECATED_DANGEROUS("WebKit >= 315.14.2")||c("UserAgent").isEngine("Blink")?"WebkitLineClamp":null;default:return null}}function a(a){var b=c("camelize")(a);if(j[b]===void 0){var d=b.charAt(0).toUpperCase()+b.slice(1);l.test(d)&&h(0,957,a);(i||(i=c("ExecutionEnvironment"))).canUseDOM?j[b]=b in m?b:n(d):j[b]=o(b)}return j[b]}g["default"]=a}),98);
__d("sendToSentQPLLogger",["LSDatabaseSingleton","LSIntEnum","MAWWaitForBackendSetup","MWLogSendToSentFailedError","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","QPLUserFlow","Random","ReQL","WAExceededStorageQuota","WAGetSafeQPLError","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","mergeDeep","performance","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("qpl")._(25313175,"1551");function l(a,b){c("QPLUserFlow").addAnnotations(k,b,{instanceKey:a})}function a(a,b){c("QPLUserFlow").endCancel(k,{annotations:(b=b)!=null?b:{},instanceKey:a})}function e(a,b,e,f){b=f!=null?f.type:b;c("MWLogSendToSentFailedError")({qplEventType:k,qplInstanceKey:a},b,e,f==null?void 0:f.errorCode,f==null?void 0:f.applicationErrorCode);c("QPLUserFlow").endFailure(k,b,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),useSentBytesCache:c("gkx")("33008"),wasBackendSetupReset:d("MAWWaitForBackendSetup").wasBackendSetupReset()},string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(e)}},error:e,instanceKey:a})}function f(a,b,d,e){a!=null&&c("QPLUserFlow").addPoint(k,b,{data:e,debugInfo:d,instanceKey:a})}function m(a){a===void 0&&(a=!0);var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(k,{annotations:{bool:{backendSetupReady:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},"int":{timeMsSinceSessionStart:(j||(j=c("performance"))).now()},string:{hostname:window.location.hostname}},instanceKey:b});a&&c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){l(b,a)}));c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.connectivity_status)).then(function(a){if(!a)return;l(b,{"int":{internetConnectionState:(i||(i=d("LSIntEnum"))).toNumber(a.internetConnectionState)}})})}));return b}function n(a){c("QPLUserFlow").endSuccess(k,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()}},instanceKey:a})}function o(a,b,e,f,g){g===void 0&&(g=!0);var h=m(g);if(a==null)return h;g=d("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers["extends"]({},b,{threadType:a.threadType}));c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(a,g,e),function(a){a=c("mergeDeep")(a,f);l(h,a)});return h}var p=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){var e=a+"_start";a=a+"_end";c("QPLUserFlow").addPoint(k,e,{instanceKey:b});e=(yield d());c("QPLUserFlow").addPoint(k,a,{instanceKey:b});return e});return function(b,c,d){return a.apply(this,arguments)}}();g.addSendToSentAnnotations=l;g.markSendToSentCancel=a;g.markSendToSentFail=e;g.markSendToSentPoint=f;g.markSendToSentStart=m;g.markSendToSentSuccess=n;g.markSendToSentStartWithAnnotation=o;g.measureSendToSentPerformance=p}),98);
__d("useLSMessagingSource",["IGDWebUtils","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b=d("IGDWebUtils").isOnInstagramWeb();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return b?"igdChatTabsThreadView":"chatInThread";default:return"unknown"}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FalcoAppUniverse",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3});c=a;f["default"]=c}),66);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),m=5*1024,n=(b=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue)!=null?b:60*1e3,o=(e=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?e:1e3;b=(f=(i||(i=c("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?f:1e3;var p="falco:",q=new(c("Queue"))(),r=5e3,s=6e4,aa=c("uuidv4")(),ba="ods_web_batch",t=new Map(),u=new Set(),v=new Set(),w=d("FalcoUtils").getTaggedBitmap(38),x=(e=c("FalcoAppUniverse").cast((i||(i=c("AnalyticsCoreData"))).app_universe))!=null?e:1,y=[],z=0,A=null,B=!1,C=!1,D=!1,E=!0,F=!1,G=Date.now()-s,H=1,I=b>n?b:n,J=b;Y();for(e=(f=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?f:[],b=Array.isArray(e),f=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(b){if(f>=e.length)break;K=e[f++]}else{f=e.next();if(f.done)break;K=f.value}K=K;u.add(K)}for(f=(K=(i||(i=c("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?K:[],b=Array.isArray(f),e=0,f=b?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(e>=f.length)break;K=f[e++]}else{e=f.next();if(e.done)break;K=e.value}K=K;v.add(K)}function L(){return(i||(i=c("AnalyticsCoreData"))).enable_bladerunner&&!(k||(k=c("ExecutionEnvironment"))).isInWorker}function M(a,b){d("FalcoUtils").bumpODSMetrics(b.item.name,"event.info.streaming.batched",1);var c=b.item.extra.length;z+c>m&&(clearTimeout(A),N());y.push([a,b]);z+=c}function N(){A=null;B=!1;var a=y;S("event.info.streaming.batch_processing",a.map(function(a){return a[1].item}));!F?O(a,"event.non_critical_failure.streaming_init_not_complete"):q.enqueue(function(b){return b.log(a.map(function(a){return a[1].item}),function(b){if(!b){O(a,"event.info.banzai_fallback");return}P(a,b,"event.info.streaming.enqueued")})});y=[];z=0}function O(a,b){var c=function(){var c,f=a[e],g=f[0],h=f[1];f=h.item;d("FalcoUtils").bumpODSMetrics(f.name,b,1);if((c=f.logCritical)!=null?c:!1)U.logCritical([f],function(a){return g.markItem(h,a)});else{((c=f.logImmediate)!=null?c:!1)?U.logImmediately([f],function(a){return g.markItem(h,a)}):U.log([f],function(a){return g.markItem(h,a)})}};for(var e=0;e<a.length;e++)c();return}function P(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=f[0];f=f[1];d("FalcoUtils").bumpODSMetrics(f.item.name,c,1);g.markItem(f,b)}}function ca(a){return{events:a.map(function(a){return{name:a.name,extra:a.extra,rate:a.policy.r,time:a.time/1e3,tag:0,tags:a.tags,shouldAddState:a.shouldAddState,identity:Q(a.identity),expTags:a.exptTags,sessionID:a.sessionId,deviceID:a.deviceId}})}}function da(a){var b;a={deviceId:(i||(i=c("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:a,appId:i.app_id,appVersion:(a=(i||(i=c("AnalyticsCoreData"))).app_version)!=null?a:null,bundleId:null,consentState:null,identity:null,pushPhase:i.push_phase};((b=(b=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:b.length)!=null?b:0)>0&&(a.ambientState=(i||(i=c("AnalyticsCoreData"))).state_for_br);a.identity=Q(i.identity);return Object.freeze(a)}function Q(a){if(x===2||x===3){var b=a==null?void 0:a.appScopedIdentity;if(b!==void 0)return{appScopedIdentity:{uid:b,identifier:b,claims:[]}}}else{b=a==null?void 0:a.fbIdentity;if(b!==void 0)return{facebookIdentity:{actorId:b.actorId,accountId:b.accountId,claims:[]}}}return null}function R(a,b){for(var e=0;e<a.length;e++){var f,g,h=a[e];f=(g={},g.e=h.extra,g.r=h.policy.r,g.d=(f=h.deviceId)!=null?f:(i||(i=c("AnalyticsCoreData"))).device_id,g.s=(f=h.sessionId)!=null?f:d("WebSession").getId(),g.t=h.time,g);h.privacyContext&&(f.p=h.privacyContext);h.tags!=null&&(f.b=h.tags);g=h.identity;g&&(f.id=g);c("Banzai").post(p+h.name,f,b)}S("event.uploaded",a)}function S(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.name!==ba&&d("FalcoUtils").bumpODSMetrics(e.name,a,1)}}function T(a,b){var e="falco.fabric.www."+(i||(i=c("AnalyticsCoreData"))).push_phase;(h||(h=d("ODS"))).bumpEntityKey(1344,e,a,b)}var U={log:function(a,b){S("event.info.banzai.log.upload_processing",a),R(a,c("Banzai").BASIC),b(!0)},logImmediately:function(a,b){S("event.info.banzai.log_immediately.upload_processing",a),R(a,c("Banzai").VITAL),b(!0)},logCritical:function(a,b){S("event.info.banzai.log_critical.upload_processing",a),R(a,{signal:!0,retry:!0}),b(!0)}};function ea(a){Y();var b=V(a,"banzai_data_loss","log"),d=V(a,"banzai_data_loss","logImmediately"),e=V(a,"banzai_data_loss","logCritical"),f=V(a,"bladerunner_data_loss",""),g=V(a,"bladerunner_data_loss","logCritical");T("js.br_data_loss.posted."+a,1);if(F&&E)try{q.enqueue(function(b){return b.log([f],function(b){if(!b){T("js.br.transport_failure."+a,1);U.logCritical([g],function(b){T("js.br.failure_fallback_success_callback."+a,1)});return}T("js.br.success_callback."+a,1)})})}catch(b){T("js.br.error_enqueueing."+a,1),U.logCritical([g],function(b){T("js.br.enqueuing_fallback_success_callback."+a,1)})}else E||T("js.br.failed."+a,1),F||T("js.br.init_not_complete."+a,1),U.logCritical([g],function(b){T("js.br.init_fallback_success_callback."+a,1)});R([b],c("Banzai").BASIC);R([d],c("Banzai").VITAL);R([e],{signal:!0,retry:!0})}function V(a,b,d){return{name:b,time:(j||(j=c("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:a,falco_js_connection_id:aa,logging_mode:d,logging_flow_flag:"original_flow"})}}function W(){G+r<Date.now()&&(ea(H),G=Date.now(),H++)}function X(){window.setTimeout(function(){W(),H<=40&&X()},s)}function fa(a){q.start(function(b){return b({log:function(d,b){S("event.info.streaming.queue_processing",d);var e=JSON.stringify(ca(d));a?(i||(i=c("AnalyticsCoreData"))).enable_ack?c("promiseDone")(a.amendWithAck(e),function(a){a?(S("event.streamed.with_ack",d),S("event.uploaded",d)):S("event.non_critical_failure.streaming.ack_failed",d),b(a)},function(){S("event.non_critical_failure.streaming.ack_rejected",d),b(!1)}):(a.amendWithoutAck(e),S("event.streamed.without_ack",d),S("event.uploaded",d)):(S("event.non_critical_error.streaming.stream_not_available",d),b(!1))},logImmediately:function(b,a){this.log(b,a)},logCritical:function(b,a){this.log(b,a)}})})}function Y(){if(C)return;F=!1;if(!L())return;l.onReady(function(a){if(!a){E=!1;q.start(function(a){return a(U)});return}a=a;var b={onTermination:function(a){a.message==="Stream closed"?(q.stop(!0),C=!1):(d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),E=!1,q.start(function(a){return a(U)}))},onFlowStatus:function(){}};c("promiseDone")(a.requestStream({method:"Falco"},JSON.stringify(da(d("WebSession").getId())),b,{requestId:""}).then(function(b){a=b,fa(a),F=!0,I=n,J=o})["catch"](function(a){d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),q.stop(!0),C=!1}))});C=!0}function Z(a){var b,e=a.name;if(!L()||!E)return!1;if(u.has(e)||a.policy.s!==1&&((b=(i||(i=c("AnalyticsCoreData"))).br_stateful_migration_on)!=null?b:!1)){a.shouldAddState=!0;a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],w);return!0}if(x!==1&&(i||(i=c("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!v.has(e))return!1;if(a.policy.s===1){a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],w);return!0}return!1}function $(a){if(a==="")return null;if(t.has(a))return t.get(a);else{var b={claim:""},c=a.split("^#");if(c.length>=4){var d=c[0],e=c[1],f=c[2];c=c[3];f!==""?b={appScopedIdentity:f,claim:c}:d!==""&&(b={fbIdentity:{accountId:d,actorId:e},claim:c});t.set(a,b)}return b}}function a(){if(D)return;D=!0;c("PersistedQueue").setHandler("falco_queue_log",function(b){var c,e=b.getQueueNameSuffix(),f=$(e);while(c=b.dequeueItem())(function(c){Z(c.item)?(d("FalcoUtils").bumpODSMetrics(c.item.name,"event.info.upload_method.streaming.log",1),Y(),A==null&&(A=setTimeout(N,I)),f&&!a(e)&&(c.item.identity=f),M(b,c)):(f&&(c.item.identity=f),U.log([c.item],function(a){return b.markItem(c,a)}))})(c)});c("PersistedQueue").setHandler("falco_queue_immediately",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){Z(e.item)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log_immediately",1),Y(),(A==null||!B)&&(clearTimeout(A),A=setTimeout(N,J),B=!0),e.item.logImmediate=!0,g&&!a(f)&&(e.item.identity=g),M(b,e),c("PersistedQueue").isPersistenceAllowed()||(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.streaming_no_persistence.log_immediately",1),N())):(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.banzai.log_immediately",1),g&&(e.item.identity=g),U.logImmediately([e.item],function(a){return b.markItem(e,a)}))})(e)});c("PersistedQueue").setHandler("falco_queue_critical",function(b){var c,e=b.getQueueNameSuffix(),f=$(e);while(c=b.dequeueItem())(function(c){var g=c.item;Z(g)?(d("FalcoUtils").bumpODSMetrics(c.item.name,"event.info.upload_method.streaming.log_critical",1),Y(),g.logCritical=!0,!F?(f&&(g.identity=f),O([[b,c]],"event.non_critical_failure.streaming_init_not_complete.log_critical")):(f&&!a(e)&&(g.identity=f),q.enqueue(function(a){return a.logCritical([g],function(a){if(!a){!g.identity&&f&&(g.identity=f);O([[b,c]],"event.info.banzai_fallback.log_critical");return}P([[b,c]],a,"event.uploaded")})}))):(f&&(g.identity=f),d("FalcoUtils").bumpODSMetrics(c.item.name,"event.info.upload_method.banzai.log_critical",1),U.logCritical([g],function(a){return b.markItem(c,a)}))})(c)});(i||(i=c("AnalyticsCoreData"))).enable_dataloss_timer&&(Y(),W(),X());function a(a){try{var b=d("FalcoUtils").identityToString((i||(i=c("AnalyticsCoreData"))).identity);return a===b}catch(a){(h||(h=d("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1);return!0}}}g.attach=a}),98);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MAWCatQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23999698219677129"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null?{error:"Crypto Auth Token was null or incomplete"}:{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("relay-runtime").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.processCatResponse=h;g.fetchFreshCAT=a}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);return}}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:710")}),98);
__d("WADynamicRouterSync",["ExecutionEnvironment","Promise","WALogger","WAMapWithDefault","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["No handler for bridge with namespace: "," route: "," called in environment: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge handler: ",""]);l=function(){return a};return a}function m(a,b){if(a==null)return;var c=a.toLastActiveClient;a=babelHelpers.objectWithoutPropertiesLoose(a,["toLastActiveClient"]);if(c===!0&&b!=null){return babelHelpers["extends"]({},a,{toClientId:(c=a.toClientId)!=null?c:b})}return a}a=function(){function a(){var a=this;this.$2=new Map();this.$4=new(d("WAMapWithDefault").MapWithDefault)(function(){return new Set()});this.$5=null;this.fireAndForget=function(b,c,d,e,f,g){e===void 0&&(e=!1),a.$3==null?void 0:a.$3(b,c,d),a.$4.get(b).add({route:c,arg:d,resolver:null,silentLog:e,eventCallbacks:f,opts:m(g,a.$5)}),a.$6(b,c)};this.sendAndReceive=function(c,d,e,f,g,h){f===void 0&&(f=!1);return new(i||(i=b("Promise")))(function(b){a.$3==null?void 0:a.$3(c,d,e),a.$4.get(c).add({route:d,arg:e,resolver:function(a){b(a)},silentLog:f,eventCallbacks:g,opts:m(h,a.$5)}),a.$6(c,d)})}}var e=a.prototype;e.setAckPayload=function(a){this.$1=a};e.getAckPayoad=function(){return this.$1};e.hasHandlerForNamespace=function(a){return this.$2.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$2.keys())};e.setOnRouteCalled=function(a){this.$3=a};e.setNamespaceHandler=function(a,b){var c=this.$2,d=c.get(a);if(d===b)return;c.set(a,b);d==null&&this.$6(a)};e.$7=function(a,c){var e=a.route,f=a.arg,g=a.resolver,h=a.silentLog,j=a.eventCallbacks;a=a.opts;try{var k;this.$5=(k=a==null?void 0:a.fromClientId)!=null?k:this.$5;c(e,f,g,h,j,a)}catch(a){g==null?void 0:g((i||(i=b("Promise"))).reject(a)),d("WALogger").ERROR(l(),a)}};e.$6=function(a,b){var e=this,f=this.$4.get(a),g=this.$2.get(a);if(g==null){var i=(h||(h=c("ExecutionEnvironment"))).isInWorker?"worker":"main-thread";d("WALogger").ERROR(k(),a,b,i);return}f.forEach(function(a){e.$7(a,g),f["delete"](a)})};e.setHandlers=function(a,b){function e(e,f,g,h,i,k){if(b[e]==null){d("WALogger").ERROR(j(),e,a);throw c("err")(e+" is not defined for "+a)}h=b[e](f,k);g&&g(h)}this.setNamespaceHandler(a,e)};return a}();g.normaliseHandlerOptions=m;g.DynamicRouterSync=a}),98);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);
__d("isGroupInvitesEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("125")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSAddParticipantIdToGroupThread",["LSComputeParticipantCapabilities"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),a[1],a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.gt(b.authorityLevel,a[9])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(14).put({threadKey:a[0],contactId:a[1],readWatermarkTimestampMs:a[2],readActionTimestampMs:a[3],deliveredWatermarkTimestampMs:a[4],nickname:a[5],normalizedSearchTerms:a[10],isAdmin:a[6],isSuperAdmin:a[13],subscribeSource:a[7],authorityLevel:a[9],participantCapabilities:d[0],groupParticipantJoinState:a[11],isModerator:a[12],threadRoles:a[14]}):0})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAddParticipantIdToGroupThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){});function c(b,c,d){return a.apply(this,arguments)}return c}();f["default"]=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("9855")){e=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var f,g=(yield e.next());if(g.done)break;yield (f=a.mi_act_mapping_table)["delete"].apply(f,g.value)}f=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(i||(i=d("I64"))).equal(a.syncGroup,(j||(j=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){g=(yield f.next());if(g.done)break;yield (e=a.threads)["delete"].apply(e,g.value[0])}}return(h||(h=b("Promise"))).resolve()});function e(b,c){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c)));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)});function c(b,c,d){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSReplaceOptimisticThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSDeleteThread","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.storedProcedure(b("LSDeleteThread"),a[1],!1):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSDeleteThread"),d[6],!1):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSDeleteThread"),d[6],!1):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSClearPinnedMessages","LSDeleteBanner","LSDeleteExistingMessageRanges","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueInsertPersistentMenuItemsForThreadTask","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSTransportHybridParticipantUpdateReceipts","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadsRangesV2","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),clearPinnedMessages:c("LSClearPinnedMessages"),deleteBanner:c("LSDeleteBanner"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);
__d("LSIssueThreadCapabilitySyncTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxIssueThreadCapabilitySyncTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetHMPSStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetHMPSStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("PresenceStatusContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));a=h.createContext;var i=[];b=a({addListener:function(){return c("emptyFunction")},get:function(){return 0},getChatVisibility:function(){return!1},getOnlineIDs:function(){return i},getStatus:function(){return null}});g["default"]=b}),98);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometImage.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=36,l={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(30),f,g,h,m;e[0]!==a?(f=a.entry,g=a.isActive,m=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=m):(f=e[1],g=e[2],h=e[3],m=e[4]);a=f.rawData;var n=a.badgeSnippet;a=a.structuredInfo;if(e[5]!==(a==null?void 0:a.direct_nav_result)){var o;o=(o=a==null?void 0:a.direct_nav_result)!=null?o:{};e[5]=a==null?void 0:a.direct_nav_result;e[6]=o}else o=e[6];a=o;o=a.ent_id;var p=a.entity_type,q=a.img_url,r=a.link_url,s=a.snippet;a=a.type;var t;e[7]!==r?(t={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:r},e[7]=r,e[8]=t):t=e[8];r=t;t=r;r="circle";a==="SHORTCUT"?r="square":(p==="group"||p==="event")&&(r="roundedRect");p=j(c("PresenceStatusContext"));var u=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&o!=null&&(u=p.get(o)===2);b=null;if(q!=null){e[9]!==q||e[10]!==u||e[11]!==r||e[12]!==a?(p=a==="SHORTCUT"?i.jsx(c("CometImage.react"),{height:k,src:q,width:k,xstyle:l.imageIcon}):i.jsx(c("FDSProfilePhoto.react"),{addOn:u?{type:"availabilityBadge"}:void 0,shape:r,size:k,source:{uri:q}}),e[9]=q,e[10]=u,e[11]=r,e[12]=a,e[13]=p):p=e[13];b=p}e[14]!==n||e[15]!==s?(o=n!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:"blue"}),n]}):s,e[14]=n,e[15]=s,e[16]=o):o=e[16];var v=o;e[17]!==v?(q=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:v,title:a})},e[17]=v,e[18]=q):q=e[18];e[19]!==f.label||e[20]!==m||e[21]!==q?(u=i.jsx(c("CometTypeaheadHighlight.react"),{content:f.label,query:m,strategy:"non-match",children:q}),e[19]=f.label,e[20]=m,e[21]=q,e[22]=u):u=e[22];e[23]!==f||e[24]!==b||e[25]!==g||e[26]!==t||e[27]!==h||e[28]!==u?(r=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:f,isActive:g,itemStartContent:b,linkProps:t,children:u})),e[23]=f,e[24]=b,e[25]=g,e[26]=t,e[27]=h,e[28]=u,e[29]=r):r=e[29];return r}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);if(b[6]!==e.rawData.structuredInfo){a=(a=e.rawData.structuredInfo)!=null?a:{};b[6]=e.rawData.structuredInfo;b[7]=a}else a=b[7];a=a;a=a.disambiguation_result;if(a==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}a=a.disambiguation_info_list;var k=a[0].snippet;b[8]!==e.label||b[9]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[8]=e.label,b[9]=f,b[10]=a):a=b[10];var l;b[11]!==k?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:k,title:a})},b[11]=k,b[12]=l):l=b[12];var m;b[13]!==e.label||b[14]!==j||b[15]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[13]=e.label,b[14]=j,b[15]=l,b[16]=m):m=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==h||b[21]!==a||b[22]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:a,linkProps:g,children:m})),b[17]=e,b[18]=f,b[19]=g,b[20]=h,b[21]=a,b[22]=m,b[23]=j):j=b[23];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);a=e.rawData;var k=a.badgeSnippet;a=a.structuredInfo;if(b[6]!==(a==null?void 0:a.high_confidence_result)){var l;l=(l=a==null?void 0:a.high_confidence_result)!=null?l:{};b[6]=a==null?void 0:a.high_confidence_result;b[7]=l}else l=b[7];a=l;l=a.hcm_id;var m=a.picture_url;a=a.snippet;if(m==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((l=l)!=null?l:"null"),"search")}b[8]!==k||b[9]!==a?(l=k!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:"blue"}),k]}):a,b[8]=k,b[9]=a,b[10]=l):l=b[10];var n=l;b[11]!==m?(k=m!=null?i.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:m}}):null,b[11]=m,b[12]=k):k=b[12];b[13]!==e.label||b[14]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[13]=e.label,b[14]=f,b[15]=a):a=b[15];b[16]!==n?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:n,title:a})},b[16]=n,b[17]=l):l=b[17];b[18]!==e.label||b[19]!==j||b[20]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[18]=e.label,b[19]=j,b[20]=l,b[21]=m):m=b[21];b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==h||b[26]!==k||b[27]!==a||b[28]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemEndContent:k,itemStartContent:a,linkProps:g,children:m})),b[22]=e,b[23]=f,b[24]=g,b[25]=h,b[26]=k,b[27]=a,b[28]=m,b[29]=j):j=b[29];return j}g["default"]=a}),98);
__d("CometTypeaheadEntityViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23);if(b[0]!==a){var e=a.entry,f=a.isBadged,g=a.isOnline,h=a.meta,j=a.pictureUrl;a.queryString;var k=a.size,l=a.style,m=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isBadged","isOnline","meta","pictureUrl","queryString","size","style"]);e=e;f=f;g=g;h=h;j=j;k=k;l=l;m=m;b[0]=a;b[1]=e;b[2]=h;b[3]=j;b[4]=m;b[5]=f;b[6]=g;b[7]=k;b[8]=l}else e=b[1],h=b[2],j=b[3],m=b[4],f=b[5],g=b[6],k=b[7],l=b[8];a=f===void 0?!1:f;f=g===void 0?!1:g;g=k===void 0?36:k;k=l===void 0?"circle":l;b[9]!==f||b[10]!==j||b[11]!==g||b[12]!==k?(l=j!=null?i.jsx(c("FDSProfilePhoto.react"),{addOn:f?{type:"availabilityBadge"}:void 0,shape:k,size:g,source:{uri:j}}):null,b[9]=f,b[10]=j,b[11]=g,b[12]=k,b[13]=l):l=b[13];b[14]!==e.label||b[15]!==a||b[16]!==h?(f=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:a,level:3,snippet:h,title:e.label}),b[14]=e.label,b[15]=a,b[16]=h,b[17]=f):f=b[17];b[18]!==e||b[19]!==m||b[20]!==l||b[21]!==f?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},m,{entry:e,itemStartContent:l,children:f})),b[18]=e,b[19]=m,b[20]=l,b[21]=f,b[22]=j):j=b[22];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["fbt","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadEntityViewItem.react","CometTypeaheadFocusLockRegion.react","FDSBadge.react","PresenceStatusContext","qex","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b,e,f=d("react-compiler-runtime").c(21),g,i;f[0]!==a?(g=a.entry,i=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),f[0]=a,f[1]=g,f[2]=i):(g=f[1],i=f[2]);a=g.rawData;var l=a.badgeSnippet;a=a.profile;if(f[3]!==a){var m;m=(m=a)!=null?m:{};f[3]=a;f[4]=m}else m=f[4];a=m;m=a.id;var n=a.profilePictureURL;a=a.url;if(n==null){var o;c("recoverableViolation")("Missing profile picture for fbid "+((o=m)!=null?o:"null"),"search")}f[5]!==l?(o=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__wA8635rTEop__JHASH__"),color:"blue"}),l]}):void 0,f[5]=l,f[6]=o):o=f[6];o=o;b=(b=g.metaData.logging)==null?void 0:b.entityType;var p="circle";b!==null&&(b==="group"||b==="event")&&(p="roundedRect");b=k(c("PresenceStatusContext"));var q=!1;e=(e=c("qex")._("218"))!=null?e:!1;e&&m!=null&&(q=b.get(m)===2);e=l!=null;f[7]!==g?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:g})}),f[7]=g,f[8]=b):b=f[8];f[9]!==a?(m={preventLocalNavigation:!0,url:a},f[9]=a,f[10]=m):m=f[10];f[11]!==g||f[12]!==q||f[13]!==o||f[14]!==n||f[15]!==i||f[16]!==p||f[17]!==e||f[18]!==b||f[19]!==m?(l=j.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},i,{entry:g,isBadged:e,isOnline:q,itemEndContent:b,itemEndContentKeyboardFocusable:!0,linkProps:m,meta:o,pictureUrl:n,size:36,style:p,testid:void 0})),f[11]=g,f[12]=q,f[13]=o,f[14]=n,f[15]=i,f[16]=p,f[17]=e,f[18]=b,f[19]=m,f[20]=l):l=f[20];return l}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["fbt","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;function a(a){var b,e=d("react-compiler-runtime").c(29);if(e[0]!==a){var f=a.entry,g=a.isActive;a.queryString;var i=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);f=f;g=g;i=i;e[0]=a;e[1]=f;e[2]=g;e[3]=i}else f=e[1],g=e[2],i=e[3];a=f;a=a.rawData;var l=a.badgeSnippet;a=a.structuredInfo;if(e[4]!==(a==null?void 0:a.direct_nav_result)){var m;m=(m=a==null?void 0:a.direct_nav_result)!=null?m:{};e[4]=a==null?void 0:a.direct_nav_result;e[5]=m}else m=e[5];a=m;m=a.ent_id;var n=a.entity_type,o=a.img_url,p=a.link_url,q=a.snippet,r=a.title;a=a.type;var s;e[6]!==p?(s={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:p},e[6]=p,e[7]=s):s=e[7];p=s;s=p;e[8]!==l||e[9]!==q?(p=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__wA8635rTEop__JHASH__"),color:"blue"}),l]}):q,e[8]=l,e[9]=q,e[10]=p):p=e[10];q=p;p="circle";a==="SHORTCUT"?p="square":(n==="group"||n==="event")&&(p="roundedRect");a=k(c("PresenceStatusContext"));n=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&m!=null&&(n=a.get(m)===2);e[11]!==f?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})}),e[11]=f,e[12]=b):b=e[12];e[13]!==o||e[14]!==n||e[15]!==p?(a=o!=null?j.jsx(c("FDSProfilePhoto.react"),{addOn:n?{type:"availabilityBadge"}:void 0,shape:p,size:36,source:{uri:o}}):null,e[13]=o,e[14]=n,e[15]=p,e[16]=a):a=e[16];m=l!=null;e[17]!==q||e[18]!==m||e[19]!==r?(o=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:m,level:3,snippet:q,title:r}),e[17]=q,e[18]=m,e[19]=r,e[20]=o):o=e[20];e[21]!==f||e[22]!==g||e[23]!==s||e[24]!==i||e[25]!==b||e[26]!==a||e[27]!==o?(n=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:f,isActive:g,itemEndContent:b,itemEndContentKeyboardFocusable:!0,itemStartContent:a,linkProps:s,testid:void 0,children:o})),e[21]=f,e[22]=g,e[23]=s,e[24]=i,e[25]=b,e[26]=a,e[27]=o,e[28]=n):n=e[28];return n}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["fbt","CometRow.react","CometRowItem.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b,e=d("react-compiler-runtime").c(32);if(e[0]!==a){var f=a.entry,g=a.isActive,i=a.linkProps;a.queryString;var k=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);f=f;g=g;i=i;k=k;e[0]=a;e[1]=f;e[2]=g;e[3]=i;e[4]=k}else f=e[1],g=e[2],i=e[3],k=e[4];a=f;var l=a.label;a=a.rawData;var m=a.badgeSnippet;if(e[5]!==((b=a.structuredInfo)==null?void 0:b.high_confidence_result)){b=(b=(b=a.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};e[5]=(a=a.structuredInfo)==null?void 0:a.high_confidence_result;e[6]=b}else b=e[6];a=b;b=a.hcm_id;var n=a.picture_url;a=a.snippet;if(n==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=b)!=null?b:"null"),"search")}e[7]!==m||e[8]!==a?(b=m!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__wA8635rTEop__JHASH__"),color:"blue"}),m]}):a,e[7]=m,e[8]=a,e[9]=b):b=e[9];a=b;e[10]!==n?(b=n!=null?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:n}})}):null,e[10]=n,e[11]=b):b=e[11];e[12]!==f?(n=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})})}),e[12]=f,e[13]=n):n=e[13];var o;e[14]!==b||e[15]!==n?(o=j.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[b,n]}),e[14]=b,e[15]=n,e[16]=o):o=e[16];e[17]!==g||e[18]!==l?(b=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:g,label:l}),e[17]=g,e[18]=l,e[19]=b):b=e[19];n=m!=null;e[20]!==l||e[21]!==a||e[22]!==n?(m=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:n,level:3,snippet:a,title:l}),e[20]=l,e[21]=a,e[22]=n,e[23]=m):m=e[23];e[24]!==f||e[25]!==g||e[26]!==i||e[27]!==k||e[28]!==o||e[29]!==b||e[30]!==m?(l=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},k,{entry:f,isActive:g,itemEndContent:o,itemEndContentKeyboardFocusable:!0,itemStartContent:b,linkProps:i,children:m})),e[24]=f,e[25]=g,e[26]=i,e[27]=k,e[28]=o,e[29]=b,e[30]=m,e[31]=l):l=e[31];return l}g["default"]=a}),226);
__d("XCometSearchHashtagControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/hashtag/{hashtag}/{?explore_tab}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&(a.subtype==="keyword"||a.subtype==="bootstrap")?a:null}f["default"]=a}),66);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";a=c("filterNulls")([{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadRecentEntityViewItem.react")}]);g["default"]=a}),98);
__d("useSearchCometHashtagRouteUrlBuilder",["CometRouteParams","XCometSearchHashtagControllerRouteBuilder","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.entryPointSurface;a=d("CometRouteParams").useRouteParams();var f=a.__tsid__;b[2]!==e?(a={entryPointSurface:e},b[2]=e,b[3]=a):a=b[3];var g=c("useSearchCometResultsEntryPointSurface")(a);b[4]!==f||b[5]!==g?(e=function(a){var b=a.entryPointAction,d=a.exploreEntryPoint,e=a.groupID,h=a.hashtag;a=a.typeaheadSessionID;h={hashtag:h};a!=null?h.__tsid__=a:typeof f==="string"&&(h.__tsid__=f);b!=null&&(h.__epa__=b);g!=null&&(h.__eps__=g);d!=null&&(h.__eep__=d);e!=null&&(h.__gid__=e);return c("XCometSearchHashtagControllerRouteBuilder").buildURL(h)},b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("C4gEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1922200");b=d("FalcoLoggerInternal").create("c4g_engagement",a);e=b;g["default"]=e}),98);
__d("EBFormatUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a!=null)return(h||(h=d("I64"))).min(a,h.of_float(d("WATimeUtils").millisTime()));switch(b){case"before":return(h||(h=d("I64"))).of_float(d("WATimeUtils").millisTime());case"after":return(h||(h=d("I64"))).zero;default:b;return(h||(h=d("I64"))).max_int}}function b(a,b){switch(b){case"before":return[a,0];case"after":return[0,a];default:b;return[Math.ceil(a/2),Math.ceil(a/2)]}}g.adjustTs=a;g.adjustCount=b}),98);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],d[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[1]=c[0],d[2]=c[1],c)})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[4]=c[0],d[5]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[4]=c[0],d[5]=c[1],c)})},function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c.i64.cast([0,1073741823]),c.i64.cast([0,0]),!1],d[7]=e[0],d[8]=e[1],d[9]=e[2],e):(b=a.item,e=[b.capabilities==null?c.i64.cast([0,1073741823]):b.capabilities,b.contactTypeExact==null?c.i64.cast([0,0]):b.contactTypeExact,b.isManagedByViewer==null?!1:b.isManagedByViewer],d[7]=e[0],d[8]=e[1],d[9]=e[2],e)})},function(a){return d[12]=c.i64.eq(d[8],c.i64.cast([0,4]))?d[9]?c.i64.cast([0,2612119]):c.i64.or_(c.i64.cast([0,2612119]),c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3])))):d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[13]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))),d[15]=d[1]&&!d[4]&&c.i64.neq(d[11],a[0])?d[12]:c.i64.eq(c.i64.and_(d[12],d[13]),c.i64.cast([0,0]))?d[12]:c.i64.sub(d[12],d[13]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[16]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,22]))),d[19]=d[4]&&d[1]&&c.i64.neq(d[14],a[0])?d[15]:c.i64.eq(c.i64.and_(d[15],d[16]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[16]),d[2]?d[17]=!(d[4]||d[5]):d[17]=!0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[20]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,21]))),e[0]=(d[1]||d[2])&&d[17]&&c.i64.neq(a[0],d[18])?d[19]:c.i64.eq(c.i64.and_(d[19],d[20]),c.i64.cast([0,0]))?d[19]:c.i64.sub(d[19],d[20])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure";a.__tables__=["participants","contacts"];e.exports=a}),null);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0],c[0]=e[0],c[1]=e[1],e):(d=a.item,e=[d.parentThreadKey,d.disappearingThreadKey],c[0]=e[0],c[1]=e[1],e)})},function(a){return b.count(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}]):b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}])}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertAttachmentItem",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(18).add({attachmentFbid:a[0],attachmentIndex:a[1],threadKey:a[2],messageId:a[4],defaultActionEnableExtensions:a[31],originalPageSenderId:a[7],titleText:a[8],subtitleText:a[9],bodyText:a[12],playableUrl:a[13],playableUrlFallback:a[14],playableUrlExpirationTimestampMs:a[15],playableUrlMimeType:a[16],dashManifest:a[17],previewUrl:a[18],previewUrlFallback:a[19],previewUrlExpirationTimestampMs:a[20],previewUrlMimeType:a[21],previewWidth:a[22],previewHeight:a[23],imageUrl:a[24],defaultCtaId:a[25],defaultCtaTitle:a[26],defaultCtaType:a[27],defaultButtonType:a[29],defaultActionUrl:a[30],defaultWebviewHeightRatio:a[33],attachmentCta1Id:a[35],cta1Title:a[36],cta1IconType:a[37],cta1Type:a[38],attachmentCta2Id:a[40],cta2Title:a[41],cta2IconType:a[42],cta2Type:a[43],attachmentCta3Id:a[45],cta3Title:a[46],cta3IconType:a[47],cta3Type:a[48],faviconUrl:a[49],faviconUrlFallback:a[50],faviconUrlExpirationTimestampMs:a[51],previewUrlLarge:a[52]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0,void 0],c[3]=e[0],c[4]=e[1],c[5]=e[2],e):(d=a.item,e=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=e[0],c[4]=e[1],c[5]=e[2],e)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[15]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[16]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[17]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[18]=b.i64.cast([0,2]):c[18]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[17]=c[18]),c[16]=c[17]),c[15]=c[16]),c[9]=c[15]),c[10]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==void 0?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[14],b.i64.cast([0,8192])):c[14]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure";a.__tables__=["attachments","messages","threads"];e.exports=a}),null);
__d("LSUpsertInboxThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(198).put({syncGroup:a[0],minLastActivityTimestampMs:a[1],hasMoreBefore:a[2],isLoadingBefore:a[3],minThreadKey:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertInboxThreadsRangeStoredProcedure";a.__tables__=["inbox_threads_ranges"];e.exports=a}),null);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5],reactionCreationTimestampMs:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertReactionStoredProcedure";a.__tables__=["reactions"];e.exports=a}),null);
__d("LSUpsertSyncGroupThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(220).put({syncGroup:a[0],parentThreadKey:a[1],minLastActivityTimestampMs:a[2],hasMoreBefore:a[3],isLoadingBefore:a[4],minThreadKey:a[5]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertSyncGroupThreadsRangeStoredProcedure";a.__tables__=["sync_group_threads_ranges"];e.exports=a}),null);
__d("MWDeleteAllDBs",["MAWEncryptionIndexedDbV2","MAWIndexedDBDeletion","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","asyncToGeneratorRuntime","cr:10030","cr:4434"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full_due_to_ear")}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){b("cr:10030")&&(yield b("cr:10030").deleteIndexedDB(a)),b("cr:4434")&&(yield b("cr:4434").deleteEBIDB().then(function(){return h()})),yield d("MAWIndexedDBDeletion").deleteMAWPersistence(),(c==null?void 0:c.deleteEncryptionDB)===!0&&(yield d("MAWEncryptionIndexedDbV2").deleteEncryptionDB_UNSAFE(void 0,"delete_all_dbs"))});return i.apply(this,arguments)}function e(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){b("cr:4434")&&(yield b("cr:4434").deleteEBIDB().then(function(){return h()}))});return j.apply(this,arguments)}g.deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING=a;g.deleteEBSMDB=e}),98);
__d("MAWEncryptionErrorHandler",["FBLogger","MAWSetupWorker","MWDeleteAllDBs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a="MAWEARKeychainDecryptionError",b="error";try{yield d("MAWSetupWorker").terminateWorker(a);return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING(b,{deleteEncryptionDB:!0})}catch(d){c("FBLogger")("maw_ear").catching(d).mustfixThrow("Fail to delete dbs from: %s terminateWorkerReason: %s",b,a)}});return h.apply(this,arguments)}g.handleEARKeychainError=a}),98);
__d("MAWSecureDataSource",[],(function(a,b,c,d,e,f){"use strict";a=10;f.DEFAULT_NUM_MESSAGES=a}),66);
__d("MWXPopoverLoadingState.react",["cr:8235"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8235")}),98);/*FB_PKG_DELIM*/
__d("BaseList.react",["CometCompositeStructureContext","CometFocusGroup.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(24),f=a["aria-label"],g=a["aria-labelledby"],h=a.children,j=a.keyNavOrientation_DEPRECATED,k=a.role,l=a.testid,m=a.xstyle;a=(a=k)!=null?a:"list";var n;e[0]!==a?(n={role:a},e[0]=a,e[1]=n):n=e[1];n=n;n=n;if(j!=null){var o;e[2]!==f||e[3]!==g||e[4]!==h||e[5]!==b||e[6]!==k||e[7]!==m?(o=function(a){var c;return i.jsx(d("react-strict-dom").html.div,{"aria-label":(c=f)!=null?c:void 0,"aria-labelledby":g,ref:b,role:(c=k)!=null?c:void 0,style:[a,[m]],children:h})},e[2]=f,e[3]=g,e[4]=h,e[5]=b,e[6]=k,e[7]=m,e[8]=o):o=e[8];var p;e[9]!==j||e[10]!==k||e[11]!==o?(p=i.jsx(c("CometFocusGroup.react"),{orientation:j,role:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:o}),e[9]=j,e[10]=k,e[11]=o,e[12]=p):p=e[12];return p}o=(j=f)!=null?j:void 0;e[13]!==h||e[14]!==n?(p=i.jsx(c("CometCompositeStructureContext").Provider,{value:n,children:h}),e[13]=h,e[14]=n,e[15]=p):p=e[15];e[16]!==g||e[17]!==a||e[18]!==b||e[19]!==o||e[20]!==p||e[21]!==l||e[22]!==m?(j=i.jsx(d("react-strict-dom").html.div,{"aria-label":o,"aria-labelledby":g,"data-testid":void 0,ref:b,role:a,style:m,children:p}),e[16]=g,e[17]=a,e[18]=b,e[19]=o,e[20]=p,e[21]=l,e[22]=m,e[23]=j):j=e[23];return j}e=b;g["default"]=e}),98);
__d("CometList_DEPRECATED.react",["BaseList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={margins:{marginBottom:"x1oo3vh0",marginTop:"x1rdy4ex",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(13),f=a.children,g=a.items,h=a.keyNavOrientation_DEPRECATED,k=a.label,l=a.role,m=a.testid;a=a.withNegativeMargins;if(e[0]!==f||e[1]!==g){var n;n=typeof f==="function"?((n=g)!=null?n:[]).map(function(a,b){if(a==null||typeof a!=="object")return null;if(a.key==null)return f({item:a,key:b});a.key;b=babelHelpers.objectWithoutPropertiesLoose(a,["key"]);return f({item:b,key:a.key})}):f;e[0]=f;e[1]=g;e[2]=n}else n=e[2];g=n;e[3]!==h||e[4]!==k||e[5]!==l||e[6]!==m?(n={"aria-label":k,keyNavOrientation_DEPRECATED:h,role:l,testid:m},e[3]=h,e[4]=k,e[5]=l,e[6]=m,e[7]=n):n=e[7];h=n;k=a&&j.margins;e[8]!==h||e[9]!==g||e[10]!==b||e[11]!==k?(l=i.jsx(c("BaseList.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:k,children:g})),e[8]=h,e[9]=g,e[10]=b,e[11]=k,e[12]=l):l=e[12];return l}e=b;g["default"]=e}),98);
__d("FDSNumberedBadge.react",["fbt","CometScreenReaderText.react","CometVisualCompletionAttributes","getFDSBadgeColorStyle","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={badgeCount:{alignItems:"x6s0dn4",color:"xtk6v10",display:"x3nfvp2",height:"x5yr21d",justifyContent:"xl56j7k",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",paddingEnd:"x1mpkggp",width:"xh8yej3",$$css:!0},badgeCountLightBlue:{color:"x1mvi0mv",$$css:!0},rectangle:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",$$css:!0},root:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x3nfvp2",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",height:"xhvdbge",lineHeight:"xo5v014",minWidth:"xnyloks",$$css:!0}};b=k.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(20),f=a.accessibilityText,g=a.color,j=a.overflow,m=a.testid,n=a.value;a=a.vcIgnore;g=g===void 0?"red":g;j=j===void 0?20:j;a=a===void 0?!1:a;var o;e[0]!==a?(o=a===!0?c("CometVisualCompletionAttributes").IGNORE_DYNAMIC:{},e[0]=a,e[1]=o):o=e[1];e[2]!==g||e[3]!==n?(a=(i||(i=c("stylex"))).props(l.root,c("getFDSBadgeColorStyle")(g),n>=10&&l.rectangle),e[2]=g,e[3]=n,e[4]=a):a=e[4];var p;e[5]!==f?(p=(typeof f==="string"||h.isFbtInstance(f))&&k.jsx(c("CometScreenReaderText.react"),{text:f}),e[5]=f,e[6]=p):p=e[6];f=typeof f==="string"||h.isFbtInstance(f)?!0:void 0;var q;e[7]!==g?(q=(i||(i=c("stylex"))).props(l.badgeCount,g==="lightBlue"&&l.badgeCountLightBlue),e[7]=g,e[8]=q):q=e[8];g=n>j?j+"+":n;e[9]!==f||e[10]!==q||e[11]!==g?(j=k.jsx("span",babelHelpers["extends"]({"aria-hidden":f},q,{children:g})),e[9]=f,e[10]=q,e[11]=g,e[12]=j):j=e[12];e[13]!==b||e[14]!==j||e[15]!==o||e[16]!==a||e[17]!==p||e[18]!==m?(n=k.jsxs("span",babelHelpers["extends"]({},o,a,{"data-testid":void 0,ref:b,children:[p,j]})),e[13]=b,e[14]=j,e[15]=o,e[16]=a,e[17]=p,e[18]=m,e[19]=n):n=e[19];return n}e=b;g["default"]=e}),98);
__d("addToMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a.get(b)===c)return a;a=new Map(a);a.set(b,c);return a}f["default"]=a}),66);
__d("removeFromMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.has(b)){var c=new Map(a);c["delete"](b);return c}return a}f["default"]=a}),66);
__d("setupNotificationsLiveQuery",["WebPixelRatio","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometNotificationsReceiveLiveQuery").__setRef("setupNotificationsLiveQuery");function i(a){var b={count:15,environment:"MAIN_SURFACE",filter_tokens:[],refresh_num:0,scale:d("WebPixelRatio").get()};(a==null?void 0:a.count)!=null&&(b.count=a.count);(a==null?void 0:a.receivedNotifications)!=null&&(b.notif_cache_ids=Array.from(a==null?void 0:a.receivedNotifications));(a==null?void 0:a.filterTokens)!=null&&(b.filter_tokens=a==null?void 0:a.filterTokens);return b}var j=0,k=null;function a(a,b){j++;function c(c){c=c.subscribeToNotificationUpdates;var d=i(b);k==null?k=c(a,d):b!=null&&k.updateVariables(d)}h.onReady(c);var d=!1;function e(){if(d)return;d=!0;j--;j===0&&(k!=null&&(k.dispose(),k=null))}return{dispose:e}}g["default"]=a}),98);
__d("updateWidgetServiceWorker",[],(function(a,b,c,d,e,f){"use strict";function a(){var a;(a=navigator.serviceWorker)==null?void 0:(a=a.controller)==null?void 0:a.postMessage({command:"updateWidget"})}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("CometTypeaheadViewListSection.react",["FDSUnitHeader.react","emptyFunction","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={header:{marginBottom:"x1e56ztr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.action,f=a.children,g=a.emptyStateContent,h=a.entries,k=a.highlightedEntry,l=a.itemRole,m=a.onHeaderActionPress,n=a.queryString;a=a.title;var o;b[0]!==e||b[1]!==h.length||b[2]!==m||b[3]!==a?(o=a!=null&&h.length!==0?i.jsx(d("react-strict-dom").html.div,{style:j.header,children:i.jsx(c("FDSUnitHeader.react"),{action_DEPRECATED:(e==null?void 0:e.type)==="link"?e.label:void 0,actionLinkProps:(e==null?void 0:e.type)==="link"?{url:e.url}:void 0,headline:a,level:3,onActionPress:(e==null?void 0:e.type)==="link"?m:c("emptyFunction"),paddingHorizontal:8,paddingTop:12})}):null,b[0]=e,b[1]=h.length,b[2]=m,b[3]=a,b[4]=o):o=b[4];e=h.length===0&&g!=null&&n===""?g:null;b[5]!==f||b[6]!==h||b[7]!==(k==null?void 0:k.key)||b[8]!==l?(m=h.length!==0?i.jsx(d("react-strict-dom").html.ul,{children:h.map(function(a,b){return f({entry:a,index:b,isActive:a.key===(k==null?void 0:k.key),itemRole:l})})}):null,b[5]=f,b[6]=h,b[7]=k==null?void 0:k.key,b[8]=l,b[9]=m):m=b[9];b[10]!==o||b[11]!==e||b[12]!==m?(a=i.jsxs(d("react-strict-dom").html.li,{children:[o,e,m]}),b[10]=o,b[11]=e,b[12]=m,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("CometTypeaheadSectionedViewListStrategy.react",["CometCompositeStructureContext","CometTypeaheadViewListSection.react","getItemRoleFromCompositeRole","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(37),e,f,g,h,k,l;if(b[0]!==a){var m=a.ariaProps,n=a.emptyStateContent,o=a.entries;a.extraViewProps;var p=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var q=a.onHeaderActionPress,r=a.queryString,s=a.viewItemStrategyRenderer,t=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","emptyStateContent","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","onHeaderActionPress","queryString","viewItemStrategyRenderer"]);m=m;f=n;n=o;g=p;h=q;k=r;e=s;l=t;b[0]=a;b[1]=e;b[2]=m;b[3]=f;b[4]=n;b[5]=g;b[6]=h;b[7]=k;b[8]=l}else e=b[1],m=b[2],f=b[3],n=b[4],g=b[5],h=b[6],k=b[7],l=b[8];o=m.role;if(o!=null){b[9]!==o?(p={role:o},b[9]=o,b[10]=p):p=b[10];q=p}else{b[11]===Symbol["for"]("react.memo_cache_sentinel")?(r={},b[11]=r):r=b[11];q=r}s=q;if(n.length===0&&f!=null)return k===""?f:null;b[12]!==o?(t=c("getItemRoleFromCompositeRole")(o),b[12]=o,b[13]=t):t=b[13];var u=t;if(b[14]!==e||b[15]!==f||b[16]!==n||b[17]!==g||b[18]!==u||b[19]!==h||b[20]!==k||b[21]!==l){b[23]!==e||b[24]!==f||b[25]!==g||b[26]!==u||b[27]!==h||b[28]!==k||b[29]!==l?(a=function(a){if(a.type==="section"){var b=a.action,d=a.entries,j=a.key,m=a.label;return i.jsx(c("CometTypeaheadViewListSection.react"),{action:b,emptyStateContent:f,entries:d,highlightedEntry:g,itemRole:u,onHeaderActionPress:h,queryString:k,title:m,children:function(a){var b=a.entry,c=a.isActive;a=a.itemRole;return i.createElement(e,babelHelpers["extends"]({},l,{entry:b,isActive:c,key:b.key,queryString:k,role:a}))}},j)}else{return i.createElement(e,babelHelpers["extends"]({},l,{entry:a,isActive:a.key===((b=g)==null?void 0:b.key),key:a.key,queryString:k,role:u}))}},b[23]=e,b[24]=f,b[25]=g,b[26]=u,b[27]=h,b[28]=k,b[29]=l,b[30]=a):a=b[30];p=n.map(a);b[14]=e;b[15]=f;b[16]=n;b[17]=g;b[18]=u;b[19]=h;b[20]=k;b[21]=l;b[22]=p}else p=b[22];b[31]!==s||b[32]!==p?(r=i.jsx(c("CometCompositeStructureContext").Provider,{value:s,children:p}),b[31]=s,b[32]=p,b[33]=r):r=b[33];b[34]!==m||b[35]!==r?(q=i.jsx(d("react-strict-dom").html.ul,babelHelpers["extends"]({},m,{"data-testid":void 0,style:j.root,children:r})),b[34]=m,b[35]=r,b[36]=q):q=b[36];return q}g["default"]=a}),98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a}),66);
__d("useCometTypeaheadSectionedViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadSectionedViewListStrategy.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.emptyStateContent,f=a.nullstateContent,g=a.onHeaderActionPress,h=a.viewItemStrategyRenderer,j=a.viewXStyle;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j?(a=function(a){var b=a.entries,k=a.isLoading,l=a.onAbandonTypeahead_DO_NOT_USE,m=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]);return m.length===0&&f!=null?f:i.jsxs(d("react-strict-dom").html.div,{style:j,children:[i.jsx(c("CometTypeaheadSectionedViewListStrategy.react"),babelHelpers["extends"]({},a,{emptyStateContent:e,entries:b,isLoading:k,onHeaderActionPress:function(){l==null?void 0:l(),g==null?void 0:g()},queryString:m,viewItemStrategyRenderer:h})),k&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=a):a=b[5];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSDatascriptEvaluatorDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferredForDisplay");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformCometClientStartEagerly",["LSPlatformClientInstances","LSPlatformLsInitLog","LSPlatformMessengerConfig","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformCometClientStartEagerly");function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("LSPlatformLsInitLog").addPoint("load_ls_platform_client");d("LSPlatformLsInitLog").annotateModuleBootloaderState("lsModuleStateBefore");var c=(yield h.load());d("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded");return c.make(a,b)});return j.apply(this,arguments)}function a(){try{c("LSPlatformClientInstances").getOrInit(d("LSPlatformMessengerConfig").config,i)}catch(a){return}}g.start=a}),98);
__d("LSPlatformEvaluateInitSyncEagerly",["ExecutionEnvironment","LSClearEpochBeforeResumeSync","LSDatabaseProviderType","LSPlatformDeviceId","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","asyncToGeneratorRuntime","cr:3411","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){d("LSPlatformLsInitLog").addPoint("ds_eval_registration");e=(yield e());var f;try{f=b("cr:3411")!=null?b("cr:3411").registerEval(e)()(a):e()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),f=e()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");return f});return function(b,c){return a.apply(this,arguments)}}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return!1;if(!a.sendHardcodedInitSync)return!1;var b=a.eagerEvaluatorForInitSync;if(b==null)return!1;var e=(yield a.getDb());if(d("LSDatabaseProviderType").isProviderPersisted(e))return!1;d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_start");var f=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");b=(yield i(e,b));yield d("LSClearEpochBeforeResumeSync").call(e);yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(a,b,e,f);d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_end");return!0});return j.apply(this,arguments)}g.getDatascriptEvaluator=i;g.maybeEvaluateInitSyncEagerly=a}),98);/*FB_PKG_DELIM*/
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),k=(h=b("cr:6998"))!=null?h:b("cr:7349"),l=[];function a(a){l.push(a)}function e(){k==null?void 0:k.completeSync();void j.load().then(function(a){return a.startMAWThreadConsistencyLogger()});if(l.length===0){k==null?void 0:k.maybeEndOccamadilloThreadMapping();return}c("promiseDone")((i||(i=b("Promise"))).allSettled(l.map(function(a){return a()})),function(){return k==null?void 0:k.maybeEndOccamadilloThreadMapping()})}function f(){d("MAWMIC").addPoint("ls_init_end")}function m(){d("MAWMIC").addPoint("ls_init_start")}function n(){d("MAWMIC").addPoint("ls_sync_start")}function o(){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.ls_sync_end)}function p(a){d("MAWMIC").fail("init_sync_failure",a)}g.executeOnThreadMappingEnd=a;g.occamadilloInitEnd=e;g.reportInitEnd=f;g.reportInitStart=m;g.reportSyncStart=n;g.reportSyncEnd=o;g.reportInitSyncFailure=p}),98);/*FB_PKG_DELIM*/
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6586"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6586")}),98);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="8961858637258523"}),null);
__d("getMWLSRegion",["MessengerWebRegion"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;return a==null?"":a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ChannelClientID",["MqttWebDeviceID","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("21118")?c("uuidv4")():(a=c("MqttWebDeviceID")==null?void 0:c("MqttWebDeviceID").clientID)!=null?a:c("uuidv4")();b={getID:function(){return h}};f.exports=b}),34);